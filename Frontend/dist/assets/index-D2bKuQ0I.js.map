{"version":3,"file":"index-D2bKuQ0I.js","sources":["../../src/Firebase_config.jsx","../../src/LoginAuth.jsx","../../src/Signupin.jsx","../../components/checkin.jsx","../../public/logo.png","../../components/Header.jsx","../../services/chatService.js","../../components/Chatbot/Chatbot.jsx","../../public/logo1.png","../../src/assets/about.jpg","../../src/assets/room-1.jpg","../../src/assets/facebook.png","../../src/assets/instagram.png","../../src/assets/youtube.png","../../components/gallery/Gallery.jsx","../../src/home.jsx","../../src/Public.jsx","../../src/assets/icons/alert.svg","../../src/assets/icons/bell.svg","../../src/assets/icons/bills.svg","../../src/assets/icons/budget.svg","../../src/assets/icons/card.svg","../../src/assets/icons/check.svg","../../src/assets/icons/empty_check.svg","../../src/assets/icons/gears.svg","../../src/assets/icons/home.svg","../../src/assets/icons/menu.svg","../../src/assets/icons/plane.svg","../../src/assets/icons/plus.svg","../../src/assets/icons/report.svg","../../src/assets/icons/search.svg","../../src/assets/icons/user.svg","../../src/assets/icons/wallet.svg","../../src/assets/icons/wealth.svg","../../src/assets/images/person_one.jpg","../../src/assets/images/person_two.jpg","../../src/assets/images/person_three.jpg","../../src/assets/images/person_four.jpg","../../src/utils/images.js","../../src/data/data.js","../../src/context/sidebarContext.jsx","../../src/layout/Sidebar/Sidebar.jsx","../../src/components/ContentTop/ContentTop.jsx","../../src/components/Cards/Cards.jsx","../../src/components/Transactions/Transactions.jsx","../../src/components/Report/Report.jsx","../../src/components/Budget/Budget.jsx","../../src/components/Subscriptions/Subscriptions.jsx","../../src/components/Savings/Savings.jsx","../../src/components/Loans/Loans.jsx","../../src/components/Financial/Financial.jsx","../../src/components/ContentMain/ContentMain.jsx","../../src/layout/Content/Content.jsx","../../src/ManagerPanel.jsx","../../components/footer.jsx","../../src/services/recommendationService.js","../../src/Rooms.jsx","../../src/RoomInfo.jsx","../../src/components/Search/SearchItem.jsx","../../src/List.jsx","../../src/useAuth.jsx","../../components/Mybookings/MyBookings.jsx","../../utils/tesseractService.js","../../utils/documentVerification.js","../../src/GuestDetailsForm.jsx","../../src/Roomreserve.jsx","../../components/profile/MyProfile.jsx","../../src/components/QRSystem/QRGenerator.jsx","../../components/bookingdetails/BookingDetails.jsx","../../src/SeeRoomDetails.jsx","../../components/savedguest/savedguest.jsx","../../src/routes/PrivateRoute.jsx","../../components/restaurant/ARView.jsx","../../components/restaurant/MenuDisplay.jsx","../../components/restaurant/CartManagement.jsx","../../components/shared/Loader.jsx","../../components/restaurant/OrderHistory.jsx","../../components/restaurant/TableReservation.jsx","../../components/LoadingSpinner.jsx","../../components/restaurant/MyTableReservation.jsx","../../src/routes/RestaurantRoutes.jsx","../../src/Login.jsx","../../src/services/geminiAPI.js","../../src/components/TravelGuide/TravelGuide.jsx","../../src/components/TravelGuide/TransportInfo.jsx","../../src/components/Guide/Guide.jsx","../../src/components/QRSystem/QRScanner.jsx","../../src/App.jsx","../../src/main.jsx"],"sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBqSxRNw_jGGxvp2ElWka0mXVHnVm7aZXo\",\r\n  authDomain: \"intellistay-1f610.firebaseapp.com\",\r\n  projectId: \"intellistay-1f610\",\r\n  storageBucket: \"intellistay-1f610.appspot.com\",\r\n  messagingSenderId: \"1095715454581\",\r\n  appId: \"1:1095715454581:web:ed99b350f4cf4276e6823c\",\r\n  measurementId: \"G-K3ZEB8MFQK\"\r\n};\r\n\r\n// Initialize Firebase\r\nexport const firebaseApp = initializeApp(firebaseConfig);","import React, { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst LoginAuth = () => {\r\n  const history = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n\r\n    if (token) {\r\n      history('/');\r\n      // Optionally show a session expired message\r\n      \r\n    }\r\n  }, [history]);\r\n};\r\n\r\nexport default LoginAuth;","import React, { useState ,useEffect, useRef} from 'react';\r\nimport './Style.css';\r\nimport axios from 'axios';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { getAuth, signInWithPopup, GoogleAuthProvider } from \"firebase/auth\";\r\nimport { firebaseApp } from \"./Firebase_config\"; // Ensure firebaseApp is correctly initialized\r\nimport Swal from 'sweetalert2';\r\nimport LoginAuth from './LoginAuth';\r\nimport * as faceapi from 'face-api.js';\r\n\r\nconst auth = getAuth(firebaseApp);\r\nconst googleProvider = new GoogleAuthProvider();\r\n\r\nfunction Signupin() {\r\n  LoginAuth();\r\n  axios.defaults.withCredentials = true;\r\n  const [signUpMode, setSignUpMode] = useState(false);\r\n  const [otp, setOtp] = useState('');\r\n  const [isOtpSent, setIsOtpSent] = useState(false);\r\n  const [isOtpVerified, setIsOtpVerified] = useState(false);\r\n  const [verifytoken, settoken] = useState(false);\r\n\r\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\r\nconst [otpSent, setOtpSent] = useState(false);\r\nconst [otpVerified, setOtpVerified] = useState(false);\r\nconst [resetPasswordData, setResetPasswordData] = useState({ emailReset: '', otp: '', newPassword: '', confirmPassword: '' });\r\n\r\nconst [useFaceLogin, setUseFaceLogin] = useState(false);\r\nconst [faceEmail, setFaceEmail] = useState('');\r\nconst [isProcessing, setIsProcessing] = useState(false);\r\nconst [prompt, setPrompt] = useState('');\r\nconst videoRef = useRef(null);\r\nconst streamRef = useRef(null);\r\nconst [verificationAttempts, setVerificationAttempts] = useState(0);\r\nconst [lastFailedAttempt, setLastFailedAttempt] = useState(null);\r\nconst [isFaceApiLoaded, setIsFaceApiLoaded] = useState(false);\r\n\r\nconst handleForgotPassword = (e) => {\r\n  e.preventDefault();\r\n  axios.post(`${import.meta.env.VITE_API}/send-otp`, { email: resetPasswordData.emailReset })\r\n    .then(res => {\r\n      if (res.status === 200) {\r\n        setOtpSent(true);\r\n        Swal.fire('OTP sent to your email.');\r\n      }\r\n      else{\r\n        Swal.fire(res.data.message);\r\n      }\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n\r\nconst handleVerifyOtp = (e) => {\r\n  e.preventDefault();\r\n  axios.post(`${import.meta.env.VITE_API}/verify`, { email: resetPasswordData.emailReset, otp: resetPasswordData.otp })\r\n    .then(res => {\r\n      if (res.status === 200) {\r\n        setOtpVerified(true);\r\n        Swal.fire('OTP verified successfully.');\r\n        settoken(res.data.token)\r\n        consolelog(verifytoken)\r\n\r\n      }\r\n      else{\r\n        Swal.fire(res.data.message);\r\n      }\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nconst handleResetPassword = (e) => {\r\n  e.preventDefault();\r\n  if (resetPasswordData.newPassword !== resetPasswordData.confirmPassword) {\r\n    Swal.fire('Passwords do not match!');\r\n    return;\r\n  }\r\n  axios.post(`${import.meta.env.VITE_API}/reset-password`, { email: resetPasswordData.emailReset, password: resetPasswordData.newPassword,token:verifytoken })\r\n    .then(res => {\r\n      if (res.status === 200) {\r\n        Swal.fire('Password reset successfully.');\r\n        setShowForgotPassword(false);\r\n        setOtpSent(false);\r\n        setOtpVerified(false);\r\n      }\r\n      else{\r\n        Swal.fire(res.data.message);\r\n      }\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n\r\n\r\nconst handleResetPasswordChange = (e) => {\r\n  setResetPasswordData({ ...resetPasswordData, [e.target.name]: e.target.value });\r\n};\r\n\r\n  const handleSignUpClick = () => {\r\n    setSignUpMode(true);\r\n  };\r\n\r\n  const handleSignInClick = () => {\r\n    setSignUpMode(false);\r\n  };\r\n  const [datas,setdatas]=useState({});\r\nconst [formData, setFormData] = useState({\r\n    firstname: '',\r\n    email: '',\r\n    password: '',\r\n    cpassword: '',\r\n    emailsign: '',\r\n    passwordsign: '',\r\n\r\n});\r\n\r\nconst[focus, setFocus]=useState({\r\n    errFirstname: false,\r\n    errEmail: false,\r\n    errPassword: false,\r\n    errCpassword: false,\r\n    errEmailsign: false,\r\n    errPasswordsign: false,\r\n    errnewPassword: false,\r\n    errconfirmPassword: false,\r\n})\r\n\r\n\r\n\r\n\r\nconst handleChange=(e)=>{\r\n    const name=e.target.name;\r\n    const value=e.target.value;\r\n    setFormData({\r\n        ...formData, [name] : value\r\n    })\r\n}\r\nconst navigate=useNavigate();\r\n\r\n// const handleSubmit=(e)=>{\r\n//     e.preventDefault()\r\n//     axios.post('${import.meta.env.VITE_API}/register',{...formData})\r\n//     .then(res =>{console.log(res)\r\n//       if(res.data===\"exists\"){\r\n//         Swal.fire(\"email already exists...\")\r\n//       }\r\n//       else{\r\n//         setSignUpMode(false);\r\n//         Swal.fire(\"submitted successfully. :)\")}\r\n//     })\r\n//     .catch(err => console.log(err)) \r\n// }\r\n\r\n\r\nconst handleSubmit = (e) => {\r\n  e.preventDefault();\r\n  // Send registration request\r\n  axios.post(`${import.meta.env.VITE_API}/register`, formData)\r\n    .then(res => {\r\n      console.log(res.data.formdata)\r\n      setdatas({...res.data.formdata})\r\n      if (res.data.message === 'OTP sent to your email.') {\r\n        \r\n        setIsOtpSent(true); \r\n        \r\n\r\n        // OTP was sent, show OTP input\r\n      }\r\n      if (res.data.message === 'Email already exists.') {\r\n        Swal.fire(\"email already exists...\")\r\n        // OTP was sent, show OTP input\r\n      }\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nconst handleOtpSubmit = () => {\r\n  // Send OTP verification request\r\n  \r\n  setdatas({...datas, otp : otp })\r\n  console.log(datas);\r\n  axios.post(`${import.meta.env.VITE_API}/verify-otp`, datas)\r\n    .then(res => {\r\n      if (res.status === 200) {\r\n\r\n        setIsOtpVerified(true);\r\n        setSignUpMode(false);\r\n        Swal.fire('Registration completed successfully!');\r\n      }else if(res.status === 400){\r\n        Swal.fire('Error',res.data.message,'error');\r\n      }\r\n       else {\r\n        Swal.fire('Invalid OTP, please try again.');\r\n      }\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nconst handleLogin=(e)=>{\r\n    e.preventDefault()\r\n    axios.post(`${import.meta.env.VITE_API}/user/login`,{...formData})\r\n    .then(res => {console.log(res.data)\r\n      \r\n        if(res.data.message === 'success'){\r\n          localStorage.setItem('userEmail', res.data.data);\r\n          localStorage.setItem('userId', res.data.id);\r\n          localStorage.setItem('token', res.data.token);\r\n          localStorage.setItem(\"displayName\",res.data.displayName);\r\n            navigate('/')\r\n        }else\r\n        {\r\n          Swal.fire(res.data)\r\n        }\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\n// const loginwithgoogle=()=>{\r\n//   window.open(\"${import.meta.env.VITE_API}/auth/google/callback\",\"_self\")\r\n// }\r\n\r\n\r\nconst signInWithGoogle = () => {\r\n    signInWithPopup(auth, googleProvider)\r\n      .then((result) => {\r\n        const credential = GoogleAuthProvider.credentialFromResult(result);\r\n        const token = credential.accessToken;\r\n        const user = result.user;\r\n\r\n        const fields = {\r\n          name: user.providerData[0].displayName,\r\n          email: user.providerData[0].email,\r\n          password: null,\r\n          images: user.providerData[0].photoURL,\r\n        };\r\n\r\n       \r\n\r\n\r\n        axios.post(`${import.meta.env.VITE_API}/user/authWithGoogle`, fields).then((res) => {\r\n          try {\r\n            if (res.status === 200) {\r\n              localStorage.setItem(\"token\", res.data.token);\r\n\r\n              const user = {\r\n                name: res.data.user?.name,\r\n                email: res.data.user?.email,\r\n                userId: res.data.user?._id,\r\n                displayName: res.data.user?.displayName\r\n              };\r\n\r\n              localStorage.setItem(\"userEmail\", user.email);\r\n              localStorage.setItem(\"userId\", user.userId);\r\n              localStorage.setItem(\"displayName\",user.displayName);\r\n\r\n              Swal.fire(res.data.msg);\r\n              navigate('/')\r\n\r\n             \r\n            } else {\r\n              Swal.fire(res.data.msg);\r\n              navigate('/signup')\r\n              \r\n            }\r\n          } catch (error) {\r\n            console.log(error);\r\n           \r\n          }\r\n        });\r\n\r\n        Swal.fire(\"User authentication successful!\");\r\n      })\r\n      .catch((error) => {\r\n        Swal.fire( error.message);\r\n       \r\n      });\r\n  };\r\n\r\nuseEffect(() => {\r\n  const loadFaceModels = async () => {\r\n    try {\r\n      const MODEL_URL = '/models';\r\n      await Promise.all([\r\n        faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL),\r\n        faceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL),\r\n        faceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL)\r\n      ]);\r\n    } catch (error) {\r\n      console.error('Error loading face models:', error);\r\n    }\r\n  };\r\n  loadFaceModels();\r\n\r\n  // Cleanup function\r\n  return () => {\r\n    if (streamRef.current) {\r\n      streamRef.current.getTracks().forEach(track => track.stop());\r\n    }\r\n  };\r\n}, []);\r\n\r\nconst handleFaceLogin = async (e) => {\r\n  e.preventDefault();\r\n  if (isProcessing) return;\r\n  \r\n  if (!faceEmail) {\r\n    Swal.fire({\r\n      icon: 'warning',\r\n      title: 'Email Required',\r\n      text: 'Please enter your email to proceed with face login'\r\n    });\r\n    return;\r\n  }\r\n\r\n  try {\r\n    setIsProcessing(true);\r\n\r\n    // Initialize camera\r\n    const stream = await navigator.mediaDevices.getUserMedia({ \r\n      video: {\r\n        width: 640,\r\n        height: 480,\r\n        facingMode: \"user\"\r\n      }\r\n    });\r\n    \r\n    videoRef.current.srcObject = stream;\r\n    await new Promise(resolve => videoRef.current.onloadedmetadata = () => resolve());\r\n    videoRef.current.play();\r\n\r\n    // Show progress\r\n    const loadingSwal = Swal.fire({\r\n      title: 'Face Verification',\r\n      html: 'Please look at the camera and stay still',\r\n      allowOutsideClick: false,\r\n      showConfirmButton: false,\r\n      didOpen: () => {\r\n        Swal.showLoading();\r\n      }\r\n    });\r\n\r\n    // Wait for face detection\r\n    let detection = null;\r\n    let attempts = 0;\r\n    const maxAttempts = 30;\r\n\r\n    while (!detection && attempts < maxAttempts) {\r\n      detection = await faceapi.detectSingleFace(\r\n        videoRef.current,\r\n        new faceapi.TinyFaceDetectorOptions()\r\n      ).withFaceLandmarks().withFaceDescriptor();\r\n\r\n      if (!detection) {\r\n        attempts++;\r\n        await new Promise(resolve => setTimeout(resolve, 100));\r\n      }\r\n    }\r\n\r\n    if (!detection) {\r\n      throw new Error('Unable to detect face. Please ensure good lighting and face visibility.');\r\n    }\r\n\r\n    // Create canvas and get image data\r\n    const canvas = document.createElement('canvas');\r\n    canvas.width = videoRef.current.videoWidth;\r\n    canvas.height = videoRef.current.videoHeight;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\r\n\r\n    // Prepare verification data\r\n    const verificationData = {\r\n      email: faceEmail,\r\n      faceDescriptor: Array.from(detection.descriptor).map(val => Number(val.toFixed(8))), // Ensure numeric values with fixed precision\r\n      image: canvas.toDataURL('image/jpeg', 0.8)\r\n    };\r\n\r\n    // Send verification request\r\n    const response = await axios.post(\r\n      `${import.meta.env.VITE_API}/user/verify-face`,\r\n      verificationData,\r\n      {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      }\r\n    );\r\n\r\n    if (response.data.success) {\r\n      localStorage.setItem('userEmail', response.data.email);\r\n      localStorage.setItem('userId', response.data._id);\r\n      localStorage.setItem('token', response.data.token);\r\n      localStorage.setItem(\"displayName\", response.data.displayName);\r\n\r\n      await Swal.fire({\r\n        icon: 'success',\r\n        title: 'Login Successful',\r\n        text: 'Welcome back!',\r\n        timer: 1500,\r\n        showConfirmButton: false\r\n      });\r\n\r\n      navigate('/');\r\n    } else {\r\n      throw new Error(response.data.message || 'Verification failed');\r\n    }\r\n\r\n  } catch (error) {\r\n    console.error('Face login error:', error);\r\n    const errorMessage = error.response?.data?.message || \r\n                        error.message || \r\n                        'Face verification failed';\r\n    \r\n    Swal.fire({\r\n      icon: 'error',\r\n      title: 'Verification Failed',\r\n      text: errorMessage,\r\n      footer: 'ðŸ’¡ Tip: Ensure good lighting and keep your face clearly visible'\r\n    });\r\n  } finally {\r\n    if (videoRef.current?.srcObject) {\r\n      videoRef.current.srcObject.getTracks().forEach(track => track.stop());\r\n      videoRef.current.srcObject = null;\r\n    }\r\n    setIsProcessing(false);\r\n  }\r\n};\r\n\r\n// Helper functions\r\nconst calculateEyeAspectRatio = (landmarks) => {\r\n  const leftEye = landmarks.getLeftEye();\r\n  const rightEye = landmarks.getRightEye();\r\n  return (getEAR(leftEye) + getEAR(rightEye)) / 2;\r\n};\r\n\r\nconst getEAR = (eye) => {\r\n  const p2_p6 = euclideanDistance(eye[1], eye[5]);\r\n  const p3_p5 = euclideanDistance(eye[2], eye[4]);\r\n  const p1_p4 = euclideanDistance(eye[0], eye[3]);\r\n  return (p2_p6 + p3_p5) / (2.0 * p1_p4);\r\n};\r\n\r\nconst euclideanDistance = (p1, p2) => {\r\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\r\n};\r\n\r\nconst calculateHeadPose = (landmarks) => {\r\n  const nose = landmarks.getNose();\r\n  const leftEye = landmarks.getLeftEye();\r\n  const rightEye = landmarks.getRightEye();\r\n  const jawOutline = landmarks.getJawOutline();\r\n\r\n  // Calculate center points\r\n  const eyeCenter = {\r\n    x: (getMeanPoint(leftEye).x + getMeanPoint(rightEye).x) / 2,\r\n    y: (getMeanPoint(leftEye).y + getMeanPoint(rightEye).y) / 2\r\n  };\r\n\r\n  const nosePoint = getMeanPoint(nose);\r\n  const jawCenter = getMeanPoint(jawOutline);\r\n\r\n  // Calculate angles\r\n  const yaw = calculateYawAngle(leftEye, rightEye);\r\n  const pitch = calculatePitchAngle(nosePoint, eyeCenter, jawCenter);\r\n  const roll = calculateRollAngle(leftEye, rightEye);\r\n\r\n  return { yaw, pitch, roll };\r\n};\r\n\r\nconst getMeanPoint = (points) => {\r\n  const sum = points.reduce((acc, point) => ({\r\n    x: acc.x + point.x,\r\n    y: acc.y + point.y\r\n  }), { x: 0, y: 0 });\r\n\r\n  return {\r\n    x: sum.x / points.length,\r\n    y: sum.y / points.length\r\n  };\r\n};\r\n\r\nconst calculateYawAngle = (leftEye, rightEye) => {\r\n  const leftPoint = getMeanPoint(leftEye);\r\n  const rightPoint = getMeanPoint(rightEye);\r\n  \r\n  // Calculate eye width ratio as an indicator of yaw\r\n  const eyeDistance = euclideanDistance(leftPoint, rightPoint);\r\n  const normalizedDistance = eyeDistance / 100; // Normalize by expected distance\r\n  \r\n  // Convert to angle (-30 to 30 degrees)\r\n  return (1 - normalizedDistance) * 60 - 30;\r\n};\r\n\r\nconst calculatePitchAngle = (nose, eyeCenter, jawCenter) => {\r\n  // Calculate vertical ratios to determine pitch\r\n  const eyeToNose = euclideanDistance(eyeCenter, nose);\r\n  const noseToJaw = euclideanDistance(nose, jawCenter);\r\n  const ratio = eyeToNose / noseToJaw;\r\n  \r\n  // Convert ratio to angle (-30 to 30 degrees)\r\n  return (ratio - 0.5) * 60;\r\n};\r\n\r\nconst calculateRollAngle = (leftEye, rightEye) => {\r\n  const leftPoint = getMeanPoint(leftEye);\r\n  const rightPoint = getMeanPoint(rightEye);\r\n  \r\n  // Calculate angle between eyes\r\n  const deltaY = rightPoint.y - leftPoint.y;\r\n  const deltaX = rightPoint.x - leftPoint.x;\r\n  \r\n  // Convert to degrees\r\n  return Math.atan2(deltaY, deltaX) * (180 / Math.PI);\r\n};\r\n\r\nconst calculateDepthVariance = (frames) => {\r\n  if (frames.length < 2) return 0;\r\n  \r\n  const depthValues = frames.map(frame => {\r\n    const nose = getMeanPoint(frame.landmarks.filter((_, i) => i >= 27 && i <= 35));\r\n    return nose.x; // Using x position as a simple depth indicator\r\n  });\r\n  \r\n  // Calculate variance\r\n  const mean = depthValues.reduce((a, b) => a + b) / depthValues.length;\r\n  const variance = depthValues.reduce((a, b) => a + Math.pow(b - mean, 2), 0) / depthValues.length;\r\n  \r\n  return Math.min(variance / 1000, 1); // Normalize to 0-1\r\n};\r\n\r\nconst calculateTextureVariance = (frames) => {\r\n  // Simplified texture variance calculation\r\n  return 0.85; // Return a reasonable default value\r\n};\r\n\r\nconst calculateHighlights = (video) => {\r\n  // Create canvas to analyze video frame\r\n  const canvas = document.createElement('canvas');\r\n  const ctx = canvas.getContext('2d');\r\n  canvas.width = video.videoWidth;\r\n  canvas.height = video.videoHeight;\r\n  ctx.drawImage(video, 0, 0);\r\n  \r\n  // Get image data\r\n  const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n  const data = imageData.data;\r\n  \r\n  // Calculate average brightness\r\n  let total = 0;\r\n  for (let i = 0; i < data.length; i += 4) {\r\n    total += (data[i] + data[i + 1] + data[i + 2]) / 3;\r\n  }\r\n  \r\n  return total / (data.length / 4);\r\n};\r\n\r\nconst calculateShadows = (video) => {\r\n  // Similar to highlights but focus on dark areas\r\n  const canvas = document.createElement('canvas');\r\n  const ctx = canvas.getContext('2d');\r\n  canvas.width = video.videoWidth;\r\n  canvas.height = video.videoHeight;\r\n  ctx.drawImage(video, 0, 0);\r\n  \r\n  const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n  const data = imageData.data;\r\n  \r\n  let darkPixels = 0;\r\n  for (let i = 0; i < data.length; i += 4) {\r\n    const brightness = (data[i] + data[i + 1] + data[i + 2]) / 3;\r\n    if (brightness < 50) darkPixels++;\r\n  }\r\n  \r\n  return darkPixels / (data.length / 4) * 255;\r\n};\r\n\r\nconst calculateUniformity = (video) => {\r\n  const canvas = document.createElement('canvas');\r\n  const ctx = canvas.getContext('2d');\r\n  canvas.width = video.videoWidth;\r\n  canvas.height = video.videoHeight;\r\n  ctx.drawImage(video, 0, 0);\r\n  \r\n  const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n  const data = imageData.data;\r\n  \r\n  let variance = 0;\r\n  let mean = 0;\r\n  \r\n  // Calculate mean brightness\r\n  for (let i = 0; i < data.length; i += 4) {\r\n    mean += (data[i] + data[i + 1] + data[i + 2]) / 3;\r\n  }\r\n  mean /= (data.length / 4);\r\n  \r\n  // Calculate variance\r\n  for (let i = 0; i < data.length; i += 4) {\r\n    const brightness = (data[i] + data[i + 1] + data[i + 2]) / 3;\r\n    variance += Math.pow(brightness - mean, 2);\r\n  }\r\n  variance /= (data.length / 4);\r\n  \r\n  // Convert to uniformity (0-1)\r\n  return 1 - Math.min(variance / 10000, 1);\r\n};\r\n\r\nconst calculateSpoofingScore = (frames) => {\r\n  // Combine multiple metrics for spoofing detection\r\n  const textureScore = calculateTextureVariance(frames);\r\n  const movementScore = calculateMovementNaturalness(frames);\r\n  const depthScore = calculateDepthVariance(frames);\r\n  \r\n  return (textureScore + movementScore + depthScore) / 3;\r\n};\r\n\r\nconst calculateMovementNaturalness = (frames) => {\r\n  if (frames.length < 3) return 0;\r\n  \r\n  let score = 0;\r\n  for (let i = 1; i < frames.length - 1; i++) {\r\n    const prevMetrics = frames[i - 1].metrics;\r\n    const currentMetrics = frames[i].metrics;\r\n    const nextMetrics = frames[i + 1].metrics;\r\n    \r\n    // Check for smooth movement transitions\r\n    const smoothness = calculateMovementSmoothness(\r\n      prevMetrics.headPose,\r\n      currentMetrics.headPose,\r\n      nextMetrics.headPose\r\n    );\r\n    score += smoothness;\r\n  }\r\n  \r\n  return score / (frames.length - 2);\r\n};\r\n\r\nconst calculateMovementSmoothness = (prev, current, next) => {\r\n  const yawDiff1 = Math.abs(current.yaw - prev.yaw);\r\n  const yawDiff2 = Math.abs(next.yaw - current.yaw);\r\n  \r\n  // Penalize sudden changes in movement\r\n  const smoothness = 1 - Math.abs(yawDiff2 - yawDiff1) / 90;\r\n  return Math.max(0, Math.min(1, smoothness));\r\n};\r\n\r\nconst calculateAcceleration = (movements, currentAngle) => {\r\n  if (movements.length < 2) return 0;\r\n  \r\n  const lastMovement = movements[movements.length - 1];\r\n  const timeDiff = (Date.now() - lastMovement.timestamp) / 1000; // Convert to seconds\r\n  \r\n  if (timeDiff === 0) return 0;\r\n  \r\n  // Calculate angular velocity change\r\n  const currentVelocity = Math.abs(currentAngle - lastMovement.angle) / timeDiff;\r\n  const previousVelocity = lastMovement.velocity || 0;\r\n  \r\n  // Calculate acceleration (change in velocity over time)\r\n  const acceleration = Math.abs(currentVelocity - previousVelocity) / timeDiff;\r\n  \r\n  // Normalize acceleration to a 0-1 range\r\n  return Math.min(acceleration / 100, 1);\r\n};\r\n\r\nconst generateDepthMap = (landmarks) => {\r\n  if (!landmarks || landmarks.length === 0) return [];\r\n\r\n  // Convert landmarks to 3D points with estimated depth\r\n  return landmarks.map(point => {\r\n    // Calculate relative depth based on facial feature position\r\n    let z = 0.5; // Default depth\r\n\r\n    // Adjust depth based on facial region\r\n    const x = point.x;\r\n    const y = point.y;\r\n\r\n    // Center points (nose region) should appear closer\r\n    const centerX = landmarks.reduce((sum, p) => sum + p.x, 0) / landmarks.length;\r\n    const centerY = landmarks.reduce((sum, p) => sum + p.y, 0) / landmarks.length;\r\n    \r\n    // Calculate distance from center\r\n    const distanceFromCenter = Math.sqrt(\r\n      Math.pow(x - centerX, 2) + \r\n      Math.pow(y - centerY, 2)\r\n    );\r\n\r\n    // Normalize distance to affect depth\r\n    const maxDistance = Math.sqrt(\r\n      Math.pow(640, 2) + // assuming 640x480 video\r\n      Math.pow(480, 2)\r\n    );\r\n    \r\n    // Adjust z based on distance from center\r\n    z = 0.5 + (distanceFromCenter / maxDistance) * 0.5;\r\n\r\n    return {\r\n      x: x,\r\n      y: y,\r\n      z: z\r\n    };\r\n  });\r\n};\r\n\r\n// Helper function to normalize depth values\r\nconst normalizeDepth = (value, min, max) => {\r\n  return (value - min) / (max - min);\r\n};\r\n\r\n// Helper function to estimate depth from facial features\r\nconst estimateDepthFromFeatures = (point, landmarks) => {\r\n  // Define key facial feature indices\r\n  const noseBaseIndex = 30;\r\n  const leftEyeIndex = 36;\r\n  const rightEyeIndex = 45;\r\n  \r\n  // Get distances to key features\r\n  const distToNose = euclideanDistance(point, landmarks[noseBaseIndex]);\r\n  const distToLeftEye = euclideanDistance(point, landmarks[leftEyeIndex]);\r\n  const distToRightEye = euclideanDistance(point, landmarks[rightEyeIndex]);\r\n  \r\n  // Use average distance to estimate depth\r\n  return (distToNose + distToLeftEye + distToRightEye) / 3;\r\n};\r\n\r\n  return (\r\n    <div className={`container ${signUpMode ? 'sign-up-mode' : ''}`}>\r\n      <div className=\"forms-container\">\r\n        <div className=\"signin-signup\">\r\n        {!showForgotPassword ? (\r\n          <form className=\"sign-in-form\" onSubmit={useFaceLogin ? handleFaceLogin : handleLogin}>\r\n            <h2 className=\"title\">Sign in</h2>\r\n            {useFaceLogin ? (\r\n              <div className=\"face-login-container\">\r\n                <div className=\"input-field\">\r\n                  <i className=\"fas fa-envelope\"></i>\r\n                  <input\r\n                    type=\"email\"\r\n                    placeholder=\"Enter your email\"\r\n                    value={faceEmail}\r\n                    onChange={(e) => setFaceEmail(e.target.value)}\r\n                    required\r\n                  />\r\n                </div>\r\n                \r\n                <video\r\n                  ref={videoRef}\r\n                  autoPlay\r\n                  playsInline\r\n                  muted\r\n                  style={{\r\n                    width: '300px',\r\n                    height: '225px',\r\n                    borderRadius: '10px',\r\n                    marginBottom: '20px',\r\n                    border: '2px solid #4481eb',\r\n                    transform: 'scaleX(-1)',\r\n                    display: isProcessing ? 'block' : 'none'\r\n                  }}\r\n                />\r\n                \r\n                {prompt && (\r\n                  <div className=\"prompt-message\">\r\n                    {prompt}\r\n                  </div>\r\n                )}\r\n                \r\n                <button \r\n                  type=\"submit\" \r\n                  className=\"btn solid\"\r\n                  disabled={isProcessing}\r\n                >\r\n                  {isProcessing ? 'Processing...' : 'Face Login'}\r\n                </button>\r\n                \r\n                <button \r\n                  type=\"button\" \r\n                  className=\"btn transparent\"\r\n                  onClick={() => setUseFaceLogin(false)}\r\n                  disabled={isProcessing}\r\n                >\r\n                  Use Password Instead\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <div className=\"input-field\">\r\n                  <i className=\"fas fa-envelope\"></i>\r\n                  <input id=\"email\" type=\"email\" name=\"emailsign\" placeholder=\"Email\" value={formData.emailsign} onChange={handleChange} onBlur={()=>setFocus({...focus,errEmailsign: true})} focus={focus.errEmailsign.toString()} required />\r\n                  <span>Enter a valid email id</span>\r\n                </div>\r\n                <div className=\"input-field\">\r\n                  <i className=\"fas fa-lock\"></i>\r\n                  <input id=\"password\" type=\"password\" name=\"passwordsign\" pattern=\"^(?=.*[a-zA-Z])(?=.*\\d)(?=.*[^a-zA-Z\\d])([a-zA-Z\\d[^a-zA-Z\\d]]{6,50})$\" placeholder=\"Password\" value={formData.passwordsign} onChange={handleChange} onBlur={()=>setFocus({...focus,errPasswordsign: true})} focus={focus.errPasswordsign.toString()} required />\r\n                  <span>Password must be at least 6 characters long and include a letter, number, and special character</span>\r\n                </div>\r\n                <p className=\"forgot-password\" onClick={() => setShowForgotPassword(true)}>Forgot Password?</p>\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"btn transparent\"\r\n                  onClick={() => setUseFaceLogin(true)}\r\n                  style={{ marginTop: '10px' ,backgroundColor:'#4481eb'}}\r\n                >\r\n                  Login with Face ID\r\n                </button>\r\n              </>\r\n            )}\r\n            \r\n            <input \r\n              type=\"submit\" \r\n              id=\"login\"\r\n              value={useFaceLogin ? \"Verify Face\" : \"Login\"} \r\n              className=\"btn solid\" \r\n            />\r\n\r\n            <div className=\"social-media\">\r\n              <a href=\"#\" className=\"social-icon\" onClick={signInWithGoogle}>\r\n                <i className=\"fab fa-google\"></i>\r\n              </a>\r\n            </div>\r\n          </form>\r\n        ) : (\r\n          <form className=\"sign-in-form\">\r\n            {!otpSent ? (\r\n              <>\r\n              \r\n                <h2 className=\"title\">Forgot Password</h2>\r\n                <div className=\"input-field\">\r\n                  <i className=\"fas fa-envelope\"></i>\r\n                  <input type=\"email\" name=\"emailReset\" placeholder=\"Enter your email\" value={resetPasswordData.emailReset} onChange={handleResetPasswordChange} required />\r\n                </div>\r\n                <input type=\"submit\" value=\"Send OTP\" className=\"btn solid\" onClick={handleForgotPassword} />\r\n              </>\r\n            ) : !otpVerified ? (\r\n              <>\r\n                <h2 className=\"title\">Verify OTP</h2>\r\n                <div className=\"input-field\">\r\n                  <i className=\"fas fa-key\"></i>\r\n                  <input type=\"text\" name=\"otp\" placeholder=\"Enter OTP\" value={resetPasswordData.otp} onChange={handleResetPasswordChange} required />\r\n                </div>\r\n                <input type=\"submit\" value=\"Verify OTP\" className=\"btn solid\" onClick={handleVerifyOtp} />\r\n              </>\r\n            ) : (\r\n              <>\r\n                <h2 className=\"title\">Reset Password</h2>\r\n                <div className=\"input-field\">\r\n                  <i className=\"fas fa-lock\"></i>\r\n                  <input type=\"password\" name=\"newPassword\" pattern=\"^(?=.*[a-zA-Z])(?=.*\\d)(?=.*[^a-zA-Z\\d])([a-zA-Z\\d[^a-zA-Z\\d]]{6,50})$\" placeholder=\"New Password\" value={resetPasswordData.newPassword} onChange={handleResetPasswordChange}  onBlur={()=>setFocus({...focus,errnewPassword: true})} focus={focus.errnewPassword.toString()} required />\r\n                  <span>Password must be at least 6 characters long and include a letter, number, and special character</span>\r\n                </div><br></br>\r\n                <div className=\"input-field\">\r\n                  <i className=\"fas fa-lock\"></i>\r\n                  <input type=\"password\" name=\"confirmPassword\" pattern={resetPasswordData.newPassword} placeholder=\"Confirm Password\" value={resetPasswordData.confirmPassword} onChange={handleResetPasswordChange}  onBlur={()=>setFocus({...focus,errconfirmPassword: true})} focus={focus.errconfirmPassword.toString()} required />\r\n                  <span>password not matching</span>\r\n                </div>\r\n                <input type=\"submit\" value=\"Reset Password\" className=\"btn solid\" onClick={handleResetPassword} />\r\n              </>\r\n            )}\r\n          </form>\r\n        )}\r\n          <form action='#' onSubmit={handleSubmit} className=\"sign-up-form\">\r\n      <h2 className=\"title\">Sign up</h2>\r\n\r\n      {!isOtpSent ? (\r\n        <>\r\n          <div className=\"input-fields-container\">\r\n            <div className=\"input-field\">\r\n              <i className=\"fas fa-user\"></i>\r\n              <input type=\"text\" pattern=\"^[A-Za-z]+$\" className='input' name=\"firstname\" placeholder=\"Full name\" value={FormData.firstname} onChange={handleChange} onBlur={()=>setFocus({...focus,errFirstname: true})} focus={focus.errFirstname.toString()} required/>\r\n              <span>first name should be character</span>\r\n            </div>\r\n           \r\n            <div className=\"input-field\">\r\n              <i className=\"fas fa-envelope\"></i>\r\n              <input type=\"email\" name=\"email\" className='input'  placeholder=\"Email\" value={FormData.email} onChange={handleChange} onBlur={()=>setFocus({...focus,errEmail: true})} focus={focus.errEmail.toString()} required/>\r\n              <span>enter a valid email</span>\r\n            </div>\r\n            <div className=\"input-field\">\r\n              <i className=\"fas fa-lock\"></i>\r\n              <input type=\"password\" className='input' name=\"password\" pattern=\"^(?=.*[a-zA-Z])(?=.*\\d)(?=.*[^a-zA-Z\\d])([a-zA-Z\\d[^a-zA-Z\\d]]{6,50})$\" placeholder=\"Password\" value={FormData.password} onChange={handleChange} onBlur={()=>setFocus({...focus,errPassword: true})} focus={focus.errPassword.toString()} required/>\r\n              <span>password should be atleast 6 characters and include atleast 1 letter,1 number,1 special characters</span> \r\n            </div>\r\n            \r\n            \r\n            <div className=\"input-field\">\r\n              <i className=\"fas fa-lock\"></i>\r\n              <input type=\"password\" className='input' name=\"cpassword\" pattern={formData.password} placeholder=\"Confirm Password\" value={FormData.cpassword} onChange={handleChange} onBlur={()=>setFocus({...focus,errCpassword: true})} focus={focus.errCpassword.toString()} required/>\r\n              <span>password not matching</span>\r\n            </div>\r\n            </div>\r\n            \r\n        \r\n            <input type=\"submit\" className=\"btn\" value=\"Sign up\" />\r\n        </>\r\n      ) : (\r\n        <div>\r\n          <h3 className=\"titleOtp\">Enter the OTP sent to your email</h3>\r\n          <div className=\"input-field\">\r\n          <i className=\"fas fa-lock\"></i>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Enter OTP\"\r\n            value={otp}\r\n            onChange={(e) => setOtp(e.target.value)}\r\n          />\r\n          </div>\r\n          <button type=\"button\" className='btn' \r\n           onClick={handleOtpSubmit}>\r\n            Verify OTP\r\n          </button>\r\n        </div>\r\n        \r\n      )}\r\n\r\n      <p className=\"social-text\">Or Sign up with social platforms</p>\r\n      <div className=\"social-media\">\r\n        <a href=\"#\" className=\"social-icon\" onClick={signInWithGoogle}>\r\n          <i className=\"fab fa-google\"></i>\r\n        </a>\r\n      </div>\r\n    </form>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"panels-container\">\r\n        <div className=\"panel left-panel\">\r\n          <div className=\"content\">\r\n          <h3>Welcome to IntelliStay</h3>\r\n            <h3>New here?</h3>\r\n            <p>\r\n            The Best Holidays Start Here!\r\n            Make Yourself At Home In Our Hotel..\r\n            </p>\r\n            <button className=\"btn transparent\" onClick={handleSignUpClick} id=\"sign-up-btn\">\r\n              Sign up\r\n            </button>\r\n          </div>\r\n          <img src=\"img/log.svg\" className=\"image\" alt=\"\" />\r\n        </div>\r\n        <div className=\"panel right-panel\">\r\n          <div className=\"content\">\r\n          <h3>Welcome to IntelliStay</h3>\r\n            <h3>One of us?</h3>\r\n            <p>\r\n            The Best Holidays Start Here!\r\n            Make Yourself At Home In Our Hotel..\r\n            </p>\r\n            <button className=\"btn transparent\" onClick={handleSignInClick} id=\"sign-in-btn\">\r\n              Sign in\r\n            </button>\r\n          </div>\r\n          <img src=\"img/register.svg\" className=\"image\" alt=\"\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signupin;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport DatePicker from 'react-datepicker';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport './checkin.css';\r\n\r\n// Date formatting function\r\nconst formatDate = (date) => {\r\n  if (!date) return '';\r\n  const day = date.getDate().toString().padStart(2, '0');\r\n  const month = (date.getMonth() + 1).toString().padStart(2, '0');\r\n  const year = date.getFullYear();\r\n  return `${day}-${month}-${year}`;\r\n};\r\n\r\nfunction Checkin({ searchdata }) {  // Accept the searchdata prop\r\n  const navigate = useNavigate();\r\n  const [guestPopupVisible, setGuestPopupVisible] = useState(false);\r\n  const [bookingDetails, setBookingDetails] = useState({\r\n    checkInDate: null,\r\n    checkOutDate: null,\r\n    adults: 1,\r\n    children: 0,\r\n  });\r\n  const [minCheckOutDate, setMinCheckOutDate] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (searchdata && Object.keys(searchdata).length > 0) {\r\n      console.log(\"Received searchdata:\", searchdata);\r\n      setBookingDetails({\r\n        ...searchdata,\r\n        checkInDate: searchdata.checkInDate ? new Date(searchdata.checkInDate) : null,\r\n        checkOutDate: searchdata.checkOutDate ? new Date(searchdata.checkOutDate) : null\r\n      });\r\n    }\r\n  }, [searchdata]);\r\n\r\n  const today = new Date().toISOString().split('T')[0];\r\n\r\n  const handleCheckInChange = (date) => {\r\n    setBookingDetails(prevDetails => ({\r\n      ...prevDetails,\r\n      checkInDate: date,\r\n      checkOutDate: prevDetails.checkOutDate && prevDetails.checkOutDate <= date ? null : prevDetails.checkOutDate\r\n    }));\r\n\r\n    const nextDay = new Date(date);\r\n    nextDay.setDate(nextDay.getDate() + 1);\r\n    const formattedNextDay = nextDay.toISOString().split('T')[0];\r\n    setMinCheckOutDate(formattedNextDay);\r\n\r\n    // Automatically set the check-out date to the next day\r\n    setBookingDetails(prevDetails => ({\r\n      ...prevDetails,\r\n      checkInDate: date,\r\n      checkOutDate: nextDay\r\n    }));\r\n  };\r\n\r\n  const handleCheckOutChange = (date) => {\r\n    setBookingDetails(prevDetails => ({\r\n      ...prevDetails,\r\n      checkOutDate: date\r\n    }));\r\n  };\r\n\r\n  const toggleGuestPopup = () => {\r\n    setGuestPopupVisible(!guestPopupVisible);\r\n  };\r\n\r\n  const handleAdultChange = (increment) => {\r\n    setBookingDetails((prevDetails) => ({\r\n      ...prevDetails,\r\n      adults: prevDetails.adults + increment,\r\n    }));\r\n  };\r\n\r\n  const handleChildrenChange = (increment) => {\r\n    setBookingDetails((prevDetails) => ({\r\n      ...prevDetails,\r\n      children: prevDetails.children + increment,\r\n    }));\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    navigate('/rooms', { state: { data: bookingDetails } });\r\n  };\r\n\r\n  return (\r\n    <section className=\"section__container booking__container\">\r\n      <form action=\"\" className=\"booking__form\">\r\n        <div className=\"input__group\">\r\n          <span><i className=\"ri-calendar-2-fill\"></i></span>\r\n          <div>\r\n            <label htmlFor=\"check-in\">CHECK-IN</label>\r\n            <DatePicker\r\n              selected={bookingDetails.checkInDate}\r\n              onChange={handleCheckInChange}\r\n              minDate={new Date()}\r\n              dateFormat=\"dd-MM-yyyy\"\r\n              placeholderText=\"DD-MM-YYYY\"\r\n              className=\"custom-datepicker check-in-picker\"\r\n              id=\"check-in\"\r\n              customInput={\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"check-in\"\r\n                  value={bookingDetails.checkInDate ? formatDate(bookingDetails.checkInDate) : ''}\r\n                  readOnly\r\n                />\r\n              }\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"input__group\">\r\n          <span><i className=\"ri-calendar-2-fill\"></i></span>\r\n          <div>\r\n            <label htmlFor=\"check-out\">CHECK-OUT</label>\r\n            <DatePicker\r\n              selected={bookingDetails.checkOutDate}\r\n              onChange={handleCheckOutChange}\r\n              minDate={bookingDetails.checkInDate ? new Date(bookingDetails.checkInDate.getTime() + 86400000) : new Date()}\r\n              dateFormat=\"dd-MM-yyyy\"\r\n              placeholderText=\"DD-MM-YYYY\"\r\n               className=\"custom-datepicker check-out-picker\"\r\n              customInput={\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"check-out\"\r\n                  value={bookingDetails.checkOutDate ? formatDate(bookingDetails.checkOutDate) : ''}\r\n                  readOnly\r\n                />\r\n              }\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"input__group\">\r\n          <span><i className=\"ri-user-fill\"></i></span>\r\n          <div>\r\n            <label htmlFor=\"guest\">GUEST</label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder={`Adults: ${bookingDetails.adults}, Children: ${bookingDetails.children}`}\r\n              name=\"guest\"\r\n              id=\"guest\"\r\n              readOnly\r\n              onClick={toggleGuestPopup}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"input__group input__btn\">\r\n          <button className=\"btn\" onClick={handleSearch} id='search-btn'>Search</button>\r\n        </div>\r\n      </form>\r\n\r\n      {guestPopupVisible && (\r\n        <div className=\"guest__popup\">\r\n          <div className=\"popup__content\">\r\n            <div className=\"popup__item\">\r\n              <span>Adults</span>\r\n              <button onClick={() => handleAdultChange(-1)} disabled={bookingDetails.adults <= 1}>-</button>\r\n              <span>{bookingDetails.adults}</span>\r\n              <button onClick={() => handleAdultChange(1)}>+</button>\r\n            </div>\r\n            <div className=\"popup__item\">\r\n              <span>Children</span>\r\n              <button onClick={() => handleChildrenChange(-1)} disabled={bookingDetails.children <= 0}>-</button>\r\n              <span>{bookingDetails.children}</span>\r\n              <button onClick={() => handleChildrenChange(1)}>+</button>\r\n            </div>\r\n            <button className=\"popup__close\" onClick={toggleGuestPopup}>Set</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div style={{ color: 'red', fontSize: '14px', marginTop: '10px' }}>\r\n        <p>**Check-in time is 2 PM and Check-out time is 11 AM.</p>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Checkin;\r\n","export default \"__VITE_ASSET__DacSPZ0B__\"","import React, { useEffect,useState } from 'react';\r\nimport './Header.css';\r\nimport logo from '../public/logo.png';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport ScrollReveal from 'scrollreveal'; \r\nimport { jwtDecode } from \"jwt-decode\";\r\nimport { FaUtensils } from 'react-icons/fa';\r\nimport { BsCardImage } from 'react-icons/bs';\r\nimport Swal from 'sweetalert2';\r\n\r\n function Header() {\r\n    const navigate = useNavigate();\r\n    const [dropdownOpen, setDropdownOpen] = useState(false);\r\n    const token=localStorage.getItem(\"token\");\r\n    const [isProcessing, setIsProcessing] = useState(false);\r\n\r\n    useEffect(() => {\r\n      const menuBtn = document.getElementById(\"menu-btn\");\r\n      const navLinks = document.getElementById(\"nav-links\");\r\n      const menuBtnIcon = menuBtn.querySelector(\"i\");\r\n  \r\n      const toggleMenu = () => {\r\n        navLinks.classList.toggle(\"open\");\r\n        const isOpen = navLinks.classList.contains(\"open\");\r\n        menuBtnIcon.setAttribute(\"className\", isOpen ? \"ri-close-line\" : \"ri-menu-line\");\r\n      };\r\n  \r\n      menuBtn.addEventListener(\"click\", toggleMenu);\r\n      navLinks.addEventListener(\"click\", () => {\r\n        navLinks.classList.remove(\"open\");\r\n        menuBtnIcon.setAttribute(\"className\", \"ri-menu-line\");\r\n      });\r\n  \r\n      const scrollRevealOption = {\r\n        distance: \"50px\",\r\n        origin: \"bottom\",\r\n        duration: 1000,\r\n      };\r\n  \r\n      ScrollReveal().reveal(\".header__container p\", {\r\n        ...scrollRevealOption,\r\n      });\r\n  \r\n      ScrollReveal().reveal(\".header__container h1\", {\r\n        ...scrollRevealOption,\r\n        delay: 500,\r\n      });\r\n  \r\n      ScrollReveal().reveal(\".about__image img\", {\r\n        ...scrollRevealOption,\r\n        origin: \"left\",\r\n      });\r\n  \r\n      ScrollReveal().reveal(\".about__content .section__subheader\", {\r\n        ...scrollRevealOption,\r\n        delay: 500,\r\n      });\r\n  \r\n      ScrollReveal().reveal(\".about__content .section__header\", {\r\n        ...scrollRevealOption,\r\n        delay: 1000,\r\n      });\r\n  \r\n      ScrollReveal().reveal(\".about__content .section__description\", {\r\n        ...scrollRevealOption,\r\n        delay: 1500,\r\n      });\r\n  \r\n      ScrollReveal().reveal(\".about__btn\", {\r\n        ...scrollRevealOption,\r\n        delay: 2000,\r\n      });\r\n  \r\n      ScrollReveal().reveal(\".room__card\", {\r\n        ...scrollRevealOption,\r\n        interval: 500,\r\n      });\r\n  \r\n      ScrollReveal().reveal(\".service__list li\", {\r\n        ...scrollRevealOption,\r\n        interval: 500,\r\n        origin: \"right\",\r\n      });\r\n  \r\n      // Cleanup listeners on component unmount\r\n  \r\n      return () => {\r\n        menuBtn.removeEventListener(\"click\", toggleMenu);\r\n        navLinks.removeEventListener(\"click\", () => {});\r\n      };\r\n    }, []);\r\n    axios.defaults.withCredentials = true;\r\n    const handleLogout = () => {\r\n      axios.post(`${import.meta.env.VITE_API}/user/logout`)\r\n        .then(res => {\r\n          if (res.status === 200) {\r\n            localStorage.removeItem('userEmail');\r\n            localStorage.removeItem(\"token\");\r\n            localStorage.removeItem(\"userId\");\r\n            localStorage.removeItem(\"displayName\");\r\n            // localStorage.setItem('signout', 'signout');\r\n            navigate(\"/signup\"); // Redirect to public route\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.error(\"Error logging out:\", err);\r\n        });\r\n    };\r\n    const [user, setUser] = useState('');\r\n    const handleUser=(displayName)=>{\r\n      if(displayName){\r\n        setUser(displayName);\r\n      }\r\n      else{\r\n        navigate('/signup')\r\n      }\r\n  \r\n    }\r\n  \r\n    useEffect(() => {\r\n      const displayName = localStorage.getItem('displayName');\r\n      if (displayName) {\r\n        handleUser(displayName);\r\n       \r\n      } else {\r\n        setUser('');\r\n         // Redirect to login if no session found\r\n      }\r\n    }, []);\r\n\r\n    // Add mouseEnter and mouseLeave handlers\r\n    const handleMouseEnter = () => {\r\n      setDropdownOpen(true);\r\n    };\r\n\r\n    const handleMouseLeave = () => {\r\n      setDropdownOpen(false);\r\n    };\r\n\r\n    // Add click handler for dropdown items\r\n    const handleDropdownClick = (e, path) => {\r\n      e.preventDefault();\r\n      navigate(path);\r\n      setDropdownOpen(false);\r\n    };\r\n\r\n    // Add image search handler\r\n    const handleImageSearch = async (e) => {\r\n      try {\r\n        const file = e.target.files[0];\r\n        if (!file) return;\r\n\r\n        // Validate file type\r\n        if (!file.type.startsWith('image/')) {\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Invalid File',\r\n            text: 'Please select an image file'\r\n          });\r\n          return;\r\n        }\r\n\r\n        // Validate file size (max 5MB)\r\n        if (file.size > 5 * 1024 * 1024) {\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'File Too Large',\r\n            text: 'Please select an image under 5MB'\r\n          });\r\n          return;\r\n        }\r\n\r\n        setIsProcessing(true);\r\n\r\n        // Show loading\r\n        const loadingSwal = Swal.fire({\r\n          title: 'Analyzing Image',\r\n          html: 'Looking for matching rooms...',\r\n          allowOutsideClick: false,\r\n          didOpen: () => {\r\n            Swal.showLoading();\r\n          }\r\n        });\r\n\r\n        const formDatass = new FormData();\r\n        formDatass.append('image', file);\r\n      console.log(\"formData\",formDatass.get('image'))\r\n        const response = await axios.post(\r\n          `${import.meta.env.VITE_API}/user/rooms/search-by-image`,\r\n          formDatass,\r\n          {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n            }\r\n          }\r\n        );\r\n\r\n        loadingSwal.close();\r\n\r\n        if (response.data.success) {\r\n          const { roomType, matchedRooms } = response.data;\r\n\r\n          if (matchedRooms.length > 0) {\r\n            Swal.fire({\r\n              title: `Found ${matchedRooms.length} ${roomType} Rooms`,\r\n              html: `\r\n                <div class=\"image-search-results\">\r\n                  ${matchedRooms.map(room => `\r\n                    <div class=\"room-result-card\">\r\n                      <img src=\"${room.images[0]}\" alt=\"${room.title}\">\r\n                      <div class=\"room-info\">\r\n                        <h3>${room.title}</h3>\r\n                        <p class=\"room-price\">â‚¹${room.price} per night</p>\r\n                        <p class=\"room-description\">${room.description.substring(0, 100)}...</p>\r\n                      </div>\r\n                      <button \r\n                        onclick=\"window.location.href='/room/${room._id}'\"\r\n                        class=\"view-room-btn\"\r\n                      >\r\n                        View Details\r\n                      </button>\r\n                    </div>\r\n                  `).join('')}\r\n                </div>\r\n              `,\r\n              width: '800px',\r\n              showConfirmButton: true,\r\n              confirmButtonText: 'Close',\r\n              showCloseButton: true,\r\n              customClass: {\r\n                container: 'image-search-container',\r\n                popup: 'image-search-popup',\r\n                content: 'image-search-content'\r\n              }\r\n            });\r\n          } else {\r\n            Swal.fire({\r\n              icon: 'info',\r\n              title: 'Room Type Detected',\r\n              text: `We detected a ${roomType} room in your image, but we don't have any matching rooms currently available.`,\r\n              footer: 'Try searching for a different room type'\r\n            });\r\n          }\r\n        }\r\n\r\n      } catch (error) {\r\n        console.error('Image search error:', error);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Search Failed',\r\n          text: error.response?.data?.message || 'Failed to process image'\r\n        });\r\n      } finally {\r\n        setIsProcessing(false);\r\n      }\r\n    };\r\n\r\n  return (\r\n    <div>\r\n      \r\n    \r\n        <nav>\r\n          <div className=\"nav__bar\">\r\n            <div className=\"logo\">\r\n              <a href=\"#home\"><img src={logo} alt=\"logo\" onClick={()=>{navigate('/')}}/></a> \r\n              {/* <h2 style={{ color: '#fff' }}>IntelliStay</h2> */}\r\n\r\n            </div>\r\n            <div className=\"nav__menu__btn\" id=\"menu-btn\">\r\n              <i className=\"ri-menu-line\"></i>\r\n            </div>\r\n          </div>\r\n          <ul className=\"nav__links\" id=\"nav-links\">\r\n            <li><a href=\"#home\" onClick={()=>{navigate('/')}}>Home</a></li>\r\n            <li><a href=\"#about\" onClick={()=>{navigate('/')}}>About</a></li>\r\n            <li><a href=\"#service\" onClick={()=>{navigate('/')}}>Services</a></li>\r\n            <li><a href=\"#gallery\" onClick={()=>{navigate('/')}}>Gallery</a></li>\r\n            <li><a href=\"#contact\" onClick={()=>{navigate('/')}}>Contact</a></li>\r\n            <li \r\n              className=\"dropdown\" \r\n              onMouseEnter={handleMouseEnter}\r\n              onMouseLeave={handleMouseLeave}\r\n            >\r\n              <a href=\"#\" className=\"restaurant-link\">\r\n                <FaUtensils className=\"nav-icon\" /> Restaurant\r\n              </a>\r\n              <div className={`dropdown-content ${dropdownOpen ? 'show' : ''}`}>\r\n                 {/* Always show these items regardless of authentication */}\r\n              <a href=\"/restaurant/menu\" onClick={(e) => handleDropdownClick(e, '/restaurant/menu')}>\r\n                View Menu\r\n              </a>\r\n              {token ? (\r\n                // Show these items only if user is logged in\r\n                <>\r\n                  <a href=\"/restaurant/cart\" id=\"cart\" onClick={(e) => handleDropdownClick(e, '/restaurant/cart')}>\r\n                    My Cart\r\n                  </a>\r\n                  <a href=\"/restaurant/reservations\" onClick={(e) => handleDropdownClick(e, '/restaurant/reservations')} id='book-table'>\r\n                Book Table\r\n              </a>\r\n                  <a href=\"/restaurant/orders\" onClick={(e) => handleDropdownClick(e, '/restaurant/orders')}>\r\n                    My Orders\r\n                  </a>\r\n                  <a href=\"/restaurant/table-reservations\" onClick={(e) => handleDropdownClick(e, '/restaurant/table-reservations')} id='table-reservation'>\r\n                    Table Reservation\r\n                  </a>\r\n                </>\r\n              ) : null}\r\n             \r\n              \r\n             </div>\r\n              {/* <div className={`dropdown-content ${dropdownOpen ? 'show' : ''}`}>\r\n                <a href=\"/restaurant/cart\" onClick={(e) => handleDropdownClick(e, '/restaurant/cart')}>\r\n                  My Cart\r\n                </a>\r\n                <a href=\"/restaurant/menu\" onClick={(e) => handleDropdownClick(e, '/restaurant/menu')}>\r\n                  View Menu\r\n                </a>\r\n                <a href=\"/restaurant/reservations\" onClick={(e) => handleDropdownClick(e, '/restaurant/reservations')}>\r\n                  Book Table\r\n                </a>\r\n                <a href=\"/restaurant/orders\" onClick={(e) => handleDropdownClick(e, '/restaurant/orders')}>\r\n                  My Orders\r\n                </a>\r\n                <a href=\"/restaurant/table-reservations\" onClick={(e) => handleDropdownClick(e, '/restaurant/table-reservations')}>\r\n                  Table Reservation\r\n                </a>\r\n              </div> */}\r\n            </li>\r\n            {user ? (\r\n                <>\r\n                 \r\n                  <li className=\"dropdown\">\r\n                        <a href=\"\" className=\"username\">Hi, {user}</a>\r\n                            <div className=\"dropdown-content\">\r\n                              <a href=\"/qrscanner\">Self Check-In/Check-Out</a>\r\n                                  <a href=\"/myprofile\">Profile</a>\r\n                                  <a href=\"/guide\">Guide</a>\r\n                                   <a href=\"/my-bookings\" id='my-bookings'>My Bookings</a>\r\n                                   <a href=\"/saved-guests\">Saved Guests</a>\r\n                                   <a href=\"\" onClick={handleLogout}>Logout</a>\r\n                            </div>\r\n                   </li>\r\n              </>\r\n            \r\n              \r\n            ) : (\r\n              <li>\r\n               <a href=\"\" onClick={() => navigate('/signup')} > Login</a>\r\n              </li>\r\n            )}\r\n            {/*<li><a href=\"#\" onClick={handleLogout}>Logout</a></li>\r\n            <li><a href=\"#\"></a>{user}</li>\r\n            */}\r\n            {/* <li className=\"image-search-li\">\r\n              <a \r\n                href=\"#\" \r\n                className=\"image-search-btn\"\r\n                onClick={() => document.getElementById('roomImageSearch').click()}\r\n                title=\"Search rooms by image\"\r\n              >\r\n                <BsCardImage className=\"nav-icon\" />\r\n                <span>Search by Image</span>\r\n              </a>\r\n              <input\r\n                type=\"file\"\r\n                id=\"roomImageSearch\"\r\n                accept=\"image/*\"\r\n                style={{ display: 'none' }}\r\n                onChange={handleImageSearch}\r\n                onClick={(e) => e.target.value = null}\r\n                disabled={isProcessing}\r\n              />\r\n            </li> */}\r\n          </ul>\r\n        <button className=\"btn nav__btn\" onClick={() => navigate('/rooms')}>Book Now</button> \r\n        </nav>\r\n        \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header;","import { GoogleGenerativeAI } from \"@google/generative-ai\";\r\n\r\nconst genAI = new GoogleGenerativeAI(import.meta.env.VITE_GEMINI_API_KEY);\r\nconst API_BASE_URL = import.meta.env.VITE_API || 'http://localhost:3001';\r\n\r\n// Function to handle API calls with error checking\r\nconst fetchApi = async (endpoint) => {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/chat${endpoint}`);\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error(`Error fetching ${endpoint}:`, error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// Function to fetch real-time hotel data\r\nconst fetchHotelData = async () => {\r\n  try {\r\n    const [rooms, restaurant, facilities, packages] = await Promise.all([\r\n      fetchApi('/rooms'),\r\n      fetchApi('/restaurant'),\r\n      fetchApi('/facility'),\r\n      fetchApi('/package')\r\n    ]);\r\n\r\n    if (!rooms || !restaurant || !facilities || !packages) {\r\n      throw new Error('Failed to fetch complete hotel data');\r\n    }\r\n\r\n    return {\r\n      rooms,\r\n      restaurant,\r\n      facilities,\r\n      packages\r\n    };\r\n  } catch (error) {\r\n    console.error('Error fetching hotel data:', error);\r\n    throw new Error('Failed to fetch hotel information');\r\n  }\r\n};\r\n\r\n// Generate dynamic system prompt based on real-time data\r\nconst generateSystemPrompt = async () => {\r\n  try {\r\n    const hotelData = await fetchHotelData();\r\n    console.log(\"hotelData\",hotelData)\r\n    return `IntelliBot AI assistant. Here's our current information:\r\n\r\nROOMS:\r\n${hotelData.rooms.map(room => `\r\n- ${room.roomtype}: â‚¹${room.rate}/night,\r\n  ${room.description},\r\n  Allowed Adults: ${room.allowedAdults},\r\n  Allowed Children: ${room.allowedChildren},\r\n  Amenities: ${room.amenities},\r\n  Status: ${room.status ? 'âœ… available' : 'âŒ Fully Booked'}\r\n`).join('\\n')}\r\n\r\nRESTAURANT:\r\n- ${hotelData.restaurant.name}\r\n- Hours: ${hotelData.restaurant.hours}\r\n- Current Status: ${hotelData.restaurant.isOpen ? 'ðŸŸ¢ Open' : 'ðŸ”´ Closed'}\r\n- Special of the day: ${hotelData.restaurant.specialOfDay}\r\n- Wait Time: ${hotelData.restaurant.currentWaitTime}\r\n\r\nMENU HIGHLIGHTS:\r\n${hotelData.restaurant.menu.map(category => `\r\n${category.categoryName}:\r\n${category.items.map(item => `- ${item.name} (${item.price})`).join('\\n')}\r\n`).join('\\n')}\r\n\r\nFACILITIES:\r\n${hotelData.facilities.map(facility => `\r\n- ${facility.name}\r\n  Hours: ${facility.operatingHours.open} - ${facility.operatingHours.close}\r\n  Status: ${facility.status}\r\n`).join('\\n')}\r\n\r\nCURRENT PACKAGES:\r\n${hotelData.packages.map(pkg => `\r\n- ${pkg.name}: ${pkg.price.currency}${pkg.price.amount}\r\n  ${pkg.description}\r\n  ${pkg.availability ? 'âœ… Available' : 'âŒ Sold Out'}\r\n`).join('\\n')}\r\n\r\nInstructions:\r\n1. Provide concise, accurate information about our services\r\n2. For room bookings, check availability before suggesting\r\n3. For restaurant queries, mention current wait times\r\n4. Always include relevant pricing information\r\n5. Suggest suitable packages based on guest needs\r\n6. For unavailable services, offer alternatives\r\n7. Add relevant emojis to make responses engaging\r\n\r\nRemember to:\r\n- Keep responses brief (2-3 sentences)\r\n- Be polite and professional\r\n- Guide users to reception for complex queries\r\n- Mention current promotions when relevant`;\r\n  } catch (error) {\r\n    console.error('Error generating system prompt:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst formatResponse = (text, contextData) => {\r\n  // Format restaurant and menu information\r\n  if (text.includes('menu') || text.includes('food') || text.includes('restaurant')) {\r\n    const menuByCategory = {};\r\n    contextData?.menu?.forEach(category => {\r\n      menuByCategory[category.categoryName] = category.items.map(item => ({\r\n        name: item.name,\r\n        price: item.price,\r\n        description: item.description,\r\n        isVegetarian: item.isVegetarian,\r\n        spiceLevel: item.spiceLevel || 'Medium',\r\n        preparationTime: item.preparationTime || '20-30 mins'\r\n      }));\r\n    });\r\n\r\n    return {\r\n      type: 'bot',\r\n      content: text,\r\n      formattedData: {\r\n        restaurantInfo: [\r\n          `ðŸª ${contextData?.name || 'IntelliStay Restaurant'}`,\r\n          `â° Hours: ${contextData?.hours || '7:00 AM - 11:00 PM'}`,\r\n          `âŒ› Current Wait: ${contextData?.currentWaitTime || '15'} minutes`,\r\n          `ðŸ‘¨â€ðŸ³ Special: ${contextData?.specialOfDay || 'Chef\\'s Special Butter Chicken'}`\r\n        ],\r\n        menu: Object.entries(menuByCategory).map(([category, items]) => ({\r\n          category,\r\n          items: items.map(item => ({\r\n            name: item.name,\r\n            price: item.price,\r\n            description: item.description,\r\n            badges: [\r\n              item.isVegetarian ? 'ðŸŒ± Veg' : 'ðŸ– Non-Veg',\r\n              `ðŸŒ¶ï¸ ${item.spiceLevel}`,\r\n              `â±ï¸ ${item.preparationTime}`\r\n            ]\r\n          }))\r\n        }))\r\n      },\r\n      options: [\r\n        { text: 'Reserve Table', icon: 'ðŸª‘' },\r\n        { text: 'Special Offers', icon: 'ðŸŽ‰' },\r\n        { text: 'Contact Restaurant', icon: 'ðŸ“ž' }\r\n      ]\r\n    };\r\n  }\r\n\r\n  // Format room information\r\n  if (text.includes('room') || text.includes('accommodation')) {\r\n    return {\r\n      type: 'bot',\r\n      content: text,\r\n      formattedData: contextData?.rooms?.map(room => ({\r\n        title: room.roomtype,\r\n        points: [\r\n          `ðŸ’° Price: â‚¹${room.rate}/night`,\r\n          `ðŸ›ï¸ Features: ${room.description}`,\r\n          `âœ¨ Status: ${room.status ? 'available' : 'Fully Booked'}`,\r\n          `Allowed Adults: ${room.allowedAdults}`,\r\n          `Allowed Children: ${room.allowedChildren}`,\r\n          `Amenities: ${room.amenities}`\r\n        ]\r\n      }))\r\n    };\r\n  }\r\n\r\n  // Format facility information\r\n  if (text.includes('facility') || text.includes('amenities')) {\r\n    return {\r\n      type: 'bot',\r\n      content: text,\r\n        formattedData: contextData?.facilities?.map(facility => ({\r\n        title: facility.name,\r\n        points: [\r\n          `â° Hours: ${facility.operatingHours.open} - ${facility.operatingHours.close}`,\r\n          `ðŸ“ Status: ${facility.status}`,\r\n          `ðŸ’° ${facility.pricing.rate > 0 ? `Rate: â‚¹${facility.pricing.rate} ${facility.pricing.unit}` : 'Complimentary'}`,\r\n          `ðŸ“ ${facility.description}`\r\n        ]\r\n      }))\r\n    };\r\n  }\r\n\r\n  // Format package information\r\n  if (text.includes('package') || text.includes('deal')) {\r\n    return {\r\n      type: 'bot',\r\n      content: text,\r\n      formattedData: contextData?.packages?.map(pkg => ({\r\n        title: pkg.name,\r\n        points: [\r\n          `ðŸ’° Price: â‚¹${pkg.price.amount}`,\r\n          `ðŸ“… Duration: ${pkg.duration.days} days, ${pkg.duration.nights} nights`,\r\n          `âœ¨ Status: ${pkg.availability ? 'Available' : 'Sold Out'}`,\r\n          pkg.discount ? `ðŸŽ‰ Special Offer: ${pkg.discount.percentage}% off` : '',\r\n          `ðŸ“ ${pkg.description}`,\r\n          `âœ… Inclusions: ${pkg.inclusions.map(inc => inc.item).join(', ')}`\r\n        ].filter(Boolean)\r\n      }))\r\n    };\r\n  }\r\n\r\n  return {\r\n    type: 'bot',\r\n    content: text\r\n  };\r\n};\r\n\r\nexport const generateResponse = async (userMessage) => {\r\n  try {\r\n    const systemPrompt = await generateSystemPrompt();\r\n    if (!systemPrompt) {\r\n      throw new Error('Failed to initialize chat system');\r\n    }\r\n\r\n    const model = genAI.getGenerativeModel({ model: \"gemini-pro\" });\r\n    const chat = model.startChat({\r\n      history: [\r\n        {\r\n          role: \"user\",\r\n          parts: [{ text: \"Initialize as IntelliStay's AI assistant.\" }]\r\n        },\r\n        {\r\n          role: \"model\",\r\n          parts: [{ text: systemPrompt }]\r\n        }\r\n      ],\r\n      generationConfig: {\r\n        temperature: 0.7,\r\n        maxOutputTokens: 150,\r\n      },\r\n    });\r\n\r\n    const contextData = await getQuerySpecificData(userMessage);\r\n    const result = await chat.sendMessage([{ text: userMessage }]);\r\n    const response = await result.response;\r\n    const text = response.text();\r\n\r\n    // Format the response with context data\r\n    const formattedResponse = formatResponse(text, contextData);\r\n    \r\n    // Add dynamic options\r\n    const options = await getDynamicOptions(userMessage, contextData);\r\n    if (options.length > 0) {\r\n      formattedResponse.options = options;\r\n    }\r\n\r\n    return formattedResponse;\r\n  } catch (error) {\r\n    console.error('Gemini API Error:', error);\r\n    return {\r\n      type: 'bot',\r\n      content: \"I apologize, but I'm having trouble accessing the information right now. Please try again in a moment.\",\r\n      options: [\r\n        { text: 'Contact Reception', icon: 'ðŸ“ž' },\r\n        { text: 'Try Again', icon: 'ðŸ”„' }\r\n      ]\r\n    };\r\n  }\r\n};\r\n\r\n// Get query-specific data\r\nconst getQuerySpecificData = async (userMessage) => {\r\n  const message = userMessage.toLowerCase();\r\n  \r\n  try {\r\n    if (message.includes('menu') || message.includes('food') || message.includes('restaurant')) {\r\n      const restaurant = await fetchApi('/restaurant');\r\n      const menu = await fetchApi('/menu');\r\n      return {\r\n        ...restaurant,\r\n        menu: menu\r\n      };\r\n    }\r\n    if (message.includes('room') || message.includes('book')) {\r\n      return await fetchApi('/rooms');\r\n    }\r\n    if (message.includes('facility') || message.includes('gym') || message.includes('pool')) {\r\n      return await fetchApi('/facility');\r\n    }\r\n    if (message.includes('package') || message.includes('deal') || message.includes('offer')) {\r\n      return await fetchApi('/package');\r\n    }\r\n    return null;\r\n  } catch (error) {\r\n    console.error('Error fetching specific data:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// Generate dynamic options based on user query\r\nconst getDynamicOptions = async (userMessage, contextData) => {\r\n  const message = userMessage.toLowerCase();\r\n  const defaultOptions = [\r\n    { text: 'View Rooms', icon: 'ðŸ¨' },\r\n    { text: 'Restaurant Menu', icon: 'ðŸ½ï¸' },\r\n    { text: 'Our Facilities', icon: 'ðŸŠ' },\r\n    { text: 'Special Packages', icon: 'ðŸŽ' }\r\n  ];\r\n\r\n  if (!contextData) return defaultOptions;\r\n\r\n  // Custom options based on query context\r\n  if (message.includes('room') || message.includes('book')) {\r\n    return [\r\n      { text: 'Check Availability', icon: 'ðŸ“…' },\r\n      { text: 'View Room Types', icon: 'ðŸ›ï¸' },\r\n      { text: 'Room Rates', icon: 'ðŸ’°' },\r\n      { text: 'Book Now', icon: 'âœ…' }\r\n    ];\r\n  }\r\n\r\n  if (message.includes('menu') || message.includes('food') || message.includes('restaurant')) {\r\n    return [\r\n      { text: 'View Full Menu', icon: 'ðŸ“–' },\r\n      { text: 'Reserve Table', icon: 'ðŸª‘' },\r\n      { text: 'Today\\'s Special', icon: 'ðŸ‘¨â€ðŸ³' },\r\n      { text: 'Contact Restaurant', icon: 'ðŸ“ž' }\r\n    ];\r\n  }\r\n\r\n  return defaultOptions;\r\n};","import React, { useState, useRef, useEffect } from 'react';\r\nimport { FaRobot, FaTimes, FaPaperPlane, FaHotel, FaUtensils, FaPhoneAlt } from 'react-icons/fa';\r\nimport { MdRoomService } from 'react-icons/md';\r\nimport { generateResponse } from '../../services/chatService';\r\nimport './Chatbot.css';\r\n\r\nconst Chatbot = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [showWelcomePopup, setShowWelcomePopup] = useState(true);\r\n  const [messages, setMessages] = useState([\r\n    {\r\n      type: 'bot',\r\n      content: 'Welcome to IntelliStay! ðŸ‘‹ I\\'m your virtual concierge. How may I assist you today?',\r\n      options: [\r\n        { text: 'Room Booking', icon: <FaHotel /> },\r\n        { text: 'Restaurant', icon: <FaUtensils /> },\r\n        { text: 'Services', icon: <MdRoomService /> },\r\n        { text: 'Contact Us', icon: <FaPhoneAlt /> }\r\n      ]\r\n    }\r\n  ]);\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const messagesEndRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    if (isOpen && inputRef.current) {\r\n      inputRef.current.focus();\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // Hide welcome popup after 5 seconds or when clicked\r\n  useEffect(() => {\r\n    if (showWelcomePopup) {\r\n      const timer = setTimeout(() => {\r\n        setShowWelcomePopup(false);\r\n      }, 100000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [showWelcomePopup]);\r\n\r\n  const handleSendMessage = async (userMessage) => {\r\n    if (!userMessage.trim()) return;\r\n    \r\n    setError(null);\r\n    const newUserMessage = {\r\n      type: 'user',\r\n      content: userMessage\r\n    };\r\n    \r\n    setMessages(prev => [...prev, newUserMessage]);\r\n    setInputMessage('');\r\n    setIsTyping(true);\r\n\r\n    try {\r\n      // Simulate natural typing delay\r\n      const typingDelay = Math.min(1000, userMessage.length * 50);\r\n      await new Promise(resolve => setTimeout(resolve, typingDelay));\r\n      \r\n      // Use OpenAI to generate response\r\n      const botResponse = await generateResponse(userMessage);\r\n      setMessages(prev => [...prev, botResponse]);\r\n    } catch (error) {\r\n      console.error('Chatbot error:', error);\r\n      setError('Oops! Something went wrong. Please try again.');\r\n      setMessages(prev => [...prev, {\r\n        type: 'bot',\r\n        content: 'I apologize, but I encountered an error. Please try selecting one of these options:',\r\n        options: [\r\n          { text: 'Room Booking', icon: <FaHotel /> },\r\n          { text: 'Restaurant', icon: <FaUtensils /> },\r\n          { text: 'Services', icon: <MdRoomService /> },\r\n          { text: 'Contact Us', icon: <FaPhoneAlt /> }\r\n        ]\r\n      }]);\r\n    } finally {\r\n      setIsTyping(false);\r\n    }\r\n  };\r\n\r\n  const handleOptionClick = (option) => {\r\n    handleSendMessage(option.text);\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey && inputMessage.trim()) {\r\n      e.preventDefault();\r\n      handleSendMessage(inputMessage);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"chatbot-container\">\r\n      {showWelcomePopup && !isOpen && (\r\n        <div className=\"welcome-popup\">\r\n          <div className=\"welcome-content\">\r\n            <FaRobot className=\"welcome-icon\" />\r\n            <p>I am IntelliBot! How may I help you?</p>\r\n            <button \r\n              className=\"close-welcome\" \r\n              onClick={() => setShowWelcomePopup(false)}\r\n              aria-label=\"Close welcome message\"\r\n            >\r\n              <FaTimes />\r\n            </button>\r\n          </div>\r\n          <div className=\"welcome-arrow\"></div>\r\n        </div>\r\n      )}\r\n\r\n      <button \r\n        className={`chatbot-toggle ${isOpen ? 'open' : ''} ${isTyping ? 'typing' : ''}`}\r\n        onClick={() => {\r\n          setIsOpen(!isOpen);\r\n          setShowWelcomePopup(false);\r\n        }}\r\n        aria-label={isOpen ? 'Close chat' : 'Open chat'}\r\n      >\r\n        {isOpen ? <FaTimes /> : <FaRobot />}\r\n      </button>\r\n\r\n      {isOpen && (\r\n        <div className=\"chatbot-window\">\r\n          <div className=\"chatbot-header\">\r\n            <FaRobot className=\"chatbot-icon pulse\" />\r\n            <div className=\"header-text\">\r\n              <h3>IntelliBot Assistant</h3>\r\n              <span className=\"status\">Online</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"chatbot-messages\" role=\"log\">\r\n            {messages.map((message, index) => (\r\n              <div \r\n                key={index} \r\n                className={`message ${message.type}`}\r\n                style={{ animationDelay: `${index * 0.1}s` }}\r\n              >\r\n                <div className=\"message-content\">\r\n                  {message.type === 'bot' && <FaRobot className=\"message-icon\" />}\r\n                  <p>{message.content}</p>\r\n                </div>\r\n                {message.options && (\r\n                  <div className=\"message-options\">\r\n                    {message.options.map((option, optIndex) => (\r\n                      <button \r\n                        key={optIndex}\r\n                        onClick={() => handleOptionClick(option)}\r\n                        className=\"option-button\"\r\n                      >\r\n                        {option.icon}\r\n                        <span>{option.text}</span>\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n                {message.formattedData && (\r\n                  <div className=\"formatted-data\">\r\n                    {Array.isArray(message.formattedData) ? (\r\n                      message.formattedData.map((section, idx) => (\r\n                        <div key={idx} className=\"data-section\">\r\n                          <h4>{section.title}</h4>\r\n                          <ul>\r\n                            {section.points.map((point, i) => (\r\n                              <li key={i}>{point}</li>\r\n                            ))}\r\n                          </ul>\r\n                        </div>\r\n                      ))\r\n                    ) : message.formattedData.restaurantInfo ? (\r\n                      <div className=\"restaurant-data\">\r\n                        <div className=\"restaurant-info\">\r\n                          {message.formattedData.restaurantInfo.map((info, idx) => (\r\n                            <p key={idx}>{info}</p>\r\n                          ))}\r\n                        </div>\r\n                        <div className=\"menu-sections\">\r\n                          {message.formattedData.menu.map((section, idx) => (\r\n                            <div key={idx} className=\"menu-section\">\r\n                              <h4>{section.category}</h4>\r\n                              <ul>\r\n                                {section.items.map((item, i) => (\r\n                                  <li key={i}>{item}</li>\r\n                                ))}\r\n                              </ul>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    ) : null}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n            {isTyping && (\r\n              <div className=\"message bot typing\">\r\n                <div className=\"typing-indicator\">\r\n                  <span></span>\r\n                  <span></span>\r\n                  <span></span>\r\n                </div>\r\n              </div>\r\n            )}\r\n            {error && (\r\n              <div className=\"error-message\">\r\n                {error}\r\n              </div>\r\n            )}\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n\r\n          <div className=\"chatbot-input\">\r\n            <input\r\n              ref={inputRef}\r\n              type=\"text\"\r\n              value={inputMessage}\r\n              onChange={(e) => setInputMessage(e.target.value)}\r\n              onKeyPress={handleKeyPress}\r\n              placeholder=\"Type your message...\"\r\n              aria-label=\"Chat input\"\r\n              disabled={isTyping}\r\n            />\r\n            <button \r\n              onClick={() => handleSendMessage(inputMessage)}\r\n              className=\"send-button\"\r\n              disabled={!inputMessage.trim() || isTyping}\r\n              aria-label=\"Send message\"\r\n            >\r\n              <FaPaperPlane />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chatbot; ","export default \"__VITE_ASSET__CRf$0VCL__\"","export default \"__VITE_ASSET___rGYgYZp__\"","export default \"__VITE_ASSET__By8P8R1s__\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABuwAAAbsBOuzj4gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAK7SURBVHic7ZtPSxtBGIefmQ00QXooAekaoTdphWyEHHrMXbx589BPoBQvQkOhCK1gDqKXfoTcBQk99QuUgBoKxVMLkoVS+sdiY22Tt4ckYKU1WTX7xs0+18zu/N5nZmcGwhgR4SyTxb0paZoFIA8mL+BygzHgg1SBqnGkfLiWO/jr964AYzDuyv5jMGtASiFrGDRAin7J2xJBoCOgXXxtB5hVDhgWFb+UnRNBLEB75EemeIDZTs2YzJPdqVbT7hLdaf8/GtZpzdjOgjdqxQOkpGkWLJDXTqJI3oIZYQEmb2/6Pn8VBFyrHUKbWIB2AG0S2gEuIj3mkJtM4WWSZCeSeJkk47cvjnzv6btAfQylgIRjWCqkWSykSThmsH0N9O2XYNpNsjHv8uDurVD6GyoBjx7e4dns+MBH/SxDswhOu8nQi4chEZBwDBvzbujFw5AIWCykQ/vmz6MuID3msFRIq/WvLiA3mVKZ+l3UBXiZpGr/6ttgdiKYgMrb72y9/sTnH02+NZr8/C29H7oAdQFBZ8CLVx85/PLr2vpX/wR6ne3Pc53FwxAI0CYWoB1Am1iAdgBtYgHaAbQx7sr+1Y5SPfjw/P4gX/9PavUT5l6+76ttJGdA+c3XvttGTsDxaYvtvaO+20dOwPbeEcenrb7bR05AkOkPERNQq59Qq58EeiZSAoKOPkRIQNDFr0tkBARd/LpERsBlpj+EcBLsRdCTYtB/f3sRmRlwWWIB2gG0iQVoB9AmFqAdQJtYgHYAbWIB2gG0iQVoB9DGtu/VjSYGfNu5VDiiSNUCIyyAqjWOlIGGdhIFGsaRsm3fpZWidprwkeLhWu7AAvglbwuoKCcKk0qn5vY2KIL4pewcyDLR/hwaIMvde8Nw5hwggtTXvU3rtGYMsmqQnShskQb8di2yap3WTH3d2+wWD/AH4abNDWvXi/sAAAAASUVORK5CYII=\"","export default \"__VITE_ASSET__KkIamVSx__\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABYgAAAWIBXyfQUwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAN7SURBVHic7drBbxVVFMfxz4xPni1VbGip1orGQDBCDYnBLquyZskSdpQddNE1sOEfYEOIq3ZJWLLEEIkSEmixojEUEItaRSgUG2ibkoyL26avtdra9s190vkmN5P7cmfO75w5c+fNvYeCgoKCgoKCgnVKshYXyXgF9Xh95ljGS3htwdBNSCv6dTPHiYrfnmN8wXmPK8Y9xZ8YT8LYVfGPAciC0G34EB/gDbRiC5pmxG8UnF6TQK6AKSEgYzPHx/gV9/ELvse3CSPLvmJGOaM7Yygje0Ha9YxDGS8v5XxbxpUaEFytdjXjnUqfkwrnN2MAW5edLv9PfsJHCY+YPyH1efGdh3fRO9tJIKMDVyIJisXHCVdnM+BQVClx6GLuEfgsopBYfArJzOT3QLx3eSwyNKd43/pznuDzjhTvxVYSkW0p2mKriMjWFM1VN7NrF62tVTezAppSYRKsLnv2cOsWJ05QV7fk8BzZnApfdtWnvp7jxxka4uBBkpqYd3PKgEra2ujt5eJFdu/O1fQiNKXCIkX+dHbS309fHy0tUSRgUyqs5sQhTTlwgNu3w/xQLuetoJwKy1dxaWgI88ONG+zfn6flDXEzYCHbt3P2LBcu0N6eh8UayYCF7N3LwABnztBc1b8pG2ozAFAq0dXFzZscPRr6a085XXpMZMplGhurFYCkJCwt11fj6qsiyzh3jp4e7t2rlpXJ2gzAtWsh7S9frralqVQIQG0wMsLhw3R05OE8TM1mQFwmJjh1ipMnGV+4K1ZVJkuYzNPi3zh/niNHuHs3hvWpFE9iWHb9evge2LcvlvMwluJhriZHR+nuDmsEly7lanoRHpYwmoup6WlOn+bYMZ7ESbpFGC3JIwMGB9m5M6wK1RY5ZcDAQNVNrJBHqVBIsF75OcWPsVVE5E6ShZKX+7GVRGJLmvAHhmMricBwwoPZz+Evo0qJw9fMbY9/HlFILOb7nPFFDRQx5dW+mvW7skiqBf14K7d7EIdRoUhqmIoiqSS8CT7BYBxduXATncm/TfoZdRk9GXdqIFXXqo1knMh4daG/S5XK7kC7UCr7tvCYvCmUxzYKpbIbVnNL1ogxPBNKZX/HbzPtB3yHbxKmFztx1Vu0WSg/bRCCslFYX5wtki6ZH/Xl7EWOm18EPWFu0eap4Oi4UDD9LAn9goKCgoKCgoKC/8pfE/1vrlVJXsAAAAAASUVORK5CYII=\"","import React, { useState } from 'react';\r\nimport './Gallery.css'; // Assuming you have a separate CSS file for styles\r\n\r\nconst Gallery = () => {\r\n  const images = [\r\n    'https://upavanresort.com/uploads/gallery/main/18.jpg',\r\n    'https://upavanresort.com/uploads/gallery/main/131.JPG',\r\n    'https://upavanresort.com/uploads/gallery/main/21.JPG',\r\n    'https://upavanresort.com/uploads/gallery/main/1.jpg',\r\n    'https://upavanresort.com/uploads/gallery/main/2.JPG',\r\n    'https://upavanresort.com/uploads/gallery/main/5.JPG',\r\n    'https://upavanresort.com/uploads/gallery/main/1.jpg',\r\n    'https://upavanresort.com/uploads/gallery/main/2.JPG',\r\n    'https://upavanresort.com/uploads/gallery/main/5.JPG',\r\n  ];\r\n\r\n  const [visibleImages, setVisibleImages] = useState(6); // Start by showing 6 images\r\n\r\n  const handleSeeMore = () => {\r\n    setVisibleImages((prev) => prev + 3); // Show 3 more images\r\n  };\r\n\r\n  return (\r\n    <section className=\"explore\" id=\"gallery\">\r\n      <p className=\"section__subheader\">GALLERY</p>\r\n      <h2 className=\"section__header\">Capture the Essence of Our Experience</h2>\r\n      <div className=\"gallery\">\r\n        {images.slice(0, visibleImages).map((image, index) => (\r\n          <div className=\"gallery__item\" key={index}>\r\n            <img src={image} alt={`Gallery Image ${index + 1}`} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {visibleImages < images.length && ( // Show button only if there are more images\r\n       <div className=\"see-more-container\">\r\n       <button className=\"btn\" onClick={handleSeeMore}>\r\n         See More\r\n       </button>\r\n     </div>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Gallery;\r\n","import React, { useEffect,useState } from 'react';\r\nimport './home.css';\r\nimport Checkin from '../components/checkin';\r\nimport Header from '../components/Header';\r\nimport Chatbot from '../components/Chatbot/Chatbot';\r\nimport logo from '../public/logo1.png';\r\nimport about from './assets/about.jpg';\r\nimport room1 from './assets/room-1.jpg';\r\nimport room2 from './assets/room-2.jpg';\r\nimport room3 from './assets/room-3.jpg';\r\nimport facebook from './assets/facebook.png';\r\nimport instagram from './assets/instagram.png';\r\nimport youtube from './assets/youtube.png';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport ScrollReveal from 'scrollreveal'; \r\nimport Gallery from '../components/gallery/Gallery';\r\n\r\nfunction Home() {\r\n\r\n  \r\n  const navigate = useNavigate();\r\n  const [rooms, setRooms] = useState([]);\r\n  const [showChatbot, setShowChatbot] = useState(false);\r\n\r\n  const handleSeeDetails = (room) => {\r\n    // Navigate to RoomInfo page with room data\r\n    navigate('/roomdetails', { \r\n        state: { \r\n            roomdata: room,\r\n        } \r\n    });\r\n};\r\n\r\n  useEffect(() => {\r\n    const menuBtn = document.getElementById(\"menu-btn\");\r\n    const navLinks = document.getElementById(\"nav-links\");\r\n    const menuBtnIcon = menuBtn.querySelector(\"i\");\r\n\r\n    const toggleMenu = () => {\r\n      navLinks.classList.toggle(\"open\");\r\n      const isOpen = navLinks.classList.contains(\"open\");\r\n      menuBtnIcon.setAttribute(\"className\", isOpen ? \"ri-close-line\" : \"ri-menu-line\");\r\n    };\r\n\r\n    menuBtn.addEventListener(\"click\", toggleMenu);\r\n    navLinks.addEventListener(\"click\", () => {\r\n      navLinks.classList.remove(\"open\");\r\n      menuBtnIcon.setAttribute(\"className\", \"ri-menu-line\");\r\n    });\r\n\r\n    const scrollRevealOption = {\r\n      distance: \"50px\",\r\n      origin: \"bottom\",\r\n      duration: 1000,\r\n    };\r\n\r\n    ScrollReveal().reveal(\".header__container p\", {\r\n      ...scrollRevealOption,\r\n    });\r\n\r\n    ScrollReveal().reveal(\".header__container h1\", {\r\n      ...scrollRevealOption,\r\n      delay: 500,\r\n    });\r\n\r\n    ScrollReveal().reveal(\".about__image img\", {\r\n      ...scrollRevealOption,\r\n      origin: \"left\",\r\n    });\r\n\r\n    ScrollReveal().reveal(\".about__content .section__subheader\", {\r\n      ...scrollRevealOption,\r\n      delay: 500,\r\n    });\r\n\r\n    ScrollReveal().reveal(\".about__content .section__header\", {\r\n      ...scrollRevealOption,\r\n      delay: 1000,\r\n    });\r\n\r\n    ScrollReveal().reveal(\".about__content .section__description\", {\r\n      ...scrollRevealOption,\r\n      delay: 1500,\r\n    });\r\n\r\n    ScrollReveal().reveal(\".about__btn\", {\r\n      ...scrollRevealOption,\r\n      delay: 2000,\r\n    });\r\n\r\n    ScrollReveal().reveal(\".room__card\", {\r\n      ...scrollRevealOption,\r\n      interval: 500,\r\n    });\r\n\r\n    ScrollReveal().reveal(\".service__list li\", {\r\n      ...scrollRevealOption,\r\n      interval: 500,\r\n      origin: \"right\",\r\n    });\r\n\r\n    // Cleanup listeners on component unmount\r\n    axios.post(`${import.meta.env.VITE_API}/user/rooms-details`)\r\n  .then(res => {\r\n    if (res.status === 200) {\r\n      const { availableRooms, message } = res.data; // Destructure the response\r\n\r\n      console.log(res.data); // Log the response for debugging\r\n\r\n      if (availableRooms.length === 0) {\r\n        console.log(\"No rooms available.\");\r\n      } else {\r\n        console.log(message);\r\n        setRooms(availableRooms); // Set the available rooms to state\r\n      }\r\n    }\r\n  })\r\n  .catch(err => {\r\n    console.error(\"Error\", err);\r\n  });\r\n  }, []);\r\n  useEffect(() => {\r\n    // Show chatbot after 3 seconds of page load\r\n    const chatbotTimer = setTimeout(() => {\r\n      setShowChatbot(true);\r\n    }, 3000);\r\n\r\n    return () => clearTimeout(chatbotTimer);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Add this to hide chatbot on specific scroll positions if needed\r\n    const handleScroll = () => {\r\n      const scrollPosition = window.scrollY;\r\n      if (scrollPosition > 3000) { // Adjust this value based on your needs\r\n        setShowChatbot(false);\r\n      } else {\r\n        setShowChatbot(true);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  \r\n  return (\r\n    <div className=\"home-container\">\r\n      <header className=\"header\">\r\n        <Header />\r\n        <div className=\"section__container header__container\" id=\"home\">\r\n          <p>Simple - Unique - Friendly</p>\r\n          <h1>Make Yourself At Home<br />In Our <span>Hotel</span>.</h1>\r\n        </div>\r\n\r\n\r\n        \r\n      </header>\r\n      <Checkin />\r\n      \r\n      <section className=\"section__container about__container\" id=\"about\">\r\n        <div className=\"about__image\">\r\n          <img src={about} alt=\"about\" />\r\n        </div>\r\n        <div className=\"about__content\">\r\n          <p className=\"section__subheader\">ABOUT US</p>\r\n          <h2 className=\"section__header\">The Best Holidays Start Here!</h2>\r\n          <p className=\"section__description\">\r\n            With a focus on quality accommodations, personalized experiences, and\r\n            seamless booking, our platform is dedicated to ensuring that every\r\n            traveler embarks on their dream holiday with confidence and\r\n            excitement.\r\n          </p>\r\n          <div className=\"about__btn\">\r\n            <button className=\"btn\">Read More</button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"section__container room__container\">\r\n  <p className=\"section__subheader\">OUR LIVING ROOM</p>\r\n  <h2 className=\"section__header\">The Most Memorable Rest Time Starts Here.</h2>\r\n  \r\n  <div className=\"room__grid\">\r\n    {/* Map through the rooms array and generate a card for each room */}\r\n    {rooms.length > 0 ? (\r\n      rooms.map((room) => (\r\n        <div className=\"room__card\" key={room._id}>\r\n          <div className=\"room__card__image\">\r\n            {/* Check if room.images is an array and has at least one element */}\r\n            <img src={(room.images && room.images.length > 0) \r\n              ? `${import.meta.env.VITE_API}/uploads/${room.images[0]}` \r\n              : room1} \r\n              alt={room.roomtype} \r\n            />\r\n            <div className=\"room__card__icons\">\r\n              <span><i className=\"ri-heart-fill\"></i></span>\r\n              <span><i className=\"ri-paint-fill\"></i></span>\r\n              <span><i className=\"ri-shield-star-line\"></i></span>\r\n            </div>\r\n          </div>\r\n          <div className=\"room__card__details\">\r\n            <h4>{room.roomtype}</h4>\r\n            <p>{room.description}</p>\r\n            <h5>Starting from <span>â‚¹{room.rate}/night</span></h5>\r\n            <button className=\"btn\" onClick={() => handleSeeDetails(room)}>See Details</button>\r\n          </div>\r\n        </div>\r\n      ))\r\n    ) : (\r\n      <p>No rooms available</p> // Show message when no rooms are available\r\n    )}\r\n  </div>\r\n</section>\r\n\r\n\r\n      <section className=\"service\" id=\"service\">\r\n        <div className=\"section__container service__container\">\r\n          <div className=\"service__content\">\r\n            <p className=\"section__subheader\">SERVICES</p>\r\n            <h2 className=\"section__header\">Strive Only For The Best.</h2>\r\n            <ul className=\"service__list\">\r\n              <li>\r\n                <span><i className=\"ri-shield-star-line\"></i></span>\r\n                High class Security\r\n              </li>\r\n              <li>\r\n                <span><i className=\"ri-24-hours-line\"></i></span>\r\n                24 Hours Room Service\r\n              </li>\r\n              <li>\r\n                <span><i className=\"ri-headphone-line\"></i></span>\r\n                Conference Room\r\n              </li>\r\n              <li>\r\n                <span><i className=\"ri-map-2-line\"></i></span>\r\n                Tourist Guide Support\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"section__container banner__container\">\r\n        <div className=\"banner__content\">\r\n          <div className=\"banner__card\">\r\n            <h4>25+</h4>\r\n            <p>Properties Available</p>\r\n          </div>\r\n          <div className=\"banner__card\">\r\n            <h4>350+</h4>\r\n            <p>Bookings Completed</p>\r\n          </div>\r\n          <div className=\"banner__card\">\r\n            <h4>600+</h4>\r\n            <p>Happy Customers</p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* <section className=\"explore\" id=\"explore\">\r\n        <p className=\"section__subheader\">EXPLORE</p>\r\n        <h2 className=\"section__header\">What's New Today.</h2>\r\n        <div className=\"explore__bg\">\r\n          <div className=\"explore__content\">\r\n            <p className=\"section__description\">10th MAR 2023</p>\r\n            <h4>A New Menu Is Available In Our Hotel.</h4>\r\n            <button className=\"btn\">Continue</button>\r\n          </div>\r\n        </div>\r\n      </section> */}\r\n\r\n      <Gallery />\r\n\r\n      <footer className=\"footer\" id=\"contact\">\r\n        <div className=\"section__container footer__container\">\r\n          <div className=\"footer__col\">\r\n            <div className=\"logo\">\r\n            <a href=\"#home\" onClick={()=>{navigate('/')}}><img src={logo} alt=\"logo\" /></a>\r\n            </div>\r\n            \r\n          </div>\r\n          <div className=\"footer__col\">\r\n            <h4>QUICK LINKS</h4>\r\n            <ul className=\"footer__links\">\r\n            <li><a href=\"#home\" onClick={()=>{navigate('/')}}>Home</a></li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"footer__col\">\r\n            <h4>OUR SERVICES</h4>\r\n            <ul className=\"footer__links\">\r\n            <li><a href=\"\" onClick={()=>{navigate('/rooms')}}>Reserve room</a></li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"footer__col\">\r\n            <h4>CONTACT US</h4>\r\n            <ul className=\"footer__links\">\r\n              <li><a href=\"#\">intellistay@info.com</a></li>\r\n            </ul>\r\n            <div className=\"footer__socials\">\r\n              <a href=\"#\"><img src={facebook} alt=\"facebook\" /></a>\r\n              <a href=\"#\"><img src={instagram} alt=\"instagram\" /></a>\r\n              <a href=\"#\"><img src={youtube} alt=\"youtube\" /></a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"footer__bar\">\r\n          Copyright Â© 2024 INTELLISTAY Pvt.LTD. All rights reserved.\r\n        </div>\r\n      </footer>\r\n\r\n      {showChatbot && (\r\n        <div className=\"chatbot-wrapper\">\r\n          <Chatbot />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react'\r\n\r\n function Public() {\r\n  return (\r\n    <div>\r\n      Public\r\n    </div>\r\n  )\r\n}\r\nexport default Public;","export default \"data:image/svg+xml,%3csvg%20width='9'%20height='9'%20viewBox='0%200%209%209'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3.33329%205.1721C3.33329%205.13139%203.36661%205.09807%203.40732%205.09807H3.73306C3.77377%205.09807%203.80709%205.13139%203.80709%205.1721V6.43803H6.43517V5.00924C6.43517%203.99946%205.6164%203.18068%204.60662%203.18068C3.59684%203.18068%202.77806%203.99946%202.77806%205.00924V6.43803H3.33329V5.1721Z'%20fill='%23492419'/%3e%3cpath%20d='M2.42205%203.13997L2.71522%202.84681C2.73817%202.82386%202.73817%202.78611%202.71522%202.76316L2.21255%202.26049C2.20142%202.24947%202.18639%202.24328%202.17072%202.24328C2.15506%202.24328%202.14002%202.24947%202.12889%202.26049L1.83573%202.55365C1.82471%202.56478%201.81853%202.57981%201.81853%202.59548C1.81853%202.61114%201.82471%202.62617%201.83573%202.63731L2.3384%203.13997C2.36135%203.16292%202.39836%203.16292%202.42205%203.13997ZM7.37915%202.55365L7.08598%202.26049C7.07485%202.24947%207.05982%202.24328%207.04416%202.24328C7.02849%202.24328%207.01346%202.24947%207.00233%202.26049L6.49966%202.76316C6.48864%202.77429%206.48246%202.78932%206.48246%202.80498C6.48246%202.82065%206.48864%202.83568%206.49966%202.84681L6.79282%203.13997C6.81577%203.16292%206.85353%203.16292%206.87648%203.13997L7.37915%202.63731C7.40209%202.61362%207.40209%202.5766%207.37915%202.55365ZM4.39941%202.17387H4.81398C4.84656%202.17387%204.87321%202.14722%204.87321%202.11465V1.40395C4.87321%201.37138%204.84656%201.34473%204.81398%201.34473H4.39941C4.36684%201.34473%204.34019%201.37138%204.34019%201.40395V2.11465C4.34019%202.14722%204.36684%202.17387%204.39941%202.17387ZM6.97568%207.44485H2.23772C2.10668%207.44485%202.00082%207.55072%202.00082%207.68175V7.85943C2.00082%207.892%202.02747%207.91865%202.06004%207.91865H7.15335C7.18593%207.91865%207.21258%207.892%207.21258%207.85943V7.68175C7.21258%207.55072%207.10671%207.44485%206.97568%207.44485ZM2.24512%206.73416C2.24512%206.86519%202.35099%206.97106%202.48202%206.97106H6.73138C6.86241%206.97106%206.96828%206.86519%206.96828%206.73416V5.00925C6.96828%203.70483%205.91112%202.64767%204.6067%202.64767C3.30228%202.64767%202.24512%203.70483%202.24512%205.00925V6.73416ZM2.77814%205.00925C2.77814%203.99947%203.59692%203.18069%204.6067%203.18069C5.61648%203.18069%206.43526%203.99947%206.43526%205.00925V6.43804H3.80717V5.17211C3.80717%205.1314%203.77385%205.09808%203.73314%205.09808H3.4074C3.36669%205.09808%203.33337%205.1314%203.33337%205.17211V6.43804H2.77814V5.00925Z'%20fill='%23FE2E00'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='11'%20height='13'%20viewBox='0%200%2011%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.28171%2012.4278C6.09882%2012.4278%206.76163%2011.765%206.76163%2010.9472H3.80179C3.80179%2011.765%204.46459%2012.4278%205.28171%2012.4278ZM10.2647%208.96429C9.8177%208.48402%208.98139%207.76153%208.98139%205.39486C8.98139%203.59731%207.72102%202.15833%206.02155%201.8053V1.32318C6.02155%200.914389%205.69026%200.58287%205.28171%200.58287C4.87315%200.58287%204.54186%200.914389%204.54186%201.32318V1.8053C2.8424%202.15833%201.58203%203.59731%201.58203%205.39486C1.58203%207.76153%200.745713%208.48402%200.298753%208.96429C0.159946%209.11351%200.0984076%209.29188%200.0995643%209.46655C0.102109%209.84595%200.399851%2010.2069%200.842184%2010.2069H9.72123C10.1636%2010.2069%2010.4615%209.84595%2010.4639%209.46655C10.465%209.29188%2010.4035%209.11328%2010.2647%208.96429Z'%20fill='%238A8587'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='13'%20height='12'%20viewBox='0%200%2013%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.5281%202.6345C10.8677%202.35919%2010.2067%202.25445%209.54605%202.25445C7.44886%202.25428%205.35184%203.30932%203.25465%203.30932C2.7287%203.30932%202.20308%203.24299%201.67712%203.07716C1.61804%203.05855%201.55879%203.04975%201.5009%203.04975C1.20786%203.04975%200.951782%203.27514%200.951782%203.58802V8.95647C0.951782%209.17018%201.07489%209.37273%201.27257%209.45497C1.93304%209.73044%202.59401%209.83519%203.25465%209.83519C5.35184%209.83519%207.44903%208.78015%209.54622%208.78015C10.0722%208.78015%2010.5978%208.84648%2011.1237%209.01231C11.1828%209.03092%2011.2421%209.03972%2011.3%209.03972C11.593%209.03972%2011.8491%208.81433%2011.8491%208.50145V3.13317C11.8489%202.91929%2011.7258%202.71691%2011.5281%202.6345ZM1.76907%203.9503C2.11165%204.03559%202.46921%204.0784%202.83699%204.10141C2.73687%204.59873%202.2969%204.97353%201.76907%204.97353V3.9503ZM1.76907%208.77287V7.96437C2.35428%207.96437%202.82779%208.42581%202.85384%209.00334C2.47023%208.97271%202.11165%208.89656%201.76907%208.77287ZM6.40035%207.66926C5.64794%207.66926%205.03821%206.94182%205.03821%206.04482C5.03821%205.14765%205.64811%204.42038%206.40035%204.42038C7.15259%204.42038%207.76249%205.14765%207.76249%206.04482C7.76249%206.94216%207.15242%207.66926%206.40035%207.66926ZM11.0316%208.13934C10.7333%208.06505%2010.4236%208.02343%2010.1067%207.99652C10.2067%207.55521%2010.575%207.22017%2011.0316%207.16264V8.13934ZM11.0316%204.14405C10.5057%204.07789%2010.0975%203.64149%2010.0814%203.10255C10.4141%203.13927%2010.7299%203.20797%2011.0316%203.31677V4.14405Z'%20fill='white'%20fill-opacity='0.4'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='13'%20height='12'%20viewBox='0%200%2013%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.83536%201.54747H8.05863C8.05863%200.763487%207.42123%200.126083%206.63724%200.126083C5.85326%200.126083%205.21585%200.763487%205.21585%201.54747H3.43912C2.85057%201.54747%202.37308%202.02497%202.37308%202.61351V10.4311C2.37308%2011.0197%202.85057%2011.4972%203.43912%2011.4972H9.83536C10.4239%2011.4972%2010.9014%2011.0197%2010.9014%2010.4311V2.61351C10.9014%202.02497%2010.4239%201.54747%209.83536%201.54747ZM4.50516%209.54278C4.20978%209.54278%203.97214%209.30514%203.97214%209.00976C3.97214%208.71438%204.20978%208.47674%204.50516%208.47674C4.80054%208.47674%205.03818%208.71438%205.03818%209.00976C5.03818%209.30514%204.80054%209.54278%204.50516%209.54278ZM4.50516%207.4107C4.20978%207.4107%203.97214%207.17306%203.97214%206.87768C3.97214%206.58229%204.20978%206.34466%204.50516%206.34466C4.80054%206.34466%205.03818%206.58229%205.03818%206.87768C5.03818%207.17306%204.80054%207.4107%204.50516%207.4107ZM4.50516%205.27861C4.20978%205.27861%203.97214%205.04098%203.97214%204.74559C3.97214%204.45021%204.20978%204.21257%204.50516%204.21257C4.80054%204.21257%205.03818%204.45021%205.03818%204.74559C5.03818%205.04098%204.80054%205.27861%204.50516%205.27861ZM6.63724%201.01445C6.93262%201.01445%207.17026%201.25209%207.17026%201.54747C7.17026%201.84285%206.93262%202.08049%206.63724%202.08049C6.34186%202.08049%206.10422%201.84285%206.10422%201.54747C6.10422%201.25209%206.34186%201.01445%206.63724%201.01445ZM9.48002%209.18743C9.48002%209.28515%209.40006%209.3651%209.30234%209.3651H6.10422C6.0065%209.3651%205.92655%209.28515%205.92655%209.18743V8.83208C5.92655%208.73436%206.0065%208.65441%206.10422%208.65441H9.30234C9.40006%208.65441%209.48002%208.73436%209.48002%208.83208V9.18743ZM9.48002%207.05535C9.48002%207.15307%209.40006%207.23302%209.30234%207.23302H6.10422C6.0065%207.23302%205.92655%207.15307%205.92655%207.05535V6.7C5.92655%206.60228%206.0065%206.52233%206.10422%206.52233H9.30234C9.40006%206.52233%209.48002%206.60228%209.48002%206.7V7.05535ZM9.48002%204.92327C9.48002%205.02099%209.40006%205.10094%209.30234%205.10094H6.10422C6.0065%205.10094%205.92655%205.02099%205.92655%204.92327V4.56792C5.92655%204.4702%206.0065%204.39025%206.10422%204.39025H9.30234C9.40006%204.39025%209.48002%204.4702%209.48002%204.56792V4.92327Z'%20fill='white'%20fill-opacity='0.4'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.951782%2010.4413C0.951782%2010.9458%201.35854%2011.3551%201.85989%2011.3551H10.941C11.4423%2011.3551%2011.8491%2010.9458%2011.8491%2010.4413V7.0909H0.951782V10.4413ZM4.58422%209.14684C4.58422%209.0212%204.68638%208.9184%204.81124%208.9184H7.38422C7.50909%208.9184%207.61125%209.0212%207.61125%209.14684V9.90829C7.61125%2010.0339%207.50909%2010.1367%207.38422%2010.1367H4.81124C4.68638%2010.1367%204.58422%2010.0339%204.58422%209.90829V9.14684ZM2.16259%209.14684C2.16259%209.0212%202.26476%208.9184%202.38962%208.9184H3.75178C3.87665%208.9184%203.97881%209.0212%203.97881%209.14684V9.90829C3.97881%2010.0339%203.87665%2010.1367%203.75178%2010.1367H2.38962C2.26476%2010.1367%202.16259%2010.0339%202.16259%209.90829V9.14684ZM11.8491%203.74049V4.65424H0.951782V3.74049C0.951782%203.23602%201.35854%202.82674%201.85989%202.82674H10.941C11.4423%202.82674%2011.8491%203.23602%2011.8491%203.74049Z'%20fill='white'%20fill-opacity='0.4'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_2_45)'%3e%3cpath%20d='M4.56435%205.37395L5.98573%206.79534L10.7237%202.05738'%20stroke='%23BDBABB'%20stroke-width='0.947592'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.2498%205.84773V9.1643C10.2498%209.41562%2010.15%209.65665%209.97228%209.83435C9.79457%2010.0121%209.55355%2010.1119%209.30223%2010.1119H2.66909C2.41777%2010.1119%202.17675%2010.0121%201.99904%209.83435C1.82133%209.65665%201.7215%209.41562%201.7215%209.1643V2.53116C1.7215%202.27984%201.82133%202.03882%201.99904%201.86111C2.17675%201.6834%202.41777%201.58357%202.66909%201.58357H7.88084'%20stroke='%23BDBABB'%20stroke-width='0.947592'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2_45'%3e%3crect%20width='11.3711'%20height='11.3711'%20fill='white'%20transform='translate(0.300171%200.16217)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='12'%20height='13'%20viewBox='0%200%2012%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.30225%202.3931H2.6691C2.14576%202.3931%201.72151%202.81735%201.72151%203.34069V9.97383C1.72151%2010.4972%202.14576%2010.9214%202.6691%2010.9214H9.30225C9.82559%2010.9214%2010.2498%2010.4972%2010.2498%209.97383V3.34069C10.2498%202.81735%209.82559%202.3931%209.30225%202.3931Z'%20stroke='%238A8587'%20stroke-width='0.947592'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='13'%20height='12'%20viewBox='0%200%2013%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.1777%207.55002L11.1575%206.98605C11.2605%206.45418%2011.2605%205.90855%2011.1575%205.37668L12.1777%204.81271C12.2951%204.74852%2012.3477%204.61555%2012.3094%204.49176C12.0436%203.67561%2011.591%202.93741%2010.9995%202.323C10.9085%202.22901%2010.76%202.20608%2010.645%202.27027L9.62483%202.83424C9.19616%202.48119%208.70282%202.20837%208.16878%202.02955V0.903911C8.16878%200.775528%208.07538%200.663193%207.94367%200.635683C7.06477%200.447693%206.16431%200.456863%205.32852%200.635683C5.19681%200.663193%205.10341%200.775528%205.10341%200.903911V2.03185C4.57176%202.21296%204.07843%202.48577%203.64736%202.83653L2.62956%202.27257C2.51221%202.20837%202.36613%202.22901%202.27513%202.32529C1.68361%202.93741%201.23099%203.67561%200.965161%204.49405C0.924449%204.61785%200.97953%204.75081%201.09688%204.81501L2.11707%205.37897C2.01409%205.91085%202.01409%206.45647%202.11707%206.98835L1.09688%207.55231C0.97953%207.6165%200.926844%207.74947%200.965161%207.87327C1.23099%208.68942%201.68361%209.42762%202.27513%2010.042C2.36613%2010.136%202.51461%2010.1589%202.62956%2010.0948L3.64975%209.53079C4.07843%209.88384%204.57176%2010.1567%205.1058%2010.3355V11.4634C5.1058%2011.5918%205.1992%2011.7041%205.33092%2011.7316C6.20982%2011.9196%207.11027%2011.9105%207.94606%2011.7316C8.07778%2011.7041%208.17117%2011.5918%208.17117%2011.4634V10.3355C8.70282%2010.1544%209.19616%209.88155%209.62722%209.53079L10.6474%2010.0948C10.7648%2010.1589%2010.9108%2010.1383%2011.0018%2010.042C11.5934%209.42991%2012.046%208.69171%2012.3118%207.87327C12.3477%207.74718%2012.2951%207.61421%2012.1777%207.55002ZM6.63609%208.01541C5.57998%208.01541%204.72024%207.19238%204.72024%206.18137C4.72024%205.17035%205.57998%204.34732%206.63609%204.34732C7.69221%204.34732%208.55195%205.17035%208.55195%206.18137C8.55195%207.19238%207.69221%208.01541%206.63609%208.01541Z'%20fill='white'%20fill-opacity='0.4'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='13'%20height='10'%20viewBox='0%200%2013%2010'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.71764%202.87847L2.92624%206.00113V9.37137C2.92624%209.45863%202.96091%209.54232%203.02261%209.60403C3.08431%209.66573%203.168%209.7004%203.25526%209.7004L5.55967%209.69443C5.64665%209.694%205.72992%209.65914%205.79127%209.59748C5.85261%209.53583%205.88705%209.45239%205.88705%209.36541V7.39722C5.88705%207.30996%205.92172%207.22627%205.98342%207.16456C6.04513%207.10286%206.12882%207.0682%206.21608%207.0682H7.53218C7.61944%207.0682%207.70313%207.10286%207.76483%207.16456C7.82654%207.22627%207.8612%207.30996%207.8612%207.39722V9.36397C7.86107%209.40726%207.86948%209.45016%207.88595%209.4902C7.90243%209.53023%207.92664%209.56663%207.95721%209.59729C7.98777%209.62795%208.02409%209.65228%208.06408%209.66888C8.10406%209.68548%208.14693%209.69402%208.19023%209.69402L10.4938%209.7004C10.5811%209.7004%2010.6648%209.66573%2010.7265%209.60403C10.7882%209.54232%2010.8228%209.45863%2010.8228%209.37137V5.99886L7.03227%202.87847C6.9877%202.84255%206.93219%202.82297%206.87495%202.82297C6.81771%202.82297%206.7622%202.84255%206.71764%202.87847ZM12.7065%205.00089L10.9874%203.58382V0.735492C10.9874%200.670045%2010.9614%200.607279%2010.9151%200.561001C10.8688%200.514723%2010.806%200.488724%2010.7406%200.488724H9.58899C9.52355%200.488724%209.46078%200.514723%209.4145%200.561001C9.36823%200.607279%209.34223%200.670045%209.34223%200.735492V2.22865L7.50113%200.7139C7.32444%200.568508%207.10274%200.489014%206.87392%200.489014C6.64511%200.489014%206.4234%200.568508%206.24672%200.7139L1.04134%205.00089C1.01635%205.02154%200.995677%205.04692%200.980499%205.07556C0.965321%205.10421%200.955936%205.13557%200.952881%205.16784C0.949825%205.20011%200.953159%205.23267%200.962691%205.26366C0.972224%205.29464%200.987768%205.32345%201.00844%205.34842L1.53282%205.98591C1.55343%206.01097%201.57878%206.03172%201.60743%206.04698C1.63607%206.06223%201.66744%206.07168%201.69974%206.07479C1.73204%206.07791%201.76463%206.07462%201.79566%206.06512C1.82669%206.05562%201.85554%206.04009%201.88056%206.01943L6.71764%202.03535C6.7622%201.99943%206.81771%201.97984%206.87495%201.97984C6.93219%201.97984%206.9877%201.99943%207.03227%202.03535L11.8696%206.01943C11.8945%206.0401%2011.9233%206.05564%2011.9543%206.06517C11.9853%206.07471%2012.0179%206.07804%2012.0501%206.07498C12.0824%206.07193%2012.1138%206.06254%2012.1424%206.04737C12.1711%206.03219%2012.1964%206.01151%2012.2171%205.98653L12.7415%205.34904C12.7621%205.32392%2012.7776%205.29497%2012.787%205.26385C12.7964%205.23273%2012.7996%205.20005%2012.7964%205.1677C12.7931%205.13534%2012.7835%205.10395%2012.7681%205.07533C12.7527%205.0467%2012.7317%205.0214%2012.7065%205.00089Z'%20fill='white'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20viewBox='0%200%2020%2020'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%203h20v2H0V3zm0%206h20v2H0V9zm0%206h20v2H0v-2z'%20fill='%23ffffff'%20class='fill-000000'%3e%3c/path%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='13'%20height='12'%20viewBox='0%200%2013%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.5243%200.0993558L1.22926%206.0369C0.827235%206.26783%200.878322%206.82739%201.27813%206.99614L3.63922%207.98647L10.0206%202.36424C10.1428%202.25543%2010.316%202.42197%2010.2116%202.54854L4.86086%209.06562V10.8531C4.86086%2011.3771%205.49389%2011.5836%205.80485%2011.2039L7.21528%209.48751L9.98284%2010.6466C10.2982%2010.7798%2010.6581%2010.5822%2010.7158%2010.2425L12.3151%200.650033C12.3906%200.201498%2011.9086%20-0.122691%2011.5243%200.0993558Z'%20fill='white'%20fill-opacity='0.4'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='12'%20height='13'%20viewBox='0%200%2012%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.11462%206.648H2.32425M6.11462%2010.4384V6.648V10.4384ZM6.11462%206.648V2.85764V6.648ZM6.11462%206.648H9.90498H6.11462Z'%20stroke='white'%20stroke-opacity='0.67'%20stroke-width='0.947592'%20stroke-linecap='round'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.9822%208.99957H2.78764V2.99815C2.78764%202.82364%202.63525%202.68229%202.4471%202.68229H1.76602C1.57787%202.68229%201.42548%202.82364%201.42548%202.99815V9.6313C1.42548%209.98013%201.73047%2010.263%202.10656%2010.263H11.9822C12.1704%2010.263%2012.3228%2010.1217%2012.3228%209.94716V9.31543C12.3228%209.14092%2012.1704%208.99957%2011.9822%208.99957ZM11.3012%203.31402H8.78839C8.33335%203.31402%208.1054%203.82433%208.42721%204.12283L9.1168%204.76245L7.55521%206.21108L5.99362%204.76265C5.72757%204.51588%205.29636%204.51588%205.03053%204.76265L3.56854%206.11869C3.43552%206.24208%203.43552%206.44206%203.56854%206.56544L4.04998%207.01199C4.18301%207.13538%204.39861%207.13538%204.53163%207.01199L5.51197%206.1025L7.07356%207.55094C7.33961%207.79771%207.77082%207.79771%208.03665%207.55094L10.0799%205.65575L10.7695%206.29538C11.0913%206.59387%2011.6415%206.38244%2011.6415%205.96036V3.62988C11.6417%203.45537%2011.4893%203.31402%2011.3012%203.31402Z'%20fill='white'%20fill-opacity='0.4'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.5748%209.8894L9.36038%207.67498C9.26043%207.57503%209.12494%207.5195%208.98279%207.5195H8.62076C9.23378%206.73546%209.59803%205.7493%209.59803%204.67652C9.59803%202.1245%207.53021%200.0566711%204.97819%200.0566711C2.42616%200.0566711%200.358337%202.1245%200.358337%204.67652C0.358337%207.22854%202.42616%209.29637%204.97819%209.29637C6.05097%209.29637%207.03713%208.93211%207.82117%208.31909V8.68113C7.82117%208.82328%207.8767%208.95876%207.97665%209.05871L10.1911%2011.2731C10.3998%2011.4819%2010.7374%2011.4819%2010.944%2011.2731L11.5726%2010.6446C11.7814%2010.4358%2011.7814%2010.0982%2011.5748%209.8894ZM4.97819%207.5195C3.40788%207.5195%202.1352%206.24905%202.1352%204.67652C2.1352%203.10622%203.40566%201.83354%204.97819%201.83354C6.54849%201.83354%207.82117%203.10399%207.82117%204.67652C7.82117%206.24682%206.55071%207.5195%204.97819%207.5195Z'%20fill='%238A8587'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='13'%20height='12'%20viewBox='0%200%2013%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.63739%205.75586C8.4319%205.75586%209.88628%204.48328%209.88628%202.91309C9.88628%201.3429%208.4319%200.0703125%206.63739%200.0703125C4.84289%200.0703125%203.38851%201.3429%203.38851%202.91309C3.38851%204.48328%204.84289%205.75586%206.63739%205.75586ZM8.91162%206.46656H8.48774C7.92426%206.69309%207.29732%206.82191%206.63739%206.82191C5.97746%206.82191%205.35307%206.69309%204.78705%206.46656H4.36317C2.47984%206.46656%200.951843%207.80355%200.951843%209.45147V10.3754C0.951843%2010.9639%201.49755%2011.4414%202.17018%2011.4414H11.1046C11.7772%2011.4414%2012.3229%2010.9639%2012.3229%2010.3754V9.45147C12.3229%207.80355%2010.795%206.46656%208.91162%206.46656Z'%20fill='white'%20fill-opacity='0.4'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='13'%20height='12'%20viewBox='0%200%2013%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.7679%203.56526H2.65449C2.46634%203.56526%202.31395%203.42139%202.31395%203.24376C2.31395%203.06613%202.46634%202.92225%202.65449%202.92225H10.8275C11.0156%202.92225%2011.168%202.77838%2011.168%202.60075C11.168%202.06805%2010.7106%201.63623%2010.1464%201.63623H2.31395C1.56156%201.63623%200.951782%202.21193%200.951782%202.92225V9.35234C0.951782%2010.0627%201.56156%2010.6384%202.31395%2010.6384H10.7679C11.3642%2010.6384%2011.8491%2010.2057%2011.8491%209.67384V4.52977C11.8491%203.99789%2011.3642%203.56526%2010.7679%203.56526ZM9.80584%207.74482C9.42976%207.74482%209.12476%207.45687%209.12476%207.10181C9.12476%206.74675%209.42976%206.4588%209.80584%206.4588C10.1819%206.4588%2010.4869%206.74675%2010.4869%207.10181C10.4869%207.45687%2010.1819%207.74482%209.80584%207.74482Z'%20fill='white'%20fill-opacity='0.4'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='13'%20height='13'%20viewBox='0%200%2013%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.87413%201.59013C3.86503%201.59013%201.42548%203.75673%201.42548%206.42961C1.42548%207.58271%201.88116%208.64019%202.63908%209.47151C2.37175%2010.6421%201.48294%2011.6872%201.4723%2011.6995C1.44938%2011.7259%201.43405%2011.7591%201.42819%2011.7949C1.42234%2011.8307%201.42622%2011.8676%201.43936%2011.901C1.45249%2011.9345%201.47431%2011.963%201.50211%2011.983C1.52991%2012.003%201.56246%2012.0136%201.59575%2012.0136C3.00601%2012.0136%204.06445%2011.2749%204.58825%2010.8182C5.28402%2011.1046%206.05662%2011.2691%206.87413%2011.2691C9.88323%2011.2691%2012.3228%209.1025%2012.3228%206.42961C12.3228%203.75673%209.88323%201.59013%206.87413%201.59013ZM7.38494%208.62693V9.03549C7.38494%209.24117%207.23255%209.40776%207.0444%209.40776H6.70386C6.51571%209.40776%206.36332%209.24117%206.36332%209.03549V8.62297C6.12026%208.59156%205.88911%208.50222%205.68692%208.35633C5.55453%208.26071%205.54176%208.05131%205.65393%207.92869L6.02682%207.52106C6.10642%207.43404%206.22497%207.42241%206.32714%207.47383C6.39482%207.5078%206.46889%207.52548%206.54551%207.52548H7.24319C7.34237%207.52548%207.42283%207.43753%207.42283%207.32957C7.42283%207.24232%207.36919%207.16484%207.29257%207.14088L6.22689%206.80816C5.75332%206.66042%205.37532%206.23324%205.3136%205.69904C5.2274%204.95287%205.71863%204.31629%206.36332%204.23207V3.82374C6.36332%203.61806%206.51571%203.45147%206.70386%203.45147H7.0444C7.23255%203.45147%207.38494%203.61806%207.38494%203.82374V4.23626C7.628%204.26767%207.85914%204.35701%208.06134%204.50289C8.19373%204.59852%208.20649%204.80792%208.09433%204.93054L7.72144%205.33817C7.64184%205.42519%207.52329%205.43682%207.42112%205.3854C7.3526%205.35115%207.2781%205.33353%207.20275%205.33375H6.50507C6.40589%205.33375%206.32543%205.4217%206.32543%205.52965C6.32543%205.61691%206.37907%205.69438%206.45569%205.71835L7.52137%206.05106C7.99493%206.19904%208.37293%206.62598%208.43466%207.16019C8.52086%207.90612%208.02963%208.5427%207.38494%208.62693Z'%20fill='white'%20fill-opacity='0.4'/%3e%3c/svg%3e\"","export default \"__VITE_ASSET__wwMmB2MA__\"","export default \"__VITE_ASSET__kozxx72j__\"","export default \"__VITE_ASSET__BtwtuVXF__\"","export default \"__VITE_ASSET__Dzg3flKO__\"","// icons svg images\nimport alert from \"../assets/icons/alert.svg\";\nimport bell from \"../assets/icons/bell.svg\";\nimport bills from \"../assets/icons/bills.svg\";\nimport budget from \"../assets/icons/budget.svg\";\nimport card from \"../assets/icons/card.svg\";\nimport check from \"../assets/icons/check.svg\";\nimport empty_check from \"../assets/icons/empty_check.svg\";\nimport gears from \"../assets/icons/gears.svg\";\nimport home from \"../assets/icons/home.svg\";\nimport menu from \"../assets/icons/menu.svg\";\nimport plane from \"../assets/icons/plane.svg\";\nimport plus from \"../assets/icons/plus.svg\";\nimport report from \"../assets/icons/report.svg\";\nimport search from \"../assets/icons/search.svg\";\nimport user from \"../assets/icons/user.svg\";\nimport wallet from \"../assets/icons/wallet.svg\";\nimport wealth from \"../assets/icons/wealth.svg\";\n\n// person images\nimport person_one from \"../assets/images/person_one.jpg\";\nimport person_two from \"../assets/images/person_two.jpg\";\nimport person_three from \"../assets/images/person_three.jpg\";\nimport person_four from \"../assets/images/person_four.jpg\";\n\nexport const iconsImgs = {\n    alert, bell, bills, budget, card, check, empty_check, gears, home, menu, plane, plus, report, search, user, wallet, wealth\n}\n\nexport const personsImgs = {\n    person_one, person_two, person_three, person_four\n};\n\n","import { iconsImgs } from \"../utils/images\";\nimport { personsImgs } from \"../utils/images\";\n\nexport const navigationLinks = [\n    { id: 1, title: 'Home', image: iconsImgs.home },\n    { id: 2, title: 'Budget', image: iconsImgs.budget },\n    { id: 3, title: 'Transactions', image: iconsImgs.plane },\n    { id: 4, title: 'Subscriptions', image: iconsImgs.wallet },\n    { id: 5, title: 'Loans', image: iconsImgs.bills },\n    { id: 6, title: 'Reports', image: iconsImgs.report },\n    { id: 7, title: 'Savings', image: iconsImgs.wallet },\n    { id: 8, title: 'Financial Advice', image: iconsImgs.wealth },\n    { id: 9, title: 'Account', image: iconsImgs.user },\n    { id: 10, title: 'Settings', image: iconsImgs.gears }\n];\n\nexport const transactions = [\n    {\n        id: 11, \n        name: \"Sarah Parker\",\n        image: personsImgs.person_four,\n        date: \"23/12/04\",\n        amount: 22000\n    },\n    {\n        id: 12, \n        name: \"Krisitine Carter\",\n        image: personsImgs.person_three,\n        date: \"23/07/21\",\n        amount: 20000\n    },\n    {\n        id: 13, \n        name: \"Irene Doe\",\n        image: personsImgs.person_two,\n        date: \"23/08/25\",\n        amount: 30000\n    }\n];\n\nexport const reportData = [\n    {\n        id: 14,\n        month: \"Jan\",\n        value1: 45,\n        value2: null\n    },\n    {\n        id: 15,\n        month: \"Feb\",\n        value1: 45,\n        value2: 60\n    },\n    {\n        id: 16,\n        month: \"Mar\",\n        value1: 45,\n        value2: null\n    },\n    {\n        id: 17,\n        month: \"Apr\",\n        value1: 45,\n        value2: null\n    },\n    {\n        id: 18,\n        month: \"May\",\n        value1: 45,\n        value2: null\n    }\n];\n\nexport const budget = [\n    {\n        id: 19, \n        title: \"Subscriptions\",\n        type: \"Automated\",\n        amount: 22000\n    },\n    {\n        id: 20, \n        title: \"Loan Payment\",\n        type: \"Automated\",\n        amount: 16000\n    },\n    {\n        id: 21, \n        title: \"Foodstuff\",\n        type: \"Automated\",\n        amount: 20000\n    },\n    {\n        id: 22, \n        title: \"Subscriptions\",\n        type: null,\n        amount: 10000\n    },\n    {\n        id: 23, \n        title: \"Subscriptions\",\n        type: null,\n        amount: 40000\n    }\n];\n\nexport const subscriptions = [\n    {\n        id: 24,\n        title: \"LinkedIn\",\n        due_date: \"23/12/04\",\n        amount: 20000\n    },\n    {\n        id: 25,\n        title: \"Netflix\",\n        due_date: \"23/12/10\",\n        amount: 5000\n    },\n    {\n        id: 26,\n        title: \"DSTV\",\n        due_date: \"23/12/22\",\n        amount: 2000\n    }\n];\n\nexport const savings = [\n    {\n        id: 27,\n        image: personsImgs.person_one,\n        saving_amount: 250000,\n        title: \"Pay kid broâ€™s fees\",\n        date_taken: \"23/12/22\",\n        amount_left: 40000\n    }\n]","import { createContext, useReducer } from \"react\";\nimport reducer from \"../reducer/sidebarReducer\";\nimport PropTypes from 'prop-types';\n\nconst initialState = {\n    isSidebarOpen: false\n}\n\nexport const SidebarContext = createContext({});\nexport const SidebarProvider = ({ children }) => {\n    const [state, dispatch] = useReducer(reducer, initialState);\n    const toggleSidebar = () => {\n        dispatch({ type: \"TOGGLE_SIDEBAR\" })\n    }\n    return (\n        <SidebarContext.Provider value = {{\n            ...state,\n            toggleSidebar\n        }}>\n            { children }\n        </SidebarContext.Provider>\n    )\n}\n\nSidebarProvider.propTypes = {\n    children: PropTypes.node\n}","import { useEffect, useState } from 'react';\nimport { personsImgs } from '../../utils/images';\nimport { navigationLinks } from '../../data/data';\nimport \"./Sidebar.css\";\nimport { useContext } from 'react';\nimport { SidebarContext } from '../../context/sidebarContext';\n\nconst Sidebar = () => {\n  const [activeLinkIdx] = useState(1);\n  const [sidebarClass, setSidebarClass] = useState(\"\");\n  const { isSidebarOpen } = useContext(SidebarContext);\n\n  useEffect(() => {\n    if(isSidebarOpen){\n      setSidebarClass('sidebar-change');\n    } else {\n      setSidebarClass('');\n    }\n  }, [isSidebarOpen]);\n\n  return (\n    <div className={ `sidebar ${sidebarClass}` }>\n      <div className=\"user-info\">\n          <div className=\"info-img img-fit-cover\">\n              <img src={ personsImgs.person_two } alt=\"profile image\" />\n          </div>\n          <span className=\"info-name\">alice-doe</span>\n      </div>\n\n      <nav className=\"navigation\">\n          <ul className=\"nav-list\">\n            {\n              navigationLinks.map((navigationLink) => (\n                <li className=\"nav-item\" key = { navigationLink.id }>\n                  <a href=\"#\" className={ `nav-link ${ navigationLink.id === activeLinkIdx ? 'active' : null }` }>\n                      <img src={ navigationLink.image } className=\"nav-link-icon\" alt = { navigationLink.title } />\n                      <span className=\"nav-link-text\">{ navigationLink.title }</span>\n                  </a>\n                </li>\n              ))\n            }\n          </ul>\n      </nav>\n    </div>\n  )\n}\n\nexport default Sidebar\n","import { iconsImgs } from \"../../utils/images\";\nimport \"./ContentTop.css\";\nimport { useContext } from \"react\";\nimport { SidebarContext } from \"../../context/sidebarContext\";\n\nconst ContentTop = () => {\n  const { toggleSidebar } = useContext(SidebarContext);\n  return (\n    <div className=\"main-content-top\">\n        <div className=\"content-top-left\">\n            <button type=\"button\" className=\"sidebar-toggler\" onClick={() => toggleSidebar() }>\n                <img src={ iconsImgs.menu } alt=\"\" />\n            </button>\n            <h3 className=\"content-top-title\">Home</h3>\n        </div>\n        <div className=\"content-top-btns\">\n            <button type=\"button\" className=\"search-btn content-top-btn\">\n                <img src={ iconsImgs.search } alt=\"\" />\n            </button>\n            <button className=\"notification-btn content-top-btn\">\n                <img src={ iconsImgs.bell } />\n                <span className=\"notification-btn-dot\"></span>\n            </button>\n        </div>\n    </div>\n  )\n}\n\nexport default ContentTop\n","import { iconsImgs } from \"../../utils/images\";\nimport \"./Cards.css\";\n\nconst Cards = () => {\n  return (\n    <div className=\"grid-one-item grid-common grid-c1\">\n        <div className=\"grid-c-title\">\n            <h3 className=\"grid-c-title-text\">Cards</h3>\n            <button className=\"grid-c-title-icon\">\n                <img src={ iconsImgs.plus } />\n            </button>\n        </div>\n        <div className=\"grid-c1-content\">\n            <p>Balance</p>\n            <div className=\"lg-value\">$ 22,000</div>\n            <div className=\"card-wrapper\">\n                <span className=\"card-pin-hidden\">**** **** **** </span>\n                <span>1234</span>\n            </div>\n            <div className=\"card-logo-wrapper\">\n                <div>\n                    <p className=\"text text-silver-v1 expiry-text\">Expires</p>\n                    <p className=\"text text-sm text-white\">12/22</p>\n                </div>\n                <div className=\"card-logo\">\n                    <div className=\"logo-shape1\"></div>\n                    <div className=\"logo-shape2\"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n  )\n}\n\nexport default Cards\n","import \"./Transactions.css\";\nimport { transactions } from \"../../data/data\";\nimport { iconsImgs } from \"../../utils/images\";\n\nconst Transactions = () => {\n  return (\n    <div className=\"grid-one-item grid-common grid-c2\">\n        <div className=\"grid-c-title\">\n            <h3 className=\"grid-c-title-text\">All Transactions</h3>\n            <button className=\"grid-c-title-icon\">\n                <img src={ iconsImgs.plus } />\n            </button>\n        </div>\n\n        <div className=\"grid-content\">\n            <div className=\"grid-items\">\n                {\n                    transactions.map((transaction) => (\n                        <div className=\"grid-item\" key = { transaction.id }>\n                            <div className=\"grid-item-l\">\n                                <div className=\"avatar img-fit-cover\">\n                                    <img src={ transaction.image } alt=\"\" />\n                                </div>\n                                <p className=\"text\">{ transaction.name } <span>{ transaction.date }</span></p>\n                            </div>\n                            <div className=\"grid-item-r\">\n                                <span className=\"text-scarlet\">$ { transaction.amount }</span>\n                            </div>\n                        </div>\n                    ))\n                }\n            </div>\n        </div>\n    </div>\n  )\n}\n\nexport default Transactions\n","import { iconsImgs } from \"../../utils/images\";\nimport \"./Report.css\";\nimport { reportData } from \"../../data/data\";\n\nconst Report = () => {\n  return (\n    <div className=\"grid-one-item grid-common grid-c3\">\n        <div className=\"grid-c-title\">\n            <h3 className=\"grid-c-title-text\">Report</h3>\n            <button className=\"grid-c-title-icon\">\n                <img src={ iconsImgs.plus } />\n            </button>\n        </div>\n        <div className=\"grid-c3-content\">\n            <div className=\"grid-chart\">\n                <div className=\"chart-vert-value\">\n                    <span>100</span>\n                    <span>75</span>\n                    <span>50</span>\n                    <span>25</span>\n                    <span>0</span>\n                </div>\n                {\n                    reportData.map((report) => (\n                        <div className=\"grid-chart-bar\" key={report.id}>\n                            <div className=\"bar-wrapper\">\n                                <div className=\"bar-item1\" style={{ height: `${report.value1 !== null ? \"40%\" : \"\"}` }}></div>\n                                <div className=\"bar-item2\" style={{ height: `${report.value2 !== null ? \"60%\" : \"\"}` }}></div>\n                            </div>\n                            <span className=\"grid-hortz-value\">Jan</span>\n                        </div>\n                    ))\n                }\n                \n            </div>\n        </div>\n    </div>\n  )\n}\n\nexport default Report\n","import \"./Budget.css\";\nimport { iconsImgs } from \"../../utils/images\";\nimport { budget } from \"../../data/data\";\n\nconst Budget = () => {\n  return (\n    <div className=\"grid-two-item grid-common grid-c4\">\n        <div className=\"grid-c-title\">\n            <h3 className=\"grid-c-title-text\">Budget</h3>\n            <button className=\"grid-c-title-icon\">\n                <img src={ iconsImgs.plus } />\n            </button>\n        </div>\n        <div className=\"grid-c-top text-silver-v1\">\n            <h2 className=\"lg-value\">Cash</h2>\n            <span className=\"lg-value\">$ 100,000</span>\n        </div>\n        <div className=\"grid-c4-content bg-jet\">\n            <div className=\"grid-items\">\n                {\n                    budget.map((budget) => (\n                        <div className=\"grid-item\" key = { budget.id }>\n                            <div className=\"grid-item-l\">\n                                <div className=\"icon\">\n                                    <img src={ iconsImgs.check } />\n                                </div>\n                                <p className=\"text text-silver-v1\">{ budget.title } <span>{ budget.type }</span></p>\n                            </div>\n                            <div className=\"grid-item-r\">\n                                <span className=\"text-silver-v1\">$ { budget.amount }</span>\n                            </div>\n                        </div>\n                    ))\n                }\n            </div>\n        </div>\n    </div>\n  )\n}\n\nexport default Budget\n","import { subscriptions } from \"../../data/data\"\nimport { iconsImgs } from \"../../utils/images\"\nimport \"./Subscriptions.css\";\n\nconst Subscriptions = () => {\n  return (\n    <div className=\"subgrid-two-item grid-common grid-c5\">\n        <div className=\"grid-c-title\">\n            <h3 className=\"grid-c-title-text\">Subscriptions</h3>\n            <button className=\"grid-c-title-icon\">\n                <img src={ iconsImgs.plus } />\n            </button>\n        </div>\n        <div className=\"grid-c5-content\">\n            <div className=\"grid-items\">\n                {\n                    subscriptions.map((subscription) => (\n                        <div className=\"grid-item\" key = {subscription.id}>\n                            <div className=\"grid-item-l\">\n                                <div className=\"icon\">\n                                    <img src={ iconsImgs.alert } />\n                                </div>\n                                <p className=\"text text-silver-v1\">{ subscription.title } <span>due { subscription.due_date }</span></p>\n                            </div>\n                            <div className=\"grid-item-r\">\n                                <span className=\"text-silver-v1\">$ { subscription.amount }</span>\n                            </div>\n                        </div>\n                    ))\n                }\n            </div>\n        </div>\n    </div>\n  )\n}\n\nexport default Subscriptions\n","import { savings } from \"../../data/data\";\nimport { iconsImgs, personsImgs } from \"../../utils/images\";\nimport \"./Savings.css\";\n\nconst Savings = () => {\n  return (\n    <div className=\"subgrid-two-item grid-common grid-c6\">\n        <div className=\"grid-c-title\">\n            <h3 className=\"grid-c-title-text\">Savings</h3>\n            <button className=\"grid-c-title-icon\">\n                <img src={ iconsImgs.plus } />\n            </button>\n        </div>\n        <div className=\"grid-c6-content\">\n            <div className=\"grid-items\">\n                {\n                    savings.map((saving) => (\n                        <div className=\"grid-item\" key = { saving.id }>\n                            <div className=\"grid-item-top\">\n                                <div className=\"grid-item-top-l\">\n                                    <div className=\"avatar img-fit-cover\">\n                                        <img src={ personsImgs.person_one } />\n                                    </div>\n                                    <p className=\"text text-silver-v1\">{ saving.title }</p>\n                                </div>\n                                <div className=\"grid-item-top-r\">\n                                    <span className=\"text-silver-v1\">$ { saving.saving_amount }</span>\n                                </div>\n                            </div>\n                            <div className=\"grid-item-bottom\">\n                                <div className=\"grid-item-badges\">\n                                    <span className=\"grid-item-badge\">Date taken { saving.date_taken }</span>\n                                    <span className=\"grid-item-badge\">Amount left $ { saving.amount_left }</span>\n                                </div>\n                                <div className=\"grid-item-progress\">\n                                    <div className=\"grid-item-fill\"></div>\n                                </div>\n                            </div>\n                        </div>\n                    ))\n                }\n            </div>\n        </div>\n    </div>\n  )\n}\n\nexport default Savings\n","import { iconsImgs } from \"../../utils/images\";\nimport \"./Loans.css\";\n\nconst Loans = () => {\n  return (\n    <div className=\"subgrid-two-item grid-common grid-c7\">\n        <div className=\"grid-c-title\">\n            <h3 className=\"grid-c-title-text\">Loans</h3>\n            <button className=\"grid-c-title-icon\">\n                <img src={iconsImgs.plus} />\n            </button>\n        </div>\n        <div className=\"grid-c7-content\">\n            <div className=\"progress-bar\">\n                <div className=\"percent\">\n                    <svg>\n                        <circle cx=\"105\" cy=\"105\" r=\"50\"></circle>\n                        {/* <circle cx=\"105\" cy=\"105\" r=\"50\" style=\"--percent: 50\"></circle> */}\n                    </svg>\n                    <div className=\"number\">\n                        <h3>50<span>%</span></h3>\n                    </div>\n                </div>\n            </div>\n            <ul className=\"data-list\">\n                <li className=\"data-item text-silver-v1\">\n                    <span className=\"data-item-text\">Savings Target</span>\n                    <span className=\"data-item-value\">$ 500,000</span>\n                </li>\n                <li className=\"data-item text-silver-v1\">\n                    <span className=\"data-item-text\">Target Reached</span>\n                    <span className=\"data-item-value\">$ 250,000</span>\n                </li>\n            </ul>\n        </div>\n    </div>\n  )\n}\n\nexport default Loans\n","import { iconsImgs } from \"../../utils/images\"\n\nconst Financial = () => {\n  return (\n    <div className=\"subgrid-two-item grid-common grid-c8\">\n        <div className=\"grid-c-title\">\n            <h3 className=\"grid-c-title-text\">Financial Advice</h3>\n            <button className=\"grid-c-title-icon\">\n                <img src={ iconsImgs.plus } />\n            </button>\n        </div>\n        <div className=\"grid-c8-content\">\n            <p className=\"text text-silver-v1\">Ipsum dolor sit amet consectetur, adipisicing elit.\n                Iste, vitae.....</p>\n        </div>\n    </div>\n  )\n}\n\nexport default Financial\n","import \"./ContentMain.css\";\nimport Cards from \"../Cards/Cards\";\nimport Transactions from \"../Transactions/Transactions\";\nimport Report from \"../Report/Report\";\nimport Budget from \"../Budget/Budget\";\nimport Subscriptions from \"../Subscriptions/Subscriptions\";\nimport Savings from \"../Savings/Savings\";\nimport Loans from \"../Loans/Loans\";\nimport Financial from \"../Financial/Financial\";\n\nconst ContentMain = () => {\n  return (\n    <div className=\"main-content-holder\">\n        <div className=\"content-grid-one\">\n            <Cards />\n            <Transactions />\n            <Report />\n        </div>\n        <div className=\"content-grid-two\">\n            <Budget />\n            <div className=\"grid-two-item\">\n              <div className=\"subgrid-two\">\n                <Subscriptions />\n                <Savings />\n              </div>\n            </div>\n\n            <div className=\"grid-two-item\">\n              <div className=\"subgrid-two\">\n                <Loans />\n                <Financial />\n              </div>\n            </div>\n        </div>\n    </div>\n  )\n}\n\nexport default ContentMain\n","import \"./Content.css\";\nimport ContentTop from '../../components/ContentTop/ContentTop';\nimport ContentMain from '../../components/ContentMain/ContentMain';\n\nconst Content = () => {\n  return (\n    <div className='main-content'>\n      <ContentTop />\n      <ContentMain />\n    </div>\n  )\n}\n\nexport default Content\n","import './ManagerPanel.css';\r\nimport Sidebar from './layout/Sidebar/Sidebar';\r\nimport Content from './layout/Content/Content';\r\n\r\nfunction ManagerPanel() {\r\n  return (\r\n    <>\r\n      <div className='app'>\r\n        <Sidebar />\r\n        <Content />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ManagerPanel","import React from 'react';\r\nimport { FaFacebookF, FaInstagram, FaYoutube, FaTwitter, FaPhone, FaEnvelope, FaMapMarkerAlt } from 'react-icons/fa';\r\nimport { Link } from 'react-router-dom';\r\nimport logo from '../public/logo1.png';\r\nimport './footer.css';\r\n\r\nconst Footer = () => {\r\n  const currentYear = new Date().getFullYear();\r\n\r\n  return (\r\n    <footer className=\"footer\">\r\n      <div className=\"footer-content\">\r\n        {/* Company Info Section */}\r\n        <div className=\"footer-section company-info\">\r\n          <div className=\"logo-container\">\r\n            <img src=\"/logo1.png\" alt=\"IntelliStay Logo\" className=\"footer-logo\" />\r\n          </div>\r\n          <p className=\"company-description\">\r\n            Experience luxury dining with our innovative restaurant management system. \r\n            Making reservations simpler and dining experiences better.\r\n          </p>\r\n          <div className=\"contact-info\">\r\n            <div className=\"contact-item\">\r\n              <FaPhone className=\"contact-icon\" />\r\n              <span>+1 234 567 8900</span>\r\n            </div>\r\n            <div className=\"contact-item\">\r\n              <FaEnvelope className=\"contact-icon\" />\r\n              <span>intellistay@info.com</span>\r\n            </div>\r\n            <div className=\"contact-item\">\r\n              <FaMapMarkerAlt className=\"contact-icon\" />\r\n              <span>123 Dining Street, Foodie City, FC 12345</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Quick Links Section */}\r\n        <div className=\"footer-section quick-links\">\r\n          <h3>Quick Links</h3>\r\n          <ul>\r\n            <li><Link to=\"/\">Home</Link></li>\r\n            <li><Link to=\"/restaurant/menu\">Menu</Link></li>\r\n            <li><Link to=\"/reservations\">Reservations</Link></li>\r\n            <li><Link to=\"/about\">About Us</Link></li>\r\n            <li><Link to=\"/contact\">Contact</Link></li>\r\n          </ul>\r\n        </div>\r\n\r\n        {/* Services Section */}\r\n        <div className=\"footer-section services\">\r\n          <h3>Our Services</h3>\r\n          <ul>\r\n            <li><Link to=\"/table-booking\">Table Booking</Link></li>\r\n            <li><Link to=\"/online-order\">Online Order</Link></li>\r\n            {/* <li><Link to=\"/private-dining\">Private Dining</Link></li>\r\n            <li><Link to=\"/catering\">Catering Service</Link></li>\r\n            <li><Link to=\"/events\">Special Events</Link></li> */}\r\n          </ul>\r\n        </div>\r\n\r\n        {/* Newsletter Section */}\r\n        <div className=\"footer-section newsletter\">\r\n          <h3>Stay Connected</h3>\r\n          <p>Subscribe to our newsletter for updates and special offers</p>\r\n          <div className=\"newsletter-form\">\r\n            <input \r\n              type=\"email\" \r\n              placeholder=\"Enter your email\" \r\n              className=\"newsletter-input\"\r\n            />\r\n            <button className=\"subscribe-btn\">Subscribe</button>\r\n          </div>\r\n          <div className=\"social-links\">\r\n            <a href=\"https://facebook.com\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n              <FaFacebookF className=\"social-icon\" />\r\n            </a>\r\n            <a href=\"https://instagram.com\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n              <FaInstagram className=\"social-icon\" />\r\n            </a>\r\n            <a href=\"https://youtube.com\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n              <FaYoutube className=\"social-icon\" />\r\n            </a>\r\n            <a href=\"https://twitter.com\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n              <FaTwitter className=\"social-icon\" />\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Bottom Bar */}\r\n      <div className=\"footer-bottom\">\r\n        <div className=\"footer-bottom-content\">\r\n          <p>&copy; {currentYear} INTELLISTAY Pvt LTD. All rights reserved.</p>\r\n          <div className=\"footer-bottom-links\">\r\n            <Link to=\"/privacy-policy\">Privacy Policy</Link>\r\n            <Link to=\"/terms\">Terms of Service</Link>\r\n            <Link to=\"/cookies\">Cookie Policy</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;","import axios from 'axios';\r\n\r\nexport const getRecommendations = async (userId, searchCriteria) => {\r\n    try {\r\n        const response = await axios.get(`${import.meta.env.VITE_API}/user/recommendations`, {\r\n            params: {\r\n                userId,\r\n                adults: searchCriteria.adults,\r\n                children: searchCriteria.children,\r\n                checkIn: searchCriteria.checkIn,\r\n                checkOut: searchCriteria.checkOut\r\n            }\r\n        });\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error('Error fetching recommendations:', error);\r\n        return null;\r\n    }\r\n}; ","import React, { useEffect, useState,useRef } from 'react';\r\nimport axios from 'axios'; // Ensure axios is imported\r\nimport Header from '../components/Header';\r\nimport './Rooms.css';\r\nimport room1 from '../src/assets/room-1.jpg';\r\nimport room2 from '../src/assets/room-2.jpg';\r\nimport room3 from '../src/assets/room-3.jpg';\r\nimport Checkin from '../components/checkin';\r\nimport logo from '../public/logo1.png';\r\nimport facebook from './assets/facebook.png';\r\nimport instagram from './assets/instagram.png';\r\nimport youtube from './assets/youtube.png';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { FormControl, InputLabel, Select, MenuItem, Slider, Box, Typography } from '@mui/material';\r\nimport Footer from '../components/footer';\r\nimport Swal from 'sweetalert2';\r\nimport { getRecommendations } from './services/recommendationService';\r\n\r\n\r\nfunction Rooms() {\r\n  \r\n  const navigate = useNavigate();\r\n  const [rooms, setRooms] = useState([]);\r\n  const location = useLocation();\r\n  const state = location.state || {};\r\n  const searchdata = state.data || {};\r\n  const [roomNeed, setRoomNeed] = useState();\r\n  const footerRef = useRef(null);\r\n  const [selectedRoomType, setSelectedRoomType] = useState('all');\r\n  const [priceRange, setPriceRange] = useState([0, 10000]); // Adjust max value as needed\r\n  const [filteredRooms, setFilteredRooms] = useState([]);\r\n  const [recommendedRooms, setRecommendedRooms] = useState([]);\r\n  const [userPreferences, setUserPreferences] = useState(null);\r\n\r\n  const checkrooms = () => {\r\n    axios.post(`${import.meta.env.VITE_API}/user/checkrooms`, { searchdata })\r\n      .then(res => {\r\n        if (res.status === 200) {\r\n          const { availableRooms, roomsNeeded, roomsAvailable, message } = res.data;\r\n          console.log(res.data);\r\n          // Handle the case where not enough rooms are available\r\n          if (availableRooms.length < roomsNeeded) {\r\n            console.log(message);\r\n            console.log(`Rooms needed: ${roomsNeeded}, Rooms available: ${roomsAvailable}`);\r\n          } else {\r\n            console.log(message);\r\n            setRoomNeed(roomsNeeded);\r\n            setRooms(availableRooms); // Set only the available rooms to state\r\n          }\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error(\"Error\", err);\r\n      });\r\n  };\r\n\r\n  // Add this function to fetch recommendations\r\n  const fetchRecommendations = async () => {\r\n    const userId = localStorage.getItem('userId');\r\n     // Assuming you store userId in localStorage\r\n    if (!userId) return;\r\n\r\n    const recommendations = await getRecommendations(userId, searchdata);\r\n    // console.log(\"recommendations\",recommendations.userPreferences);\r\n    if (recommendations) {\r\n      setRecommendedRooms(recommendations.recommendedRooms);\r\n      setUserPreferences(recommendations.userPreferences);\r\n      console.log(\"userPreferences\",recommendations.userPreferences)\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    checkrooms();\r\n    fetchRecommendations();\r\n  }, [searchdata]);\r\n\r\n  // useEffect(() => {\r\n  //   // const footer = footerRef.current;\r\n  //   // let lastScrollY = window.pageYOffset;\r\n  //   // // let footerHeight = footer.offsetHeight;\r\n  //   // let viewportHeight = window.innerHeight;\r\n  //   // let documentHeight = document.documentElement.scrollHeight;\r\n  \r\n  //   // const handleScroll = () => {\r\n  //   //   const currentScrollY = window.pageYOffset;\r\n  //   //   const maxScroll = documentHeight - viewportHeight;\r\n  //   //   const scrollPercentage = currentScrollY / maxScroll;\r\n  //   //   const footerVisibleHeight = Math.min(footerHeight, Math.max(50, scrollPercentage * footerHeight));\r\n  \r\n  //   //   if (currentScrollY < lastScrollY) {\r\n  //   //     // Scrolling up\r\n  //   //     footer.style.transform = `translateY(calc(100% - ${footerVisibleHeight}px))`;\r\n  //   //   } else {\r\n  //   //     // Scrolling down\r\n  //   //     footer.style.transform = 'translateY(calc(100% - 50px))';\r\n  //   //   }\r\n  //   //   lastScrollY = currentScrollY;\r\n  //   // };\r\n  \r\n  //   const handleResize = () => {\r\n  //     footerHeight = footer.offsetHeight;\r\n  //     viewportHeight = window.innerHeight;\r\n  //     documentHeight = document.documentElement.scrollHeight;\r\n  //   };\r\n  \r\n  //   window.addEventListener('scroll', handleScroll, { passive: true });\r\n  //   window.addEventListener('resize', handleResize);\r\n  \r\n  //   return () => {\r\n  //     window.removeEventListener('scroll', handleScroll);\r\n  //     window.removeEventListener('resize', handleResize);\r\n  //   };\r\n  // }, []);\r\n\r\n  // Function to group rooms by roomtype\r\n  const groupByRoomType = (rooms) => {\r\n    const groupedRooms = {};\r\n    rooms.forEach((room) => {\r\n      if (!groupedRooms[room.roomtype]) {\r\n        groupedRooms[room.roomtype] = [];\r\n      }\r\n      groupedRooms[room.roomtype].push(room);\r\n    });\r\n    return groupedRooms;\r\n  };\r\n\r\n  const groupedRooms = groupByRoomType(rooms);\r\n\r\n  // Add this helper function to calculate required rooms\r\n  const calculateRequiredRooms = (roomtype) => {\r\n    const roomsOfType = groupedRooms[roomtype];\r\n    if (!roomsOfType || roomsOfType.length === 0) return null;\r\n\r\n    const totalAdults = searchdata.adults;\r\n    const totalChildren = searchdata.children;\r\n    const sampleRoom = roomsOfType[0]; // Get room capacity details\r\n\r\n    // Calculate how many rooms needed based on capacity\r\n    const roomsNeededForAdults = Math.ceil(totalAdults / sampleRoom.allowedAdults);\r\n    const roomsNeededForChildren = Math.ceil(totalChildren / sampleRoom.allowedChildren);\r\n    \r\n    // Take the maximum to ensure enough rooms for both adults and children\r\n    const totalRoomsNeeded = Math.max(roomsNeededForAdults, roomsNeededForChildren);\r\n\r\n    // Check if we have enough available rooms\r\n    if (roomsOfType.length < totalRoomsNeeded) {\r\n      return null; // Not enough rooms of this type\r\n    }\r\n\r\n    // Select required number of rooms\r\n    const selectedRooms = [];\r\n    const availableRooms = [...roomsOfType];\r\n\r\n    for (let i = 0; i < totalRoomsNeeded; i++) {\r\n      const randomIndex = Math.floor(Math.random() * availableRooms.length);\r\n      selectedRooms.push(availableRooms.splice(randomIndex, 1)[0]);\r\n    }\r\n\r\n    return {\r\n      rooms: selectedRooms,\r\n      count: totalRoomsNeeded,\r\n      distribution: {\r\n        adults: Math.ceil(totalAdults / totalRoomsNeeded),\r\n        children: Math.ceil(totalChildren / totalRoomsNeeded)\r\n      }\r\n    };\r\n  };\r\n\r\n  // Update the handleRoomBooking function\r\n  const handleRoomBooking = (roomtype) => {\r\n    const roomAllocation = calculateRequiredRooms(roomtype);\r\n    \r\n    if (!roomAllocation) {\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Not Enough Rooms',\r\n        text: `We don't have enough ${roomtype} rooms to accommodate your group. Please try a different room type or adjust your group size.`,\r\n        showConfirmButton: true\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Show room allocation confirmation\r\n    Swal.fire({\r\n      icon: 'info',\r\n      title: 'Room Allocation',\r\n      html: `\r\n        <div class=\"room-allocation-info\">\r\n          <p>Based on your group size, you need ${roomAllocation.count} ${roomtype} room(s):</p>\r\n          <ul>\r\n            <li>Adults per room: ${roomAllocation.distribution.adults}</li>\r\n            <li>Children per room: ${roomAllocation.distribution.children}</li>\r\n          </ul>\r\n          <p>Total: ${roomAllocation.count} room(s) for ${searchdata.adults} adults and ${searchdata.children} children</p>\r\n        </div>\r\n      `,\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Proceed with Booking',\r\n      cancelButtonText: 'Cancel',\r\n      customClass: {\r\n        container: 'room-allocation-container'\r\n      }\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        navigate('/roominfo', { \r\n          state: { \r\n            data: searchdata, \r\n            roomdata: roomAllocation.rooms[0],\r\n            allocation: {\r\n              totalRooms: roomAllocation.count,\r\n              rooms: roomAllocation.rooms,\r\n              distribution: roomAllocation.distribution\r\n            }\r\n          } \r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  // Add this function to get unique room types\r\n  const getRoomTypes = () => {\r\n    const types = [...new Set(rooms.map(room => room.roomtype))];\r\n    return ['all', ...types];\r\n  };\r\n\r\n  // Add this function to handle price range changes\r\n  const handlePriceRangeChange = (event, newValue) => {\r\n    setPriceRange(newValue);\r\n  };\r\n\r\n  // Add this function to handle room type changes\r\n  const handleRoomTypeChange = (event) => {\r\n    setSelectedRoomType(event.target.value);\r\n  };\r\n\r\n  // Modify the useEffect to include filtering\r\n  useEffect(() => {\r\n    let filtered = [...rooms];\r\n\r\n    // Filter by room type\r\n    if (selectedRoomType !== 'all') {\r\n      filtered = filtered.filter(room => room.roomtype === selectedRoomType);\r\n    }\r\n\r\n    // Filter by price range\r\n    filtered = filtered.filter(room => \r\n      room.rate >= priceRange[0] && room.rate <= priceRange[1]\r\n    );\r\n\r\n    setFilteredRooms(filtered);\r\n  }, [rooms, selectedRoomType, priceRange]);\r\n\r\n  // Add this function to check if a room is recommended\r\n  const isRecommended = (room) => {\r\n    // console.log(\"room\",room)\r\n    // console.log(\"recommendedRooms\",recommendedRooms)\r\n    return recommendedRooms.some(rec => rec.roomtype === room.roomtype);\r\n  };\r\n\r\n  // Add this component for recommendation explanation\r\n  const RecommendationExplanation = ({ preferences }) => {\r\n    if (!preferences) return null;\r\n\r\n    return (\r\n      <Box sx={{\r\n        padding: '15px',\r\n        backgroundColor: '#f8f4ff',\r\n        borderRadius: '8px',\r\n        marginBottom: '20px',\r\n        border: '1px solid #e0d4ff'\r\n      }}>\r\n        <Typography variant=\"h6\" sx={{ color: '#5c2db0', marginBottom: '10px' }}>\r\n          Personalized Recommendations\r\n        </Typography>\r\n        <Typography variant=\"body2\">\r\n          Based on your previous stays, we noticed you prefer:\r\n          <ul>\r\n            {preferences.preferredRoomTypes && (\r\n              <li>Room types similar to: {preferences.preferredRoomTypes.join(', ')}</li>\r\n            )}\r\n            {preferences.averageStayDuration && (\r\n              <li>Average stay duration: {preferences.averageStayDuration} nights</li>\r\n            )}\r\n            {preferences.preferredAmenities && (\r\n              <li>Amenities you enjoy: {preferences.preferredAmenities.join(', ')}</li>\r\n            )}\r\n          </ul>\r\n        </Typography>\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  // Update your room card rendering\r\n  const RoomCard = ({ room, isRecommended }) => (\r\n    console.log(\"isRecommended\",isRecommended),\r\n    <div className={`room__card ${isRecommended ? 'recommended' : ''}`}>\r\n      <div className=\"room__card__image\">\r\n        <img \r\n          src={(room.images.length > 0) ? \r\n            `${import.meta.env.VITE_API}/uploads/${room.images[0]}` : \r\n            room1\r\n          } \r\n          alt=\"room\" \r\n        />\r\n        {isRecommended && (\r\n          <div className=\"recommendation-badge\">\r\n            <span>âœ¨ Recommended for You</span>\r\n          </div>\r\n        )}\r\n        <div className=\"room__card__icons\">\r\n          <span><i className=\"ri-heart-fill\"></i></span>\r\n          <span><i className=\"ri-paint-fill\"></i></span>\r\n          <span><i className=\"ri-shield-star-line\"></i></span>\r\n        </div>\r\n      </div>\r\n      <div className=\"room__card__details\">\r\n        <h4>{room.roomtype}</h4>\r\n        {isRecommended && (\r\n          <div className=\"recommendation-reason\">\r\n            <p style={{ \r\n              color: '#5c2db0', \r\n              fontSize: '0.9em', \r\n              marginTop: '5px',\r\n              fontStyle: 'italic' \r\n            }}>\r\n              Matches your preferred room type\r\n            </p>\r\n          </div>\r\n        )}\r\n        <div className=\"room__capacity\">\r\n          <p>Capacity per room:</p>\r\n          <ul>\r\n            <li>Adults: {room.allowedAdults}</li>\r\n            <li>Children: {room.allowedChildren}</li>\r\n          </ul>\r\n        </div>\r\n        <h5>Starting from <span>â‚¹{room.rate}/night</span></h5>\r\n        <button \r\n          className={`btn ${isRecommended ? 'btn-recommended' : ''}`}\r\n          id='details' \r\n          onClick={() => handleRoomBooking(room.roomtype)}\r\n        >\r\n          {isRecommended ? (\r\n            <>\r\n              <span className=\"star-icon\">â˜…</span>\r\n              Book Recommended Room\r\n            </>\r\n          ) : 'See Details'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Add this component for the filter section\r\n  const FilterSection = () => (\r\n    <Box sx={{ \r\n      padding: '20px', \r\n      backgroundColor: '#f5f5f5', \r\n      borderRadius: '8px',\r\n      margin: '20px 0',\r\n      boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n    }}>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Filter Rooms\r\n      </Typography>\r\n      \r\n      <Box sx={{ display: 'flex', gap: '20px', flexWrap: 'wrap' }}>\r\n        {/* Room Type Filter */}\r\n        <FormControl sx={{ minWidth: 200 }}>\r\n          <InputLabel>Room Type</InputLabel>\r\n          <Select\r\n            value={selectedRoomType}\r\n            onChange={handleRoomTypeChange}\r\n            label=\"Room Type\"\r\n          >\r\n            {getRoomTypes().map(type => (\r\n              <MenuItem key={type} value={type}>\r\n                {type.charAt(0).toUpperCase() + type.slice(1)}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n\r\n        {/* Price Range Filter */}\r\n        <Box sx={{ width: 300 }}>\r\n          <Typography gutterBottom>\r\n            Price Range (â‚¹)\r\n          </Typography>\r\n          <Slider\r\n            value={priceRange}\r\n            onChange={handlePriceRangeChange}\r\n            valueLabelDisplay=\"auto\"\r\n            min={0}\r\n            max={10000} // Adjust based on your price range\r\n            step={500}\r\n          />\r\n          <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\r\n            <Typography variant=\"body2\">â‚¹{priceRange[0]}</Typography>\r\n            <Typography variant=\"body2\">â‚¹{priceRange[1]}</Typography>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n\r\n  return (\r\n    <div id='room-page'>\r\n      <div className='room_nav'>\r\n        <Header />\r\n      </div>\r\n      <Checkin searchdata={searchdata} />\r\n      <section className=\"section__container room__container\">\r\n        <p className=\"section__subheader\" style={{ color: 'red' }}>\r\n          {`You need to book ${roomNeed} rooms for ${searchdata.adults} adults and ${searchdata.children} child`}\r\n        </p>\r\n        <p className=\"section__subheader\">OUR LIVING ROOM</p>\r\n        <h2 className=\"section__header\">The Most Memorable Rest Time Starts Here.</h2>\r\n        \r\n        {userPreferences && <RecommendationExplanation preferences={userPreferences} />}\r\n        \r\n        {/* Add the filter section */}\r\n        <FilterSection />\r\n\r\n        {/* Show number of results */}\r\n        <Typography variant=\"body1\" sx={{ margin: '20px 0' }}>\r\n          Showing {filteredRooms.length} room{filteredRooms.length !== 1 ? 's' : ''}\r\n        </Typography>\r\n\r\n        <div className=\"room__grid\">\r\n          {Object.keys(groupByRoomType(filteredRooms)).map((roomtype) => {\r\n            const roomsOfType = groupByRoomType(filteredRooms)[roomtype];\r\n            const room = roomsOfType[0];\r\n            return (\r\n              <RoomCard \r\n                key={room._id} \r\n                room={room} \r\n                isRecommended={isRecommended(room)}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {filteredRooms.length === 0 && (\r\n          <Typography \r\n            variant=\"h6\" \r\n            sx={{ \r\n              textAlign: 'center', \r\n              margin: '40px 0',\r\n              color: '#666'\r\n            }}\r\n          >\r\n            No rooms found matching your criteria\r\n          </Typography>\r\n        )}\r\n      </section>\r\n      {/* <footer className=\"footer\" ref={footerRef} id=\"contact\">\r\n        <div className=\"section__container footer__container\">\r\n          <div className=\"footer__col\">\r\n            <div className=\"logo\">\r\n              <a href=\"#home\"><img src={logo} alt=\"logo\" /></a>\r\n            </div>\r\n            <p className=\"section__description\">\r\n              Discover a world of comfort, luxury, and adventure as you explore\r\n              our curated selection of hotels, making every moment of your getaway\r\n              truly extraordinary.\r\n            </p>\r\n            <button className=\"btn\">Book Now</button>\r\n          </div>\r\n          <div className=\"footer__col\">\r\n            <h4>QUICK LINKS</h4>\r\n            <ul className=\"footer__links\">\r\n              <li><a href=\"#\">Browse Destinations</a></li>\r\n              <li><a href=\"#\">Special Offers & Packages</a></li>\r\n              <li><a href=\"#\">Room Types & Amenities</a></li>\r\n              <li><a href=\"#\">Customer Reviews & Ratings</a></li>\r\n              <li><a href=\"#\">Travel Tips & Guides</a></li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"footer__col\">\r\n            <h4>OUR SERVICES</h4>\r\n            <ul className=\"footer__links\">\r\n              <li><a href=\"#\">Concierge Assistance</a></li>\r\n              <li><a href=\"#\">Flexible Booking Options</a></li>\r\n              <li><a href=\"#\">Airport Transfers</a></li>\r\n              <li><a href=\"#\">Wellness & Recreation</a></li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"footer__col\">\r\n            <h4>CONTACT US</h4>\r\n            <ul className=\"footer__links\">\r\n              <li><a href=\"#\">intellistay@info.com</a></li>\r\n            </ul>\r\n            <div className=\"footer__socials\">\r\n              <a href=\"#\"><img src={facebook} alt=\"facebook\" /></a>\r\n              <a href=\"#\"><img src={instagram} alt=\"instagram\" /></a>\r\n              <a href=\"#\"><img src={youtube} alt=\"youtube\" /></a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"footer__bar\">\r\n          Copyright Â© 2024 INTELLISTAY Pvt.LTD. All rights reserved.\r\n        </div>\r\n      </footer> */}\r\n      <div className='footer'>\r\n      <Footer/>\r\n    </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Rooms;\r\n","import './RoomInfo.css';\r\nimport axios from 'axios'; \r\nimport Header from '../components/Header';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport {\r\n  faCircleArrowLeft,\r\n  faCircleArrowRight,\r\n  faLocationDot,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport Swal from 'sweetalert2';\r\nimport Footer from '../components/footer';\r\n\r\nconst RoomInfo = () => {\r\n  const [slideNumber, setSlideNumber] = useState(0);\r\n  const [open, setOpen] = useState(false);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  \r\n  // Get data from location state with default values\r\n  const state = location.state || {};\r\n  const datas = state.data || {};\r\n  const roomdatas = state.roomdata || {};\r\n  const allocation = state.allocation || {};\r\n  console.log(\"allocation\", allocation)\r\n  console.log(\"roomdatas\", roomdatas)\r\n  // const guestDistribution = state.guestDistribution || {};\r\n  // console.log(\"guestDistribution\", guestDistribution)\r\n  // console.log(\"datas\", datas)\r\n  // console.log(\"roomdatas\", roomdatas)\r\n  // Calculate date difference and rates - using useMemo to prevent recalculation\r\n  const dateCalculation = useMemo(() => {\r\n    try {\r\n      const checkOut = new Date(datas.checkOutDate);\r\n      const checkIn = new Date(datas.checkInDate);\r\n      \r\n      // Validate dates\r\n      if (isNaN(checkIn.getTime()) || isNaN(checkOut.getTime())) {\r\n        console.error('Invalid date(s)');\r\n        return { differenceInDays: 0, totalRate: 0 };\r\n      }\r\n\r\n      // Calculate difference in days\r\n      const differenceInTime = checkOut.getTime() - checkIn.getTime();\r\n      const differenceInDays = Math.ceil(differenceInTime / (1000 * 3600 * 24));\r\n      \r\n      // Validate room rate\r\n      const rate = parseFloat(roomdatas.rate) || 0;\r\n      \r\n      return {\r\n        differenceInDays,\r\n        totalRate: rate * differenceInDays\r\n      };\r\n      \r\n    } catch (error) {\r\n      console.error('Error calculating dates:', error);\r\n      return { differenceInDays: 0, totalRate: 0 };\r\n    }\r\n  }, [datas.checkInDate, datas.checkOutDate, roomdatas.rate]);\r\n\r\n  // Calculate required rooms - using useMemo to prevent recalculation\r\n  const roomCalculation = useMemo(() => {\r\n    try {\r\n      console.log(\"roomdatas innn\", roomdatas);\r\n      const { allowedAdults, allowedChildren } = roomdatas;\r\n      const requestedAdults = parseInt(datas.adults) || 0;\r\n      const requestedChildren = parseInt(datas.children) || 0;\r\n\r\n      // Calculate rooms needed based on adults and children\r\n      let roomsForAdults, roomsForChildren;\r\n\r\n      // If requested adults/children are less than or equal to allowed capacity, assign 1 room\r\n      if (requestedAdults <= allowedAdults && requestedChildren <= allowedChildren) {\r\n        roomsForAdults = 1;\r\n        roomsForChildren = 1;\r\n      } else {\r\n        // Otherwise calculate rooms needed\r\n        roomsForAdults = Math.ceil(requestedAdults / allowedAdults);\r\n        roomsForChildren = Math.ceil(requestedChildren / allowedChildren);\r\n      }\r\n\r\n      // Take the maximum of the two calculations\r\n      const totalRoomsRequired = Math.max(roomsForAdults, roomsForChildren);\r\n\r\n      // Calculate total rate for all rooms\r\n      const totalRate = totalRoomsRequired * dateCalculation.totalRate;\r\n\r\n      return {\r\n        totalRooms: totalRoomsRequired,\r\n        totalRate,\r\n        breakdown: {\r\n          adults: {\r\n            requested: requestedAdults,\r\n            allowed: allowedAdults,\r\n            roomsNeeded: roomsForAdults,\r\n            withinCapacity: requestedAdults <= allowedAdults\r\n          },\r\n          children: {\r\n            requested: requestedChildren,\r\n            allowed: allowedChildren,\r\n            roomsNeeded: roomsForChildren,\r\n            withinCapacity: requestedChildren <= allowedChildren\r\n          }\r\n        }\r\n      };\r\n    } catch (error) {\r\n      console.error('Error calculating rooms:', error);\r\n      return {\r\n        totalRooms: 0,\r\n        totalRate: 0,\r\n        breakdown: {\r\n          adults: { requested: 0, allowed: 0, roomsNeeded: 0, withinCapacity: false },\r\n          children: { requested: 0, allowed: 0, roomsNeeded: 0, withinCapacity: false }\r\n        }\r\n      };\r\n    }\r\n  }, [datas.adults, datas.children, roomdatas.allowedAdults, roomdatas.allowedChildren, dateCalculation.totalRate]);\r\n\r\n  const handleBook = () => {\r\n    const userId = localStorage.getItem('userId');\r\n    if (!userId) {\r\n      navigate('/signup');\r\n    } else {\r\n      navigate('/guestdetails', {\r\n        state: {\r\n          data: datas,\r\n          roomdata: roomdatas,\r\n          totalRate: roomCalculation.totalRate,\r\n          totalDays: dateCalculation.differenceInDays,\r\n          requiredRooms: roomCalculation.totalRooms\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const photos = useMemo(() => {\r\n    return (roomdatas.images || []).map(photo => ({\r\n      src: `${import.meta.env.VITE_API}/uploads/${photo}`,\r\n    }));\r\n  }, [roomdatas.images]);\r\n\r\n  const handleOpen = (i) => {\r\n    setSlideNumber(i);\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleMove = (direction) => {\r\n    const totalImages = photos.length;\r\n    let newSlideNumber;\r\n\r\n    if (direction === \"l\") {\r\n      newSlideNumber = slideNumber === 0 ? totalImages - 1 : slideNumber - 1;\r\n    } else {\r\n      newSlideNumber = slideNumber === totalImages - 1 ? 0 : slideNumber + 1;\r\n    }\r\n    \r\n    setSlideNumber(newSlideNumber);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className='room_nav'>\r\n        <Header /> \r\n      </div>\r\n      <div className=\"hotelContainer\">\r\n        {open && (\r\n          <div className=\"slider\">\r\n            <CloseIcon\r\n              className=\"close\"\r\n              onClick={() => setOpen(false)}\r\n              style={{ cursor: 'pointer' }}\r\n            />\r\n            <FontAwesomeIcon\r\n              icon={faCircleArrowLeft}\r\n              className=\"arrow\"\r\n              onClick={() => handleMove(\"l\")}\r\n            />\r\n            <div className=\"sliderWrapper\">\r\n              <img src={photos[slideNumber].src} alt=\"\" className=\"sliderImg\" />\r\n            </div>\r\n            <FontAwesomeIcon\r\n              icon={faCircleArrowRight}\r\n              className=\"arrow\"\r\n              onClick={() => handleMove(\"r\")}\r\n            />\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"hotelWrapper\">\r\n          <button className=\"bookNow\" onClick={handleBook}>\r\n            Reserve or Book Now! â‚¹{roomCalculation.totalRate.toLocaleString()} \r\n            ({dateCalculation.differenceInDays} nights, {roomCalculation.totalRooms} {roomCalculation.totalRooms > 1 ? 'rooms' : 'room'})\r\n          </button>\r\n\r\n          <h1 className=\"hotelTitle\">{roomdatas.roomtype}</h1>\r\n          <div className=\"hotelAddress\">\r\n            <FontAwesomeIcon icon={faLocationDot} />\r\n            <span>Kochi</span>\r\n          </div>\r\n\r\n          <div className=\"hotelImages\">\r\n            {photos.map((photo, i) => (\r\n              <div className=\"hotelImgWrapper\" key={i}>\r\n                <img\r\n                  onClick={() => handleOpen(i)}\r\n                  src={photo.src}\r\n                  alt=\"\"\r\n                  className=\"hotelImg\"\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"hotelDetails\" style={{ marginBottom: '100px' }}>\r\n            <div className=\"hotelDetailsTexts\">\r\n              {/* <div className=\"room-capacity-info\">\r\n                <h3>Room Capacity & Booking Details</h3>\r\n                <div className=\"capacity-details\">\r\n                  <div className=\"capacity-item\">\r\n                    <span className=\"label\">Maximum Adults per Room:</span>\r\n                    <span className=\"value\">{roomdatas.allowedAdults}</span>\r\n                  </div>\r\n                  <div className=\"capacity-item\">\r\n                    <span className=\"label\">Maximum Children per Room:</span>\r\n                    <span className=\"value\">{roomdatas.allowedChildren}</span>\r\n                  </div>\r\n                  <div className=\"capacity-item\">\r\n                    <span className=\"label\">Your Request:</span>\r\n                    <span className=\"value\">\r\n                      {datas.adults} Adults, {datas.children} Children\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"capacity-item total-rooms\">\r\n                    <span className=\"label\">Required Rooms:</span>\r\n                    <span className=\"value\">{roomCalculation.totalRooms}</span>\r\n                  </div>\r\n                  <div className=\"room-breakdown\">\r\n                    <p>Room Allocation Breakdown:</p>\r\n                    <ul>\r\n                      <li>\r\n                        Adults: {roomCalculation.breakdown.adults.requested} persons\r\n                        Ã· {roomCalculation.breakdown.adults.allowed} per room\r\n                        = {roomCalculation.breakdown.adults.roomsNeeded} rooms needed\r\n                      </li>\r\n                      <li>\r\n                        Children: {roomCalculation.breakdown.children.requested} persons\r\n                        Ã· {roomCalculation.breakdown.children.allowed} per room\r\n                        = {roomCalculation.breakdown.children.roomsNeeded} rooms needed\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div> */}\r\n\r\n              <h1 className=\"hotelTitle\">Stay in the heart of City</h1>\r\n              <p className=\"hotelDesc\">{roomdatas.description}</p>\r\n              \r\n              {/* Add Amenities Section */}\r\n              <div className=\"amenities-section\">\r\n                <h3>In-Room Amenities</h3>\r\n                <div className=\"amenities-grid\">\r\n                  {roomdatas.amenities && typeof roomdatas.amenities === 'string' ? \r\n                    roomdatas.amenities.split(',').map((amenity, index) => (\r\n                      amenity.trim() && (  // Only render if amenity is not empty\r\n                        <div key={index} className=\"amenity-item\">\r\n                          <span className=\"amenity-icon\">â€¢</span>\r\n                          <span className=\"amenity-text\">{amenity.trim()}</span>\r\n                        </div>\r\n                      )\r\n                    ))\r\n                    : \r\n                    <div className=\"amenity-item\">\r\n                      <span className=\"amenity-text\">No amenities listed</span>\r\n                    </div>\r\n                  }\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div className=\"hotelDetailsPrice\" >\r\n              <h1>Perfect for a {dateCalculation.differenceInDays}-night stay!</h1>\r\n              <span>\r\n                Located in the real heart of Kochi, this property has an\r\n                excellent location score of 9.8!\r\n              </span>\r\n              <h2>\r\n                <b>â‚¹{roomCalculation.totalRate.toLocaleString()}</b> \r\n                ({dateCalculation.differenceInDays} nights, {roomCalculation.totalRooms} {roomCalculation.totalRooms > 1 ? 'rooms' : 'room'})\r\n              </h2>\r\n              <button onClick={handleBook}>Reserve or Book Now!</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>\r\n\r\n      </div>\r\n      <div className='footer'>\r\n      <Footer/>\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomInfo;","import \"./SearchItem.css\";\r\n\r\nconst SearchItem = () => {\r\n  return (\r\n    <div className=\"searchItem\">\r\n      <img\r\n        src=\"https://cf.bstatic.com/xdata/images/hotel/square600/261707778.webp?k=fa6b6128468ec15e81f7d076b6f2473fa3a80c255582f155cae35f9edbffdd78&o=&s=1\"\r\n        alt=\"\"\r\n        className=\"siImg\"\r\n      />\r\n      <div className=\"siDesc\">\r\n        <h1 className=\"siTitle\">Tower Street Apartments</h1>\r\n        <span className=\"siDistance\">500m from center</span>\r\n        <span className=\"siTaxiOp\">Free airport taxi</span>\r\n        <span className=\"siSubtitle\">\r\n          Studio Apartment with Air conditioning\r\n        </span>\r\n        <span className=\"siFeatures\">\r\n          Entire studio â€¢ 1 bathroom â€¢ 21mÂ² 1 full bed\r\n        </span>\r\n        <span className=\"siCancelOp\">Free cancellation </span>\r\n        <span className=\"siCancelOpSubtitle\">\r\n          You can cancel later, so lock in this great price today!\r\n        </span>\r\n      </div>\r\n      <div className=\"siDetails\">\r\n        <div className=\"siRating\">\r\n          <span>Excellent</span>\r\n          <button>8.9</button>\r\n        </div>\r\n        <div className=\"siDetailTexts\">\r\n          <span className=\"siPrice\">$112</span>\r\n          <span className=\"siTaxOp\">Includes taxes and fees</span>\r\n          <button className=\"siCheckButton\">See availability</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchItem;","import \"./List.css\";\r\n// import Navbar from \"../../components/navbar/Navbar\";\r\n// import Header from \"../../components/header/Header\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport { format } from \"date-fns\";\r\nimport { DateRange } from \"react-date-range\";\r\nimport SearchItem from \"./components/Search/SearchItem\";\r\n\r\nconst List = () => {\r\n  const location = useLocation();\r\n  // Provide default values to avoid errors\r\n  const { destination = 'mumbai', date = [{ startDate: new Date(), endDate: new Date() }], options = {} } = location.state || {};\r\n  \r\n  const [searchDestination, setSearchDestination] = useState(destination);\r\n  const [searchDate, setSearchDate] = useState(date);\r\n  const [openDate, setOpenDate] = useState(false);\r\n  const [searchOptions, setSearchOptions] = useState(options);\r\n\r\n  return (\r\n    <div>\r\n      {/* <Navbar />\r\n      <Header type=\"list\" /> */}\r\n      <div className=\"listContainer\">\r\n        <div className=\"listWrapper\">\r\n          <div className=\"listSearch\">\r\n            <h1 className=\"lsTitle\">Search</h1>\r\n            <div className=\"lsItem\">\r\n              <label htmlFor=\"destination\">Destination</label>\r\n              <input\r\n                id=\"destination\"\r\n                placeholder={searchDestination}\r\n                type=\"text\"\r\n                onChange={(e) => setSearchDestination(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"lsItem\">\r\n              <label htmlFor=\"date\">Check-in Date</label>\r\n              <span onClick={() => setOpenDate(!openDate)}>\r\n                {`${format(searchDate[0].startDate, \"MM/dd/yyyy\")} to ${format(searchDate[0].endDate, \"MM/dd/yyyy\")}`}\r\n              </span>\r\n              {openDate && (\r\n                <DateRange\r\n                  onChange={(item) => setSearchDate([item.selection])}\r\n                  minDate={new Date()}\r\n                  ranges={searchDate}\r\n                />\r\n              )}\r\n            </div>\r\n            <div className=\"lsItem\">\r\n              <label htmlFor=\"options\">Options</label>\r\n              <div className=\"lsOptions\">\r\n                <div className=\"lsOptionItem\">\r\n                  <span className=\"lsOptionText\">\r\n                    Min price <small>per night</small>\r\n                  </span>\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"lsOptionInput\"\r\n                    placeholder=\"Min price\"\r\n                  />\r\n                </div>\r\n                <div className=\"lsOptionItem\">\r\n                  <span className=\"lsOptionText\">\r\n                    Max price <small>per night</small>\r\n                  </span>\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"lsOptionInput\"\r\n                    placeholder=\"Max price\"\r\n                  />\r\n                </div>\r\n                <div className=\"lsOptionItem\">\r\n                  <span className=\"lsOptionText\">Adult</span>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={1}\r\n                    className=\"lsOptionInput\"\r\n                    placeholder={searchOptions.adult || '1'}\r\n                  />\r\n                </div>\r\n                <div className=\"lsOptionItem\">\r\n                  <span className=\"lsOptionText\">Children</span>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={0}\r\n                    className=\"lsOptionInput\"\r\n                    placeholder={searchOptions.children || '0'}\r\n                  />\r\n                </div>\r\n                <div className=\"lsOptionItem\">\r\n                  <span className=\"lsOptionText\">Room</span>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={1}\r\n                    className=\"lsOptionInput\"\r\n                    placeholder={searchOptions.room || '1'}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <button>Search</button>\r\n          </div>\r\n          <div className=\"listResult\">\r\n            {[...Array(9).keys()].map((i) => (\r\n              <SearchItem key={i} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default List;\r\n","import { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst useAuth = () => {\r\n  const history = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const id = localStorage.getItem('userId');\r\n\r\n    if (!id) {\r\n      history('/');\r\n      // Optionally show a session expired message\r\n      Swal.fire('Session expired. Please log in again.');\r\n    }\r\n    \r\n  }, [history]);\r\n};\r\n\r\nexport default useAuth;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Header from '../Header';\r\nimport axios from 'axios';\r\nimport './MyBookings.css';\r\nimport useAuth from '../../src/useAuth';\r\n\r\nfunction MyBookings() {\r\n  useAuth();\r\n  const history = useNavigate();\r\n  const [bookings, setBookings] = useState([]);\r\n  const [displayCount, setDisplayCount] = useState(3);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [filteredBookings, setFilteredBookings] = useState([]);\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    const day = String(date.getDate()).padStart(2, '0');\r\n    const month = String(date.getMonth() + 1).padStart(2, '0');\r\n    const year = date.getFullYear();\r\n\r\n    return `${day}-${month}-${year}`;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchBookings = async () => {\r\n      try {\r\n        const userId = localStorage.getItem('userId');\r\n        if (!userId) {\r\n          setError('No user found');\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        const response = await axios.get(`${import.meta.env.VITE_API}/user/my-bookings/${userId}`);\r\n        if (response.status === 200) {\r\n          setBookings(response.data);\r\n          setFilteredBookings(response.data);\r\n        } else {\r\n          setError('Failed to fetch bookings');\r\n        }\r\n      } catch (err) {\r\n        setError('An error occurred while fetching bookings');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchBookings();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const filterBookings = () => {\r\n      let filtered = bookings;\r\n\r\n      if (searchQuery) {\r\n        filtered = bookings.filter(booking => {\r\n          const checkInDate = new Date(booking.check_in).toLocaleDateString(\"en-GB\");\r\n          const checkOutDate = new Date(booking.check_out).toLocaleDateString(\"en-GB\");\r\n          const searchLower = searchQuery.toLowerCase();\r\n\r\n          return (\r\n            checkInDate.includes(searchLower) ||\r\n            checkOutDate.includes(searchLower) ||\r\n            booking.status.toLowerCase().includes(searchLower) ||\r\n            booking._id.toLowerCase().includes(searchLower) ||\r\n            booking.room_id.roomtype.toLowerCase().includes(searchLower)\r\n          );\r\n        });\r\n      }\r\n\r\n      setFilteredBookings(filtered);\r\n    };\r\n\r\n    filterBookings();\r\n  }, [searchQuery, bookings]);\r\n\r\n  const handleSearch = (e) => {\r\n    setSearchQuery(e.target.value);\r\n  };\r\n\r\n  const handleBookingClick = (booking) => {\r\n    // Navigate to the booking details page\r\n    history(`/booking-details/${booking._id}`);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div>{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className='MyBookingsnav'>\r\n        <Header />\r\n      </div>\r\n\r\n      <div className=\"bookings-container\">\r\n        <h2>My Bookings</h2>\r\n        <br />\r\n\r\n        <div className=\"search-bar\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search by check-in date, check-out date, status, etc.\"\r\n            value={searchQuery}\r\n            onChange={handleSearch}\r\n          />\r\n        </div>\r\n\r\n        {filteredBookings.length === 0 ? (\r\n          <p>No bookings found.</p>\r\n        ) : (\r\n          <ul className=\"bookings-list\">\r\n            {filteredBookings.slice(0, displayCount).map((booking) => (\r\n              <li key={booking._id} onClick={() => handleBookingClick(booking)}>\r\n                <div className={searchQuery ? 'filtered-booking' : 'booking-card'} style={{ display: 'flex', alignItems: 'center' }}>\r\n                {booking.room_id && booking.room_id.images && booking.room_id.images.length > 0 && (\r\n          <img\r\n            src={`${import.meta.env.VITE_API}/uploads/${booking.room_id.images[0]}`} // Assuming the first image is the thumbnail\r\n            alt=\"Room Thumbnail\"\r\n            style={{ width: '100px', height: '100px', objectFit: 'cover', marginRight: '10px' }} // Adjust width/height as needed\r\n          />\r\n        )}\r\n        <div>\r\n                  <p><strong>BookingId:</strong> {booking._id}</p>\r\n                  <p><strong>Room:</strong> {booking.room_id?.roomtype || 'N/A'}</p>\r\n                  <p><strong>Check-In Date:</strong> {new Date(booking.check_in).toLocaleDateString(\"en-GB\")}</p>\r\n                  <p><strong>Check-Out Date:</strong> {new Date(booking.check_out).toLocaleDateString(\"en-GB\")}</p>\r\n                  <p><strong>Status:</strong> {booking.status}</p>\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n\r\n        <div className=\"buttons-container\">\r\n          {displayCount < filteredBookings.length && (\r\n            <button className=\"see-more-button\" onClick={() => setDisplayCount(displayCount + 3)}>\r\n              See More\r\n            </button>\r\n          )}\r\n\r\n          {displayCount > 3 && (\r\n            <button className=\"see-less-button\" onClick={() => setDisplayCount(3)}>\r\n              Show Less\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyBookings;\r\n","import { createWorker } from 'tesseract.js';\r\n\r\nlet worker = null;\r\n\r\nexport const initTesseract = async () => {\r\n  if (!worker) {\r\n    worker = await createWorker();\r\n    await worker.loadLanguage('eng');\r\n    await worker.initialize('eng');\r\n  }\r\n  return worker;\r\n};\r\n\r\nexport const terminateWorker = async () => {\r\n  if (worker) {\r\n    await worker.terminate();\r\n    worker = null;\r\n  }\r\n}; ","import { initTesseract, terminateWorker } from './tesseractService';\r\n\r\nexport const verifyDocument = async (file, documentType, documentNumber) => {\r\n  let worker = null;\r\n  try {\r\n    // Initialize worker\r\n    worker = await initTesseract();\r\n\r\n    // Convert file to image data\r\n    const imageData = await fileToImage(file);\r\n\r\n    // Recognize text from image\r\n    const { data: { text } } = await worker.recognize(imageData);\r\n\r\n    // Verify based on document type\r\n    const result = validateDocument(text, documentType, documentNumber);\r\n\r\n    return result;\r\n  } catch (error) {\r\n    console.error('OCR Error:', error);\r\n    return {\r\n      isValid: false,\r\n      error: 'Failed to verify document. Please ensure the image is clear.'\r\n    };\r\n  } finally {\r\n    // Clean up worker\r\n    if (worker) {\r\n      await terminateWorker();\r\n    }\r\n  }\r\n};\r\n\r\n// Convert file to image data\r\nconst fileToImage = async (file) => {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.onload = (event) => {\r\n      const image = new Image();\r\n      image.onload = () => resolve(image);\r\n      image.onerror = reject;\r\n      image.src = event.target.result;\r\n    };\r\n    reader.onerror = reject;\r\n    reader.readAsDataURL(file);\r\n  });\r\n};\r\n\r\n// Validate document based on type\r\nconst validateDocument = (text, documentType, documentNumber) => {\r\n  const cleanText = text.toLowerCase().replace(/\\s/g, '');\r\n  \r\n  switch (documentType) {\r\n    case 'aadhar':\r\n      return validateAadhar(cleanText, documentNumber);\r\n    case 'passport':\r\n      return validatePassport(cleanText, documentNumber);\r\n    case 'drivingLicense':\r\n      return validateDrivingLicense(cleanText, documentNumber);\r\n    case 'panCard':\r\n      return validatePanCard(cleanText, documentNumber);\r\n    default:\r\n      return {\r\n        isValid: false,\r\n        error: 'Unsupported document type'\r\n      };\r\n  }\r\n};\r\n\r\n// Validation functions for different document types\r\nconst validateAadhar = (text, number) => {\r\n  const aadharRegex = /\\d{12}/;\r\n  const hasNumber = text.includes(number);\r\n  const matchesPattern = aadharRegex.test(number);\r\n\r\n  return {\r\n    isValid: hasNumber && matchesPattern,\r\n    error: !hasNumber ? 'Aadhar number not found in document' :\r\n           !matchesPattern ? 'Invalid Aadhar number format' : null\r\n  };\r\n};\r\n\r\nconst validatePassport = (text, number) => {\r\n  const passportRegex = /[A-Z]{1}[0-9]{7}/;\r\n  const hasNumber = text.includes(number.toLowerCase());\r\n  const matchesPattern = passportRegex.test(number);\r\n\r\n  return {\r\n    isValid: hasNumber && matchesPattern,\r\n    error: !hasNumber ? 'Passport number not found in document' :\r\n           !matchesPattern ? 'Invalid passport number format' : null\r\n  };\r\n};\r\n\r\nconst validatePanCard = (text, number) => {\r\n  const panRegex = /[A-Z]{5}[0-9]{4}[A-Z]{1}/;\r\n  const hasNumber = text.includes(number.toLowerCase());\r\n  const matchesPattern = panRegex.test(number);\r\n\r\n  return {\r\n    isValid: hasNumber && matchesPattern,\r\n    error: !hasNumber ? 'PAN number not found in document' :\r\n           !matchesPattern ? 'Invalid PAN number format' : null\r\n  };\r\n};\r\n\r\nconst validateDrivingLicense = (text, number) => {\r\n  const dlRegex = /^(([A-Z]{2}[0-9]{2})( )|([A-Z]{2}-[0-9]{2}))((19|20)[0-9][0-9])[0-9]{7}$/;\r\n  const hasNumber = text.includes(number.toLowerCase());\r\n  const matchesPattern = dlRegex.test(number);\r\n\r\n  return {\r\n    isValid: hasNumber && matchesPattern,\r\n    error: !hasNumber ? 'Driving license number not found in document' :\r\n           !matchesPattern ? 'Invalid driving license number format' : null\r\n  };\r\n}; ","import React, { useState, useEffect } from 'react';\r\nimport { \r\n    TextField, \r\n    Button, \r\n    Typography, \r\n    Grid, \r\n    Paper, \r\n    Box, \r\n    MenuItem,\r\n    Avatar,\r\n    Checkbox,\r\n    FormControlLabel,\r\n    CircularProgress,\r\n    Chip\r\n} from '@mui/material';\r\nimport logo from '../public/logo1.png';\r\nimport facebook from './assets/facebook.png';\r\nimport instagram from './assets/instagram.png';\r\nimport youtube from './assets/youtube.png';\r\nimport CheckBoxOutlineBlankIcon from '@mui/icons-material/CheckBoxOutlineBlank';\r\nimport CheckBoxIcon from '@mui/icons-material/CheckBox';\r\nimport Header from '../components/Header'; \r\nimport './guestform.css'; // Import the CSS for the form\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\r\nimport Swal from 'sweetalert2'; // Import this at the top of your file\r\nimport { verifyDocument } from '../utils/documentVerification';\r\nimport WarningIcon from '@mui/icons-material/Warning';\r\nimport Footer from '../components/footer'; \r\n\r\nconst documentOptions = [\r\n    { label: 'Aadhar', value: 'aadhar' },\r\n    { label: 'Driving License', value: 'drivingLicense' },\r\n    { label: 'Passport', value: 'passport' },\r\n];\r\n\r\nconst GuestDetailsForm = () => {\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n    const state = location.state || {};\r\n    const datas = state.data || {};\r\n    const adultsCount = datas.adults || 0; // Assuming your data has adultsCount\r\n    const childrenCount = datas.children|| 0; \r\n    const roomdatas = state.roomdata || {};\r\n    const totlrates = state.totalRate || {};\r\n    console.log(\"totlrates\",totlrates);\r\n    const totldays = state.totalDays || {};\r\n    console.log(\"totldays\",totldays);\r\n     // Assuming your data has childrenCount\r\n    const [preview, setPreview] = useState(null);\r\n    const today = new Date();\r\n    const fiveYearsAgo = new Date(today.setFullYear(today.getFullYear() - 18)).toISOString().split('T')[0];\r\n    const todays = new Date();\r\n    const yesterday = new Date(todays);\r\n    yesterday.setDate(todays.getDate() - 1);\r\n     // Set to yesterday\r\n    const Years = new Date(yesterday);\r\n    Years.setFullYear(yesterday.getFullYear() - 5); // Calculate five years ago from yesterday\r\n\r\n// Format for input type=\"date\"\r\nconst maxDate = yesterday.toISOString().split('T')[0]; // Format: YYYY-MM-DD\r\nconst minDate = Years.toISOString().split('T')[0]; // Format: YYYY-MM-DD\r\n\r\n    // Initialize states with counts\r\n    const [adults, setAdults] = useState(Array.from({ length: adultsCount }, () => ({\r\n        _id:'',\r\n        name: '',\r\n        email: '',\r\n        phone: '',\r\n        address: '',\r\n        dob: '',\r\n        proofType: '',\r\n        proofNumber: '',\r\n        proofDocument: null,\r\n        errors: {},\r\n        saveDetails: false,\r\n    })));\r\n\r\n    const [children, setChildren] = useState(Array.from({ length: childrenCount }, () => ({\r\n        _id:'',\r\n        name: '',\r\n        email: '',\r\n        phone: '',\r\n        address: '',\r\n        dob: '',\r\n        proofType: '',\r\n        proofNumber: '',\r\n        proofDocument: null,\r\n        saveDetails: false,\r\n        errors: {},\r\n    })));\r\n\r\n    const nameRegex = /^[A-Za-z\\s]+$/;\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    const phoneRegex = /^[0-9]{10}$/;\r\n    const dobRegex = /^\\d{4}-\\d{2}-\\d{2}$/; // YYYY-MM-DD format for date of birth\r\n    const proofNumberRegex = /^[A-Za-z0-9]+$/; // Assuming alphanumeric proof number\r\n\r\n    const [selectedGuest, setSelectedGuest] = useState(null);\r\n    const [selectedGuestIds, setSelectedGuestIds] = useState([]);\r\n    const [newGuestDetails, setNewGuestDetails] = useState({ adults: [], children: [] });\r\n    const userid= localStorage.getItem('userId');\r\n    const [previousGuest, setPreviousGuest] = useState([]);\r\n    const [isVerifying, setIsVerifying] = useState(false);\r\n    const [verificationStatus, setVerificationStatus] = useState({});\r\n\r\n    useEffect(() => {\r\n        // Fetch previous guest details when the component mounts\r\n        const fetchPreviousGuest = async () => {\r\n            try {\r\n                const response = await axios.get(`${import.meta.env.VITE_API}/user/previousGuestDetails/${userid}`);\r\n                console.log(response.data);\r\n                setPreviousGuest(response.data || []); // Ensure it's an array, even if empty\r\n            } catch (error) {\r\n                console.error('Failed to fetch previous guest:', error);\r\n                setPreviousGuest([]); // Set to empty array in case of error\r\n            }\r\n        };\r\n\r\n        fetchPreviousGuest();\r\n    }, []);\r\n\r\n    // Validate individual form field\r\n    const validateField = (name, value) => {\r\n        switch (name) {\r\n            case 'name':\r\n                return nameRegex.test(value) ? '' : 'Invalid name format (letters only)';\r\n            case 'email':\r\n                return emailRegex.test(value) ? '' : 'Invalid email format';\r\n                case 'phone':\r\n                    const validatePhone = (phone) => {\r\n                        const regex = /^[0-9]{10}$/; // Check if the phone number is exactly 10 digits\r\n                        const isRepeating = /^(\\d)\\1{9}$/.test(phone); // Check if all digits are the same\r\n                \r\n                        if (!regex.test(phone)) {\r\n                            return \"Phone number must be exactly 10 digits.\";\r\n                        }\r\n                \r\n                        if (isRepeating) {\r\n                            return \"Phone number cannot consist of repeating digits.\";\r\n                        }\r\n                \r\n                        return \"\"; // Return empty string if validation passes\r\n                    };\r\n                \r\n                    return validatePhone(value); // Call validatePhone with the value entered by the user\r\n                \r\n            case 'dob':\r\n                const datePart = value.split('T')[0];\r\n                return dobRegex.test(datePart) ? '' : 'Invalid date of birth (YYYY-MM-DD)';\r\n            case 'proofNumber':\r\n                return proofNumberRegex.test(value) ? '' : 'Invalid proof number format';\r\n            default:\r\n                return '';\r\n        }\r\n    };\r\n\r\n    // Validate form\r\n    const validateForm = () => {\r\n        let isValid = true;\r\n        const newAdults = [...adults];\r\n        const newChildren = [...children];\r\n\r\n        // Validate adults\r\n        newAdults.forEach((adult, index) => {\r\n            // Skip document verification for previously saved guests\r\n            if (!adult._id) {\r\n                if (!verificationStatus[`adult_${index}`] && adult.proofType && adult.proofNumber) {\r\n                    isValid = false;\r\n                }\r\n            }\r\n            const errors = {};\r\n            if (!adult.name) errors.name = 'Name is required';\r\n            if (!adult.email) errors.email = 'Email is required';\r\n            if (!adult.phone) errors.phone = 'Phone is required';\r\n            if (!adult.dob) errors.dob = 'Date of Birth is required';\r\n            if (!adult.proofType) errors.proofType = 'Proof type is required';\r\n            if (!adult.proofNumber) errors.proofNumber = 'Proof number is required';\r\n            \r\n            newAdults[index].errors = errors;\r\n            if (Object.keys(errors).length > 0) isValid = false;\r\n        });\r\n\r\n        setAdults(newAdults);\r\n        return isValid;\r\n    };\r\n\r\n    const handleSaveDetailsChange = (index, isChecked, type) => {\r\n        if (type === 'adult') {\r\n            setAdults(prevAdults => {\r\n                const updatedAdults = [...prevAdults];\r\n                updatedAdults[index] = { ...updatedAdults[index], saveDetails: isChecked };\r\n                return updatedAdults;\r\n            });\r\n        } else if (type === 'child') {\r\n            setChildren(prevChildren => {\r\n                const updatedChildren = [...prevChildren];\r\n                updatedChildren[index] = { ...updatedChildren[index], saveDetails: isChecked };\r\n                return updatedChildren;\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleChange = (e, index, type) => {\r\n        const { name, value } = e.target;\r\n        const error = validateField(name, value);\r\n        \r\n        if (type === 'adult') {\r\n            const newAdults = [...adults];\r\n            newAdults[index] = {\r\n                ...newAdults[index],\r\n                [name]: value,\r\n                errors: {\r\n                    ...newAdults[index].errors,\r\n                    [name]: error\r\n                }\r\n            };\r\n            setAdults(newAdults);\r\n\r\n            // Update newGuestDetails for adults\r\n            setNewGuestDetails(prev => ({\r\n                ...prev,\r\n                adults: newAdults.map(adult => ({\r\n                    ...adult,\r\n                    errors: undefined // Remove errors from the data to be sent\r\n                }))\r\n            }));\r\n        } else {\r\n            const newChildren = [...children];\r\n            newChildren[index] = {\r\n                ...newChildren[index],\r\n                [name]: value,\r\n                errors: {\r\n                    ...newChildren[index].errors,\r\n                    [name]: error\r\n                }\r\n            };\r\n            setChildren(newChildren);\r\n\r\n            // Update newGuestDetails for children\r\n            setNewGuestDetails(prev => ({\r\n                ...prev,\r\n                children: newChildren.map(child => ({\r\n                    ...child,\r\n                    errors: undefined // Remove errors from the data to be sent\r\n                }))\r\n                \r\n            }));\r\n        }\r\n    };\r\n\r\n    // Handle form submission\r\n    const handleFormSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (validateForm()) {\r\n            const guestData = {\r\n                selectedGuestIds,\r\n                newGuestDetails: {\r\n                    adults: adults.filter(adult => !selectedGuestIds.includes(adult._id)),\r\n                    children: children.filter(child => !selectedGuestIds.includes(child._id))\r\n                }\r\n            };\r\n            navigate('/reserveroom', { \r\n                state: { \r\n                    ...state, \r\n                    guestData,\r\n                    adults, \r\n                    children, \r\n                    totldays,\r\n                    selectedGuestIds,\r\n                    totlrates \r\n                } \r\n            });\r\n        } else {\r\n            // Check for unverified documents\r\n            const unverifiedAdults = adults.filter((_, index) => \r\n                !verificationStatus[`adult_${index}`] && adults[index].proofType && adults[index].proofNumber\r\n            );\r\n\r\n            if (unverifiedAdults.length > 0) {\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Document Verification Required',\r\n                    text: 'Please verify all required documents before proceeding.',\r\n                    confirmButtonText: 'OK'\r\n                });\r\n            } else {\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Validation Error',\r\n                    text: 'Please fix all validation errors before submitting.',\r\n                    confirmButtonText: 'OK'\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    // Upload file handler\r\n    const handleFileUpload = async (e, index, type) => {\r\n        // Skip verification if guest is from previous records\r\n        const guest = type === 'adult' ? adults[index] : children[index];\r\n        if (guest._id) {\r\n            // For previously saved guests, mark as verified automatically\r\n            setVerificationStatus(prev => ({\r\n                ...prev,\r\n                [`${type}_${index}`]: true\r\n            }));\r\n            return;\r\n        }\r\n\r\n        try {\r\n            setIsVerifying(true);\r\n            const file = e.target.files[0];\r\n            if (!file) return;\r\n\r\n            // Create preview\r\n            const filePreviewUrl = URL.createObjectURL(file);\r\n            setPreview(filePreviewUrl);\r\n\r\n            // Verify document only for new guests\r\n            const verificationResult = await verifyDocument(\r\n                file,\r\n                guest.proofType,\r\n                guest.proofNumber\r\n            );\r\n\r\n            setVerificationStatus(prev => ({\r\n                ...prev,\r\n                [`${type}_${index}`]: verificationResult.isValid\r\n            }));\r\n\r\n            if (!verificationResult.isValid) {\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Document Verification Failed',\r\n                    text: verificationResult.error,\r\n                    confirmButtonText: 'Try Again'\r\n                }).then(() => {\r\n                    e.target.value = '';\r\n                    setPreview(null);\r\n                });\r\n            } else {\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                    title: 'Document Verified',\r\n                    text: 'The document has been successfully verified.'\r\n                });\r\n                updateGuestDocument(file, type, index);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error handling file upload:', error);\r\n            setVerificationStatus(prev => ({\r\n                ...prev,\r\n                [`${type}_${index}`]: false\r\n            }));\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Upload Error',\r\n                text: 'There was an error processing your document. Please try again.'\r\n            });\r\n        } finally {\r\n            setIsVerifying(false);\r\n        }\r\n    };\r\n\r\n    const updateGuestDocument = (file, type, index) => {\r\n        if (type === 'adult') {\r\n            const newAdults = [...adults];\r\n            newAdults[index].proofDocument = file;\r\n            setAdults(newAdults);\r\n        } else {\r\n            const newChildren = [...children];\r\n            newChildren[index].proofDocument = file;\r\n            setChildren(newChildren);\r\n        }\r\n    };\r\n\r\n    const handlePreviousGuestClick = (guest) => {\r\n        setSelectedGuestIds(prevIds => {\r\n            if (prevIds.includes(guest._id)) {\r\n                return prevIds.filter(id => id !== guest._id);\r\n            } else {\r\n                return [...prevIds, guest._id];\r\n            }\r\n        });\r\n\r\n        if (guest.role === 'adult') {\r\n            if (adults.length >= roomdatas.allowedAdults) {\r\n                Swal.fire(`Maximum allowed adults (${allowedAdults}) reached.`);\r\n                return; // Exit the function if the limit is reached\r\n            }\r\n            else{\r\n            setAdults(prevAdults => {\r\n                const existingIndex = prevAdults.findIndex(a => a._id === guest._id);\r\n                if (existingIndex !== -1) {\r\n                    return prevAdults.filter((_, i) => i !== existingIndex);\r\n                } else {\r\n                    return [...prevAdults, { ...guest, errors: {} }];\r\n                }\r\n            });\r\n        }\r\n        } else if (guest.role === 'child') {\r\n            if (adults.length >= roomdatas.allowedChildren) {\r\n                Swal.fire(`Maximum allowed children (${allowedChildren}) reached.`);\r\n                return; // Exit the function if the limit is reached\r\n            }\r\n            else{\r\n            setChildren(prevChildren => {\r\n                const existingIndex = prevChildren.findIndex(c => c._id === guest._id);\r\n                if (existingIndex !== -1) {\r\n                    return prevChildren.filter((_, i) => i !== existingIndex);\r\n                } else {\r\n                    return [...prevChildren, { ...guest, errors: {} }];\r\n                }\r\n            });\r\n        }\r\n        }\r\n    };\r\n    \r\n    const renderPreviousGuest = () => {\r\n        console.log(\"Rendering previous guests:\", previousGuest);\r\n        if (!previousGuest || !Array.isArray(previousGuest) || previousGuest.length === 0) return null;\r\n        return (\r\n            <div>\r\n                <Typography variant=\"h6\" gutterBottom>Saved Guests</Typography>\r\n                {previousGuest.map((guest, index) => (\r\n                    <Box\r\n                        id=\"previous-guest-item\"\r\n                        className=\"previous-guest-item\"\r\n                        key={index}\r\n                        onClick={() => handlePreviousGuestClick(guest)}\r\n                        sx={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            mb: 2,\r\n                            p: 2,\r\n                            border: '1px solid lightgray',\r\n                            borderRadius: '10px',\r\n                            cursor: 'pointer',\r\n                            position: 'relative', // Added for positioning the tick\r\n                        }}\r\n                    >\r\n                        <Avatar sx={{ bgcolor: 'blue', marginRight: '10px' }}>\r\n                            {guest.name[0].toUpperCase()}\r\n                        </Avatar>\r\n                        <Box>\r\n                            <Typography variant=\"subtitle1\">{guest.name}</Typography>\r\n                            <Typography variant=\"body2\">\r\n                                DOB: {new Date(guest.dob).toLocaleDateString(\"en-GB\")}\r\n                            </Typography>\r\n                            <Typography variant=\"body2\">Email: {guest.email}</Typography>\r\n                        </Box>\r\n                        {selectedGuestIds.includes(guest._id) && (\r\n                            <CheckCircleIcon \r\n                                sx={{ \r\n                                    position: 'absolute', \r\n                                    top: 10, \r\n                                    right: 10, \r\n                                    color: 'blue' \r\n                                }} \r\n                            />\r\n                        )}\r\n                    </Box>\r\n                ))}\r\n            </div>\r\n        );\r\n    };\r\n    // Render form fields for adults and children\r\n    const renderGuestFields = (guests, type, setGuestState) => (\r\n        guests.map((guest, index) => (\r\n            <Paper elevation={3} sx={{ padding: 3, marginBottom: 3 }} key={guest._id || index}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                    {type === 'adult' ? `Adult ${index + 1}` : `Child ${index + 1}`}\r\n                </Typography>\r\n                <Grid container spacing={2} alignItems=\"center\">\r\n                    {/* Render fields based on guest type */}\r\n                    {type === 'child' ? (\r\n                        // Child fields\r\n                        <>\r\n                            <Grid item xs={12} md={6}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"Name\"\r\n                                    name=\"name\"\r\n                                    value={guest.name}\r\n                                    onChange={(e) => handleChange(e, index, type)}\r\n                                    required\r\n                                    error={!!guest.errors.name}\r\n                                    helperText={guest.errors.name}\r\n                                    InputProps={{ readOnly: !!guest._id }}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} md={6}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"Date of Birth\"\r\n                                    type=\"date\"\r\n                                    name=\"dob\"\r\n                                    value={guest.dob ? guest.dob.split('T')[0] : ''}\r\n                                    onChange={(e) => handleChange(e, index, type)}\r\n                                    required\r\n                                    InputLabelProps={{ shrink: true }}\r\n                                    inputProps={{ max: maxDate, min: minDate }}\r\n                                    error={!!guest.errors.dob}\r\n                                    helperText={guest.errors.dob}\r\n                                    InputProps={{ readOnly: !!guest._id }}\r\n                                />\r\n                            </Grid>\r\n                            {!guest._id && (\r\n                    <Grid item xs={12}>\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={guest.saveDetails || false}\r\n                                    onChange={(e) => handleSaveDetailsChange(index, e.target.checked, type)}\r\n                                    icon={<CheckBoxOutlineBlankIcon />}\r\n                                    checkedIcon={<CheckBoxIcon />}\r\n                                />\r\n                            }\r\n                            label=\"Save guest details for future bookings\"\r\n                        />\r\n                    </Grid>\r\n                )}\r\n                        </>\r\n                    ) : (\r\n                        // Adult fields\r\n                        <>\r\n                            <Grid item xs={12} md={3}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"Name\"\r\n                                    variant=\"outlined\"\r\n                                    name=\"name\"\r\n                                    value={guest.name}\r\n                                    onChange={(e) => handleChange(e, index, type)}\r\n                                    required\r\n                                    error={!!guest.errors.name}\r\n                                    helperText={guest.errors.name}\r\n                                    InputProps={{ readOnly: !!selectedGuest }}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} md={3}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"Email\"\r\n                                    variant=\"outlined\"\r\n                                    name=\"email\"\r\n                                    value={guest.email}\r\n                                    onChange={(e) => handleChange(e, index, type)}\r\n                                    required\r\n                                    type=\"email\"\r\n                                    error={!!guest.errors.email}\r\n                                    helperText={guest.errors.email}\r\n                                    InputProps={{ readOnly: !!selectedGuest }}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} md={3}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"Phone\"\r\n                                    variant=\"outlined\"\r\n                                    name=\"phone\"\r\n                                    value={guest.phone}\r\n                                    onChange={(e) => handleChange(e, index, type)}\r\n                                    required\r\n                                    type=\"tel\"\r\n                                    error={!!guest.errors.phone}\r\n                                    helperText={guest.errors.phone}\r\n                                    InputProps={{ readOnly: !!selectedGuest }}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} md={12}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    label=\"Address\"\r\n                                    variant=\"outlined\"\r\n                                    name=\"address\"\r\n                                    value={guest.address}\r\n                                    onChange={(e) => handleChange(e, index, type)}\r\n                                    required\r\n                                    multiline\r\n                                    rows={3}\r\n                                    InputProps={{ readOnly: !!selectedGuest }}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} md={6}>\r\n                            <TextField\r\n                                    fullWidth\r\n                                    label=\"Date of Birth\"\r\n                                    type=\"date\"\r\n                                    name=\"dob\"\r\n                                    value={guest.dob ? guest.dob.split('T')[0] : ''}\r\n                                    onChange={(e) => handleChange(e, index, type)}\r\n                                    required\r\n                                    InputLabelProps={{ shrink: true }}\r\n                                    inputProps={{ max: fiveYearsAgo }} // Restrict the maximum selectable date\r\n                                    error={!!guest.errors.dob}\r\n                                    helperText={guest.errors.dob}\r\n                                    InputProps={{ readOnly: !!selectedGuest }}\r\n                                />  \r\n                            </Grid>\r\n                            <Grid item xs={12} md={6}>\r\n                                <TextField\r\n                                    select\r\n                                    fullWidth\r\n                                    label=\"Proof of Identity\"\r\n                                    variant=\"outlined\"\r\n                                    name=\"proofType\"\r\n                                    value={guest.proofType}\r\n                                    onChange={(e) => handleChange(e, index, type)}\r\n                                    required\r\n                                >\r\n                                    {documentOptions.map((option) => (\r\n                                        <MenuItem key={option.value} value={option.value}>\r\n                                            {option.label}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </TextField>\r\n                            </Grid>\r\n                            {/* Only show document upload for new guests */}\r\n                            {!guest._id && guest.proofType && (\r\n                                <>\r\n                                    <Grid item xs={12} md={6}>\r\n                                        <TextField\r\n                                            fullWidth\r\n                                            label={`${guest.proofType} Number`}\r\n                                            name=\"proofNumber\"\r\n                                            value={guest.proofNumber}\r\n                                            onChange={(e) => handleChange(e, index, type)}\r\n                                            required\r\n                                            error={!!guest.errors?.proofNumber}\r\n                                            helperText={guest.errors?.proofNumber}\r\n                                        />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} md={6}>\r\n                                        <Button\r\n                                            variant=\"contained\"\r\n                                            component=\"label\"\r\n                                            fullWidth\r\n                                            disabled={isVerifying}\r\n                                            startIcon={isVerifying ? <CircularProgress size={20} /> : null}\r\n                                        >\r\n                                            {isVerifying ? 'Verifying...' : `Upload ${guest.proofType} Document`}\r\n                                            <input\r\n                                                type=\"file\"\r\n                                                hidden\r\n                                                onChange={(e) => handleFileUpload(e, index, type)}\r\n                                                accept=\"image/*,.pdf\"\r\n                                            />\r\n                                        </Button>\r\n                                    </Grid>\r\n                                </>\r\n                            )}\r\n\r\n                        </>\r\n                    )}\r\n                </Grid>\r\n                 {!guest._id && (\r\n                    <Grid item xs={12}>\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={guest.saveDetails || false}\r\n                                    onChange={(e) => handleSaveDetailsChange(index, e.target.checked, type)}\r\n                                    icon={<CheckBoxOutlineBlankIcon />}\r\n                                    checkedIcon={<CheckBoxIcon />}\r\n                                />\r\n                            }\r\n                            label=\"Save guest details for future bookings\"\r\n                        />\r\n                    </Grid>\r\n                )}\r\n                {/* Only show remove button for newly added guests */}\r\n                {!guest._id && (\r\n                    <Box mt={2}>\r\n                        <Button \r\n                            variant=\"contained\" \r\n                            color=\"secondary\" \r\n                            id='remove-guest-button'\r\n                            onClick={() => removeGuest(index, setGuestState)}\r\n                        >\r\n                            Remove {type === 'adult' ? 'Adult' : 'Child'}\r\n                        </Button>\r\n                    </Box>\r\n                )}\r\n                {/* Show verification status */}\r\n                {guest.proofType && guest.proofNumber && (\r\n                    <Box sx={{ mt: 2, display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            Document Status:\r\n                        </Typography>\r\n                        {guest._id || verificationStatus[`${type}_${index}`] ? (\r\n                            <Chip\r\n                                label=\"Verified\"\r\n                                color=\"success\"\r\n                                size=\"small\"\r\n                                icon={<CheckCircleIcon />}\r\n                            />\r\n                        ) : (\r\n                            <Chip\r\n                                label=\"Verification Required\"\r\n                                color=\"warning\"\r\n                                size=\"small\"\r\n                                icon={<WarningIcon />}\r\n                            />\r\n                        )}\r\n                    </Box>\r\n                )}\r\n            </Paper>\r\n        ))\r\n    );\r\n    \r\n    // Add this function to handle guest removal\r\n    const removeGuest = (index, setGuestState) => {\r\n        setGuestState(prevGuests => prevGuests.filter((_, i) => i !== index));\r\n    };\r\n\r\n    const addGuest = (type) => {\r\n        if (type === 'adult') {\r\n            if (adults.length >= roomdatas.allowedAdults) {\r\n                Swal.fire(`Maximum allowed adults (${allowedAdultsCount}) reached.`);\r\n                return; // Exit the function if the limit is reached\r\n            }\r\n            else{\r\n            setAdults(prevAdults => [\r\n                ...prevAdults,\r\n                {\r\n                    name: '',\r\n                    email: '',\r\n                    phone: '',\r\n                    address: '',\r\n                    dob: '',\r\n                    proofType: '',\r\n                    proofNumber: '',\r\n                    proofDocument: null,\r\n                    errors: {},\r\n                    // No _id for new guests\r\n                }\r\n            \r\n            ]);\r\n        }\r\n        } else if (type === 'child') {\r\n            if (adults.length >= roomdatas.allowedChildren) {\r\n                Swal.fire(`Maximum allowed children (${allowedChildren}) reached.`);\r\n                return; // Exit the function if the limit is reached\r\n            }\r\n            else{\r\n            setChildren(prevChildren => [\r\n                ...prevChildren,\r\n                {\r\n                    name: '',\r\n                    dob: '',\r\n                    errors: {},\r\n                    // No _id for new guests\r\n                }\r\n            ]);\r\n        }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n        <div className='guestnav'>\r\n            <Header title=\"Guest Information\" subtitle=\"Fill in guest details\" />\r\n            </div>\r\n            <Box className=\"guest-form-container\">\r\n                <form onSubmit={handleFormSubmit}>\r\n                    <Grid container spacing={2}>\r\n                    <Grid item xs={12} style={{ textAlign: 'center' }}>\r\n                        <Typography\r\n                            variant=\"h5\"\r\n                            sx={{ \r\n                                textDecoration: 'underline', \r\n                                textDecorationColor: 'skyblue' \r\n                            }}\r\n                        >\r\n                            Fill Guest Details\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        {renderPreviousGuest()}\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"h5\">Adults Information</Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        {renderGuestFields(adults, 'adult', setAdults)}\r\n                        <Button variant=\"contained\" onClick={() => addGuest('adult')}>\r\n                            Add Adult\r\n                        </Button>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"h5\">Children Information</Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        {renderGuestFields(children, 'child', setChildren)}\r\n                        <Button variant=\"contained\" onClick={() => addGuest('child')}>\r\n                            Add Child\r\n                        </Button>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} mt={3} style={{ display: 'flex', justifyContent: 'center' }}>\r\n    <Button variant=\"contained\" color=\"primary\" type=\"submit\" id='proceed-to-reserve-room-button'>\r\n        Proceed to Reserve Room\r\n    </Button>\r\n</Grid>\r\n                    </Grid>\r\n                </form>\r\n            </Box>\r\n            {/* <footer className=\"footer\" id=\"contact\">\r\n        <div className=\"section__container footer__container\">\r\n          <div className=\"footer__col\">\r\n            <div className=\"logo\">\r\n              <a href=\"#home\"><img src={logo} alt=\"logo\" /></a>\r\n            </div>\r\n            <p className=\"section__description\">\r\n              Discover a world of comfort, luxury, and adventure as you explore\r\n              our curated selection of hotels, making every moment of your getaway\r\n              truly extraordinary.\r\n            </p>\r\n            <button className=\"btn\">Book Now</button>\r\n          </div>\r\n          <div className=\"footer__col\">\r\n            <h4>QUICK LINKS</h4>\r\n            <ul className=\"footer__links\">\r\n              <li><a href=\"#\">Browse Destinations</a></li>\r\n              <li><a href=\"#\">Special Offers & Packages</a></li>\r\n              <li><a href=\"#\">Room Types & Amenities</a></li>\r\n              <li><a href=\"#\">Customer Reviews & Ratings</a></li>\r\n              <li><a href=\"#\">Travel Tips & Guides</a></li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"footer__col\">\r\n            <h4>OUR SERVICES</h4>\r\n            <ul className=\"footer__links\">\r\n              <li><a href=\"#\">Concierge Assistance</a></li>\r\n              <li><a href=\"#\">Flexible Booking Options</a></li>\r\n              <li><a href=\"#\">Airport Transfers</a></li>\r\n              <li><a href=\"#\">Wellness & Recreation</a></li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"footer__col\">\r\n            <h4>CONTACT US</h4>\r\n            <ul className=\"footer__links\">\r\n              <li><a href=\"#\">intellistay@info.com</a></li>\r\n            </ul>\r\n            <div className=\"footer__socials\">\r\n              <a href=\"#\"><img src={facebook} alt=\"facebook\" /></a>\r\n              <a href=\"#\"><img src={instagram} alt=\"instagram\" /></a>\r\n              <a href=\"#\"><img src={youtube} alt=\"youtube\" /></a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"footer__bar\">\r\n          Copyright Â© 2024 INTELLISTAY Pvt.LTD. All rights reserved.\r\n        </div>\r\n      </footer> */}\r\n      <div className='footer'>\r\n      <Footer/>\r\n    </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default GuestDetailsForm;\r\n","import React,{ useState,useEffect} from 'react';\r\nimport { Box, Typography, Paper, Button, Grid, Divider } from '@mui/material';\r\nimport { useLocation,useNavigate } from 'react-router-dom';\r\nimport './Reserveroom.css'; // Custom CSS for styling\r\nimport Header from '../components/Header'; \r\nimport Swal from 'sweetalert2'; // Assuming you're using SweetAlert for notifications\r\nimport axios from 'axios';\r\nimport jsPDF from 'jspdf';\r\nimport logo from '../public/logo1.png';\r\nimport facebook from './assets/facebook.png';\r\nimport instagram from './assets/instagram.png';\r\nimport youtube from './assets/youtube.png';\r\nimport useAuth from './useAuth';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport Footer from '../components/footer';\r\n\r\n\r\n\r\nconst ReserveRoom = () => {\r\n  useAuth();\r\n  const razerkeyid=import.meta.env.VITE_RAZORPAY_KEY_ID;\r\n  const razersecret=import.meta.env.VITE_RAZORPAY_KEY_SECRET;\r\n  const [reservation, setReservationDetails] = useState(null);\r\n  const navigate=useNavigate();\r\n  const location = useLocation();\r\n  const state = location.state || {};\r\n  const roomDetails = state.roomdata || {};\r\n  console.log(\"room details\",roomDetails);\r\n  const datas = state.data || {};\r\n  console.log(datas)\r\n  const adultDetails = state.adults || [];\r\n  console.log(adultDetails)\r\n  const childrenDetails = state.children || [];\r\n  const totalRate = state.totlrates || 0;\r\n  console.log(\"total rate\",totalRate);\r\n\r\n  const totldays = state.totldays || 0;\r\n  console.log(\"total days\",totldays);\r\n  const guestData = state.guestData || {};\r\n  const selectedGuestIds = guestData.selectedGuestIds || [];\r\n  const newGuestDetails = guestData.newGuestDetails || { adults: [], children: [] };\r\n  console.log(\"selected guestids\",selectedGuestIds);\r\n  console.log(\"new guest details\",newGuestDetails);\r\n  const userid= localStorage.getItem('userId');\r\n  const [loading, setLoading] = useState(false); \r\n\r\n  useEffect(() => {\r\n    const script = document.createElement('script');\r\n    script.src = 'https://checkout.razorpay.com/v1/checkout.js';\r\n    script.async = true;\r\n    script.onload = () => {\r\n        console.log(\"Razorpay script loaded\");\r\n    };\r\n    document.body.appendChild(script);\r\n\r\n    return () => {\r\n        document.body.removeChild(script);\r\n    };\r\n}, []);\r\n\r\n\r\n  const handleBookNow = async () => {\r\n    const formData = new FormData();\r\n    \r\n    // Include other data fields\r\n    formData.append('roomDetails', JSON.stringify(roomDetails));\r\n    formData.append('datas', JSON.stringify(datas));\r\n    formData.append('userid', userid);\r\n    formData.append('totalRate', totalRate);\r\n    formData.append('totldays', totldays);\r\n    formData.append('selectedGuestIds', JSON.stringify(selectedGuestIds));\r\n    formData.append('newGuestDetails', JSON.stringify(newGuestDetails));\r\n\r\n    // Only append new guest details if they exist\r\n    if (newGuestDetails) {\r\n      // Handle new adult details\r\n      if (newGuestDetails.adults && newGuestDetails.adults.length > 0) {\r\n        newGuestDetails.adults.forEach((adult, index) => {\r\n          // Only append if it's a new guest (no _id)\r\n          if (!adult._id) {\r\n            formData.append(`newAdultDetails[${index}]`, JSON.stringify(adult));\r\n            if (adult.proofDocument) {\r\n              formData.append('proofDocuments', adult.proofDocument);\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      // Handle new children details\r\n      if (newGuestDetails.children && newGuestDetails.children.length > 0) {\r\n        newGuestDetails.children.forEach((child, index) => {\r\n          // Only append if it's a new guest (no _id)\r\n          if (!child._id) {\r\n            formData.append(`newChildrenDetails[${index}]`, JSON.stringify(child));\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    // Append selected guest IDs (existing guests)\r\n    // if (selectedGuestIds && selectedGuestIds.length > 0) {\r\n    //   formData.append('selectedGuestIds', JSON.stringify(selectedGuestIds));\r\n    // }\r\n\r\n    try {\r\n        const res = await axios.post(`${import.meta.env.VITE_API}/user/confirmbook`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data',\r\n            },\r\n        });\r\n\r\n        if (res.status === 201) {\r\n            const totalAmount = res.data.reservation.total_amount;\r\n            const reservationId = res.data.reservation._id; // Store reservation ID for potential deletion\r\n            const reservationDetails = res.data.reservation; \r\n            const options = {\r\n                key: razerkeyid,\r\n                key_secret: razersecret,\r\n                amount: parseInt(totalAmount * 100),\r\n                currency: \"INR\",\r\n                order_receipt: 'order_rcptid_' + formData.get('userid'),\r\n                name: \"INTELLISTAY PAYMENT GATEWAY\",\r\n                description: \"Booking Payment\",\r\n                handler: function (response) {\r\n                    console.log(\"Payment successful\", response);\r\n                    const paymentId = response.razorpay_payment_id;\r\n                    \r\n                    const payLoad = {\r\n                        userid: userid,\r\n                        paymentId,\r\n                        totalRate,\r\n                        totldays,\r\n                        reservation_id: reservationId,\r\n                        checkInDate: reservationDetails.check_in,\r\n                        checkOutDate: reservationDetails.check_out,\r\n                    };\r\n                    setLoading(true);\r\n                    axios.post(`${import.meta.env.VITE_API}/user/orders/create`, payLoad)\r\n                         \r\n                        .then((response) => {\r\n\r\n                            Swal.fire(\"Booking and payment successful\");\r\n                            console.log(response.data.reservation);\r\n                            console.log(\"user details\",response.data.user)\r\n        \r\n         // Trigger PDF generation and download after successful booking\r\n         const generatePDF = () => {\r\n          const doc = new jsPDF();\r\nlet currentY = 20;\r\n\r\n// IntelliStay Header\r\ndoc.setFontSize(28);\r\ndoc.text('IntelliStay', 105, currentY, { align: 'center' });\r\ndoc.line(10, currentY + 5, 200, currentY + 5);\r\ncurrentY += 15; // Adjust Y for next section\r\n\r\n// Reservation Confirmation Title\r\ndoc.setFontSize(18);\r\ndoc.text('Reservation Confirmation', 105, currentY, { align: 'center' });\r\ndoc.line(10, currentY + 5, 200, currentY + 5);\r\ncurrentY += 15;\r\n\r\n// Reservation Details Section\r\ndoc.setFontSize(14);\r\ndoc.text('Reservation Details', 10, currentY);\r\ncurrentY += 10;\r\n\r\ndoc.setFontSize(12);\r\ndoc.text(`Room ID: ${res.data.reservation.room_id}`, 10, currentY);\r\ndoc.text(`Booking Date: ${new Date(res.data.reservation.booking_date).toLocaleDateString(\"en-GB\")}`, 200, currentY, { align: 'right' });\r\ncurrentY += 10;\r\n\r\ndoc.text(`User Name: ${response.data.user.displayName}`, 10, currentY);\r\ndoc.text(`User Email: ${response.data.user.email}`, 200, currentY, { align: 'right' });\r\ncurrentY += 20;\r\n\r\ndoc.text(`Room Type: ${roomDetails.roomtype}`, 10, currentY);\r\ndoc.text(`Check-In Date: ${new Date(res.data.reservation.check_in).toLocaleDateString(\"en-GB\")}`, 10, currentY + 10);\r\ndoc.text(`Check-Out Date: ${new Date(res.data.reservation.check_out).toLocaleDateString(\"en-GB\")}`, 200, currentY + 10, { align: 'right' });\r\ncurrentY += 20;\r\n\r\ndoc.text(`Check-In Time: 02:00 PM `, 10, currentY + 10);\r\ndoc.text(`Check-Out Time: 11:00 AM`, 200, currentY + 10, { align: 'right' });\r\ncurrentY += 20;\r\n\r\ndoc.text(`Price per Night: Rs.${roomDetails.rate}`, 10, currentY);\r\ndoc.text(`Total Nights: ${totldays}`, 200, currentY, { align: 'right' });\r\ncurrentY += 10;\r\n\r\ndoc.text(`Total Amount: Rs.${res.data.reservation.total_amount}`, 10, currentY);\r\ndoc.text(`Reservation Status: ${res.data.reservation.status}`, 200, currentY, { align: 'right' });\r\ncurrentY += 15;\r\n\r\ndoc.line(10, currentY, 200, currentY);\r\ncurrentY += 10; // Adjust Y for next section\r\n\r\n// Check if we need a new page\r\nconst checkPageOverflow = () => {\r\n    if (currentY > 280) { // Assuming 280 is the safe limit before page overflow\r\n        doc.addPage();\r\n        currentY = 20; // Reset Y for new page\r\n    }\r\n};\r\n\r\n// Room Details Section\r\ndoc.setFontSize(14);\r\ndoc.text('Room Details', 10, currentY);\r\ncurrentY += 10;\r\n\r\ndoc.setFontSize(12);\r\ndoc.text(`Room Name: ${roomDetails.roomtype}`, 10, currentY);\r\nlet descriptionLines = doc.splitTextToSize(roomDetails.description, 180);  // 180 is the max width of the text\r\ndoc.text(`Description: ${descriptionLines}`, 10, currentY + 10);  // Print the split description lines\r\ncurrentY += 10 + descriptionLines.length * 7; \r\ndoc.text(`Price per Night: Rs.${roomDetails.rate}`, 10, currentY + 20);\r\ncurrentY += 30;\r\n\r\ncheckPageOverflow(); // Check for page overflow after room details\r\n\r\n// Line separator between Room Details and Guest Details\r\ndoc.line(10, currentY, 200, currentY);\r\ncurrentY += 10;\r\n\r\n// Guest Details Section\r\ndoc.setFontSize(14);\r\ndoc.text('Guest Details', 10, currentY);\r\ncurrentY += 10;\r\n\r\ndoc.setFontSize(12);\r\nadultDetails.forEach((guest, index) => {\r\n    let yOffset = currentY + index * 30; \r\n    let addressLines = doc.splitTextToSize(guest.address, 180); // Adjust y position for each guest\r\n    checkPageOverflow(); // Check for page overflow for each guest entry\r\n    doc.text(`Adult ${index + 1} Name: ${guest.name}`, 10, yOffset);\r\n    doc.text(`Email: ${guest.email}`, 200, yOffset, { align: 'right' });\r\n    doc.text(`Phone: ${guest.phone}`, 10, yOffset + 10);\r\n    doc.text(`Address: ${addressLines}`, 200, yOffset + 10, { align: 'right' }); // Multiple line address\r\n\r\n    doc.text(`Proof of Identity: ${guest.proofType}`, 10, yOffset + 20 + (addressLines.length - 1) * 7); // Adjust based on address length\r\n    doc.text(`Proof Number: ${guest.proofNumber}`, 200, yOffset + 20 + (addressLines.length - 1) * 7, { align: 'right' });\r\n\r\n    // Update currentY based on the number of address lines and other guest info\r\n    currentY = yOffset + 30 + (addressLines.length - 1) * 7;\r\n});\r\n\r\ncheckPageOverflow(); // Check for page overflow after guest details\r\n\r\n// Line separator between Guest Details and Children Details\r\ndoc.line(10, currentY, 200, currentY);\r\ncurrentY += 10;\r\n\r\n// Children Details Section\r\ndoc.setFontSize(14);\r\ndoc.text('Children Details', 10, currentY);\r\ncurrentY += 10;\r\n\r\ndoc.setFontSize(12);\r\nif (childrenDetails.length === 0) {\r\n  doc.setFontSize(12);\r\n  doc.text('No children details available', 10, currentY);\r\n  currentY += 10; // Adjust Y for the next section if needed\r\n} else {\r\n  doc.setFontSize(12);\r\n  childrenDetails.forEach((child, index) => {\r\n      let yOffset = currentY + index * 20; // Adjust y position for each child\r\n      checkPageOverflow(); // Check for page overflow for each child entry\r\n      doc.text(`Child ${index + 1} Name: ${child.name}`, 10, yOffset);\r\n      doc.text(`DOB: ${child.dob}`, 200, yOffset, { align: 'right' });\r\n      currentY = yOffset + 20;\r\n  });\r\n}\r\n\r\ncheckPageOverflow(); // Check for page overflow after children details\r\n\r\n// Line separator between Children Details and Total Room Rate\r\ndoc.line(10, currentY, 200, currentY);\r\ncurrentY += 10;\r\n\r\n// Total Room Rate Section\r\ndoc.setFontSize(14);\r\ndoc.text(`Total Room Rate: Rs: ${totalRate}`, 10, currentY);\r\ncurrentY += 15; // Adjust Y for any potential additional notes or sections\r\ndoc.line(10, currentY, 200, currentY); // Line at the bottom of the section\r\n\r\n          //next page payment\r\n          doc.addPage();\r\n          currentY = 20; // Reset Y for new page\r\n\r\n          // Payment Details Section\r\n          doc.setFontSize(18);\r\n          doc.text('Payment Details', 105, currentY, { align: 'center' });\r\n          doc.line(10, currentY + 5, 200, currentY + 5);\r\n          currentY += 15;\r\n\r\n          // Include payment details\r\n          // doc.setFontSize(14);\r\n          // doc.text('Payment Method:', 10, currentY);\r\n          doc.setFontSize(12);\r\n          // doc.text(`Method: ${res.data.bill.paymentMethod}`, 10, currentY + 10); // Assuming you have paymentMethod variable\r\n          doc.text(`Transaction ID: ${response.data.bill.paymentId}`, 10, currentY + 10);\r\n          doc.text(`Reservation ID: ${response.data.bill.reservationid}`, 10, currentY + 20); // Assuming you have transactionId variable\r\n          doc.text(`Payment Status: ${response.data.bill.status}`, 10, currentY + 30); // Assuming you have paymentStatus variable\r\n          currentY += 40;\r\n\r\n          // Total Payment Amount\r\n          doc.setFontSize(14);\r\n          doc.text(`Total Amount Paid: Rs.${response.data.bill.totalRate}`, 10, currentY); // Assuming you have totalAmountPaid variable\r\n          currentY += 10;\r\n\r\n          // Automatically download the PDF\r\n          doc.save(`Reservation_${roomDetails.roomtype}_${Date.now()}.pdf`);\r\n          \r\n        };\r\n        generatePDF();\r\n          navigate('/'); // Redirect to orders or bookings page\r\n              })\r\n              .catch(error => {\r\n                console.error(\"Error creating order:\", error);\r\n                // If order creation fails, delete the reservation\r\n                deleteReservation(reservationId);\r\n                Swal.fire(\"Error finalizing the booking. Please try again.\");\r\n              });\r\n          },\r\n          modal: {\r\n            ondismiss: function() {\r\n              // Handle payment modal dismissal\r\n              console.log(\"Payment modal closed\");\r\n              deleteReservation(reservationId);\r\n              console.log(\"Booking cancelled. The reservation has been removed.\");\r\n            }\r\n          },\r\n          theme: {\r\n            color: \"#3399cc\"\r\n          }\r\n        };\r\n\r\n        var razorpayInstance = new window.Razorpay(options);\r\n        razorpayInstance.on('payment.failed', function(response) {\r\n          console.log(\"Payment failed\", response.error);\r\n          deleteReservation(reservationId);\r\n          console.log({\r\n            title: \"Payment Failed\",\r\n            text: \"The payment was unsuccessful. The reservation has been cancelled.\",\r\n            icon: \"error\"\r\n          });\r\n        });\r\n        \r\n        razorpayInstance.open();\r\n      } else {\r\n        Swal.fire(res.data.message);\r\n      }\r\n    } catch (err) {\r\n      const errorMessage = err.response?.data?.message || \"An error occurred while booking.\";\r\n      Swal.fire(errorMessage);\r\n      console.error(\"Error:\", err);\r\n    }\r\n    \r\n  };\r\n\r\n  // Function to delete reservation\r\n  const deleteReservation = async (reservationId) => {\r\n    try {\r\n      await axios.delete(`${import.meta.env.VITE_API}/user/reservations/${reservationId}`);\r\n      console.log(\"Reservation deleted successfully\");\r\n    } catch (error) {\r\n      console.error(\"Error deleting reservation:\", error);\r\n      console.log({\r\n        title: \"Error\",\r\n        text: \"Failed to cancel the reservation. Please contact support.\",\r\n        icon: \"error\"\r\n      });\r\n    }\r\n  };\r\n  \r\n  // Debug logs to identify the problematic data\r\n  console.log('Room Details:', roomDetails);\r\n  console.log('Adult Details:', adultDetails);\r\n  console.log('Children Details:', childrenDetails);\r\n  console.log('Guest Data:', guestData);\r\n\r\n  // Safely format address for display\r\n  const formatAddress = (address) => {\r\n    if (!address) return 'N/A';\r\n    if (typeof address === 'object') {\r\n      // If address is an object, convert it to string\r\n      return Object.values(address).filter(Boolean).join(', ') || 'N/A';\r\n    }\r\n    return address;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className='resroomnav'>\r\n        <Header />\r\n      </div>\r\n      \r\n      <Box sx={{ margin: { xs: '10px', md: '20px' }, marginTop: { xs: '20px', md: '40px' } }}>\r\n        <Typography variant=\"h4\" gutterBottom sx={{ textAlign: { xs: 'center', md: 'left' } }}>\r\n          Reserve Room\r\n        </Typography>\r\n\r\n        {/* Room Details */}\r\n        <Paper elevation={3} sx={{ padding: 3, marginBottom: 3 }}>\r\n          <Typography variant=\"h5\" gutterBottom>\r\n            Room Details\r\n          </Typography>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <Typography><strong>Room Name:</strong> {String(roomDetails?.roomtype || 'N/A')}</Typography>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <Typography><strong>Room Type:</strong> {String(roomDetails?.roomtype || 'N/A')}</Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Typography><strong>Description:</strong> {String(roomDetails?.description || 'No description available')}</Typography>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <Typography><strong>Price per Night:</strong> Rs.{Number(roomDetails?.rate || 0).toLocaleString()}</Typography>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <Typography><strong>Total Nights:</strong> {Number(totldays || 0)}</Typography>\r\n            </Grid>\r\n          </Grid>\r\n        </Paper>\r\n\r\n        {/* Guest Details */}\r\n        <Paper elevation={3} sx={{ padding: 3, marginBottom: 3 }}>\r\n          <Typography variant=\"h5\" gutterBottom>\r\n            Guest Details\r\n          </Typography>\r\n\r\n          {/* Adults Details */}\r\n          <Typography variant=\"h6\" sx={{ marginBottom: 2 }}>\r\n            Adult Guests\r\n          </Typography>\r\n          {Array.isArray(adultDetails) && adultDetails.length > 0 ? (\r\n            adultDetails.map((guest, index) => (\r\n              <Box key={index} sx={{ marginBottom: 3 }}>\r\n                <Typography><strong>Adult {index + 1} Name:</strong> {String(guest?.name || 'N/A')}</Typography>\r\n                <Typography><strong>Email:</strong> {String(guest?.email || 'N/A')}</Typography>\r\n                <Typography><strong>Phone:</strong> {String(guest?.phone || 'N/A')}</Typography>\r\n                <Typography><strong>Address:</strong> {formatAddress(guest?.address)}</Typography>\r\n                <Typography><strong>Proof of Identity:</strong> {String(guest?.proofType || 'N/A')}</Typography>\r\n                <Typography><strong>Proof Number:</strong> {String(guest?.proofNumber || 'N/A')}</Typography>\r\n                <Divider sx={{ marginY: 2 }} />\r\n              </Box>\r\n            ))\r\n          ) : (\r\n            <Typography>No adult guest details available.</Typography>\r\n          )}\r\n\r\n          {/* Children Details */}\r\n          <Typography variant=\"h6\" sx={{ marginBottom: 2 }}>\r\n            Children Guests\r\n          </Typography>\r\n          {Array.isArray(childrenDetails) && childrenDetails.length > 0 ? (\r\n            childrenDetails.map((child, index) => (\r\n              <Box key={index} sx={{ marginBottom: 3 }}>\r\n                <Typography><strong>Child {index + 1} Name:</strong> {String(child?.name || 'N/A')}</Typography>\r\n                <Typography><strong>DOB:</strong> {String(child?.dob || 'N/A')}</Typography>\r\n                <Divider sx={{ marginY: 2 }} />\r\n              </Box>\r\n            ))\r\n          ) : (\r\n            <Typography>No children details available.</Typography>\r\n          )}\r\n        </Paper>\r\n\r\n        {/* Total Room Rate */}\r\n        <Paper elevation={3} sx={{ padding: 3, marginBottom: 3 }}>\r\n          <Typography variant=\"h5\" gutterBottom>\r\n            Total Room Rate\r\n          </Typography>\r\n          <Typography variant=\"h6\">\r\n            Rs.{Number(totalRate || 0).toLocaleString()}\r\n          </Typography>\r\n        </Paper>\r\n\r\n        {/* Book Now Button */}\r\n        <Box sx={{ textAlign: 'center', marginTop: 3 }}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            disabled={loading}\r\n            size=\"large\"\r\n            id='booknow'\r\n            onClick={handleBookNow}\r\n          >\r\n            {loading ? 'Processing...' : 'Book Now'}\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* Loading Overlay */}\r\n      {loading && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          backgroundColor: 'rgba(255, 255, 255, 0.7)',\r\n          zIndex: 1000,\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center'\r\n        }}>\r\n          <CircularProgress />\r\n        </div>\r\n      )}\r\n      <div className='footer'>\r\n      <Footer/>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReserveRoom;\r\n","import React, { useState, useEffect, useCallback, useRef } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n  TextField,\r\n  useTheme,\r\n  IconButton,\r\n  FormHelperText\r\n} from \"@mui/material\";\r\nimport AddAPhotoIcon from '@mui/icons-material/AddAPhoto';\r\nimport { jwtDecode } from \"jwt-decode\";\r\nimport axios from \"axios\";\r\nimport Swal from 'sweetalert2';\r\nimport Header from \"../Header\";\r\nimport './MyProfile.css'\r\nimport useAuth from \"../../src/useAuth\";\r\nimport Webcam from 'react-webcam';\r\nimport * as faceapi from 'face-api.js';\r\nimport CameraAltIcon from '@mui/icons-material/CameraAlt';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogActions from '@mui/material/DialogActions';\r\n\r\nconst MyProfile = () => {\r\n  useAuth();\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [changePasswordMode, setChangePasswordMode] = useState(false);\r\n  const [selectedImage, setSelectedImage] = useState(null);\r\n  const theme = useTheme();\r\n  const [userData, setUserData] = useState({_id:\"\"});\r\n  const [profileData, setProfileData] = useState({\r\n    displayName: \"\",\r\n    email: \"\",\r\n    address: \"\",\r\n    image: \"\",\r\n    role: \"\",\r\n    phone_no: \"\",\r\n    dob: \"\"\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const [passwordData, setPasswordData] = useState({\r\n    currentPassword: \"\",\r\n    newPassword: \"\",\r\n    confirmPassword: \"\"\r\n  });\r\n\r\n  const [passwordErrors, setPasswordErrors] = useState({\r\n    currentPassword: '',\r\n    newPassword: '',\r\n    confirmPassword: ''\r\n  });\r\n\r\n  const [isGoogleUser, setIsGoogleUser] = useState(false);\r\n  const [isCameraOpen, setIsCameraOpen] = useState(false);\r\n  const webcamRef = useRef(null);\r\n  const [faceDetected, setFaceDetected] = useState(false);\r\n  const [isFaceModelLoading, setIsFaceModelLoading] = useState(true);\r\n  const [hasFaceEnabled, setHasFaceEnabled] = useState(false);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n\r\n  const fetchProfileData = useCallback(async (userId) => {\r\n    try {\r\n      const response = await axios.get(`${import.meta.env.VITE_API}/user/profile/${userId}`);\r\n      const data = response.data;\r\n      setProfileData({\r\n        displayName: data.displayName || \"\",\r\n        email: data.email || \"\",\r\n        address: data.address || \"\",\r\n        image: data.image || \"\",\r\n        role: data.role || \"\",\r\n        phone_no: data.phone_no || \"\",\r\n        dob: data.dob || \"\"\r\n      });\r\n      setIsGoogleUser(!!data.googleId);\r\n      setHasFaceEnabled(data.hasFaceEnabled);\r\n       // Set to true if googleId exists\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch profile data:\", error);\r\n      Swal.fire(\"Error\", \"Failed to fetch profile data\", \"error\");\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      try {\r\n        const decodedToken = jwtDecode(token);\r\n        setUserData(decodedToken);\r\n        fetchProfileData(decodedToken?._id);\r\n      } catch (error) {\r\n        console.error(\"Failed to decode token:\", error);\r\n        Swal.fire(\"Error\", \"Failed to authenticate\", \"error\");\r\n      }\r\n    }\r\n  }, [fetchProfileData]);\r\n\r\n  useEffect(() => {\r\n    const loadFaceModels = async () => {\r\n      try {\r\n        setIsFaceModelLoading(true);\r\n        const MODEL_URL = '/models';\r\n        \r\n        await Promise.all([\r\n          faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL),\r\n          faceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL),\r\n          faceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL)\r\n        ]);\r\n        \r\n        setIsFaceModelLoading(false);\r\n      } catch (error) {\r\n        console.error('Error loading face models:', error);\r\n        Swal.fire({\r\n          title: 'Model Loading Error',\r\n          text: 'Failed to load face detection models. Please refresh the page.',\r\n          icon: 'error'\r\n        });\r\n      }\r\n    };\r\n\r\n    loadFaceModels();\r\n  }, []);\r\n\r\n  const handleUpdateClick = () => {\r\n    setEditMode(true);\r\n  };\r\n\r\n  const validateInput = (name, value) => {\r\n    let error = \"\";\r\n    switch (name) {\r\n      case \"displayName\":\r\n        if (!/^[a-zA-Z\\s._]+$/.test(value)) {\r\n          error = \"Only letters, spaces, dots, and underscores are allowed\";\r\n        }\r\n        break;\r\n      case \"phone_no\":\r\n        if (!/^\\d{10}$/.test(value)) {\r\n          error = \"Phone number must be 10 digits\";\r\n        } else if (/(\\d)\\1{3,}/.test(value)) {\r\n          error = \"No more than 3 consecutive repeated digits allowed\";\r\n        }\r\n        break;\r\n      case \"dob\":\r\n        const birthDate = new Date(value);\r\n        const today = new Date();\r\n        let age = today.getFullYear() - birthDate.getFullYear();\r\n        const m = today.getMonth() - birthDate.getMonth();\r\n        if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\r\n          age--;\r\n        }\r\n        if (age < 18) {\r\n          error = \"Must be at least 18 years old\";\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return error;\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    const error = validateInput(name, value);\r\n    setErrors(prevErrors => ({\r\n      ...prevErrors,\r\n      [name]: error\r\n    }));\r\n    setProfileData(prevData => ({\r\n      ...prevData,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleSave = () => {\r\n    const newErrors = {};\r\n    Object.keys(profileData).forEach(key => {\r\n      const error = validateInput(key, profileData[key]);\r\n      if (error) {\r\n        newErrors[key] = error;\r\n      }\r\n    });\r\n\r\n    if (Object.keys(newErrors).length > 0) {\r\n      setErrors(newErrors);\r\n      return;\r\n    }\r\n\r\n    axios.post(`${import.meta.env.VITE_API}/user/profile/update/${userData._id}`, profileData)\r\n      .then(response => {\r\n        Swal.fire(\"Success\", \"Profile updated successfully\", \"success\");\r\n        setEditMode(false);\r\n      })\r\n      .catch(error => {\r\n        Swal.fire(\"Error\", \"Error updating profile data\", \"error\");\r\n      });\r\n  };\r\n\r\n  const handlePasswordChange = () => {\r\n    setChangePasswordMode(true);\r\n  };\r\n\r\n  const validatePassword = (password) => {\r\n    const regex = /^(?=.*[a-zA-Z])(?=.*\\d)(?=.*[^a-zA-Z\\d])([a-zA-Z\\d[^a-zA-Z\\d]]{6,50})$/;\r\n    return regex.test(password);\r\n  };\r\n\r\n  const handlePasswordInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setPasswordData(prevData => ({\r\n      ...prevData,\r\n      [name]: value\r\n    }));\r\n\r\n    // Validate new password\r\n    if (name === 'newPassword') {\r\n      if (!validatePassword(value)) {\r\n        setPasswordErrors(prevErrors => ({\r\n          ...prevErrors,\r\n          newPassword: 'Password must be 6-50 characters long, include a letter, a number, and a special character'\r\n        }));\r\n      } else {\r\n        setPasswordErrors(prevErrors => ({\r\n          ...prevErrors,\r\n          newPassword: ''\r\n        }));\r\n      }\r\n    }\r\n\r\n    // Validate confirm password\r\n    if (name === 'confirmPassword') {\r\n      if (value !== passwordData.newPassword) {\r\n        setPasswordErrors(prevErrors => ({\r\n          ...prevErrors,\r\n          confirmPassword: 'Passwords do not match'\r\n        }));\r\n      } else {\r\n        setPasswordErrors(prevErrors => ({\r\n          ...prevErrors,\r\n          confirmPassword: ''\r\n        }));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handlePasswordSave = () => {\r\n    if (passwordData.newPassword !== passwordData.confirmPassword) {\r\n      setPasswordErrors(prevErrors => ({\r\n        ...prevErrors,\r\n        confirmPassword: 'Passwords do not match'\r\n      }));\r\n      return;\r\n    }\r\n\r\n    if (!validatePassword(passwordData.newPassword)) {\r\n      setPasswordErrors(prevErrors => ({\r\n        ...prevErrors,\r\n        newPassword: 'Password must be 6-50 characters long, include a letter, a number, and a special character'\r\n      }));\r\n      return;\r\n    }\r\n\r\n    axios.put(`${import.meta.env.VITE_API}/user/change-password/${userData._id}`, {\r\n      currentPassword: passwordData.currentPassword,\r\n      newPassword: passwordData.newPassword\r\n    })\r\n    .then(response => {\r\n      Swal.fire(\"Success\", \"Password changed successfully\", \"success\");\r\n      setChangePasswordMode(false);\r\n      setPasswordData({\r\n        currentPassword: \"\",\r\n        newPassword: \"\",\r\n        confirmPassword: \"\"\r\n      });\r\n      setPasswordErrors({\r\n        currentPassword: '',\r\n        newPassword: '',\r\n        confirmPassword: ''\r\n      });\r\n    })\r\n    .catch(error => {\r\n      Swal.fire(\"Error\", \"Current password is incorrect or error updating password\", \"error\");\r\n    });\r\n  };\r\n\r\n  const handleImageUpload = (event) => {\r\n    const file = event.target.files[0];\r\n    setSelectedImage(file);\r\n  \r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n  \r\n    axios.post(`${import.meta.env.VITE_API}/user/upload-photo/${userData._id}`, formData)\r\n      .then(response => {\r\n        Swal.fire(\"Success\", \"Profile image updated successfully\", \"success\");\r\n        setProfileData(prevData => ({\r\n          ...prevData,\r\n          image: response.data.image\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        Swal.fire(\"Error\", \"Error uploading image\", \"error\");\r\n      });\r\n  };\r\n\r\n  const handleFaceCapture = async () => {\r\n    if (isProcessing) return;\r\n    \r\n    try {\r\n      setIsProcessing(true);\r\n\r\n      // Show clearer instructions first\r\n      const { value: willProceed } = await Swal.fire({\r\n        title: 'Face ID Setup Instructions',\r\n        html: `\r\n          <div class=\"face-setup-instructions\">\r\n            <p>Please follow these steps:</p>\r\n            <ol>\r\n              <li>Center your face in the frame</li>\r\n              <li>Blink naturally 2-3 times</li>\r\n              <li>Slowly turn your head left and right (about 15 degrees)</li>\r\n              <li>Maintain good lighting on your face</li>\r\n              <li>Keep a neutral expression</li>\r\n            </ol>\r\n          </div>\r\n        `,\r\n        icon: 'info',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'I Understand',\r\n        cancelButtonText: 'Cancel',\r\n      });\r\n\r\n      if (!willProceed) {\r\n        setIsProcessing(false);\r\n        return;\r\n      }\r\n\r\n      // Collect frames with better progress feedback\r\n      const frames = [];\r\n      const requiredFrames = 10; // Reduced from 15 for better usability\r\n      let blinkDetected = false;\r\n      let headMovementDetected = false;\r\n\r\n      // Show progress dialog\r\n      const progressSwal = Swal.mixin({\r\n        allowOutsideClick: false,\r\n        showConfirmButton: false,\r\n        didOpen: () => {\r\n          Swal.showLoading();\r\n        }\r\n      });\r\n\r\n      for (let i = 0; i < requiredFrames; i++) {\r\n        progressSwal.fire({\r\n          title: 'Capturing Face Data',\r\n          html: `\r\n            Progress: ${Math.round((i / requiredFrames) * 100)}%<br>\r\n            ${i < 3 ? 'Please blink naturally...' : \r\n              i < 6 ? 'Slowly turn your head left...' :\r\n              i < 9 ? 'Slowly turn your head right...' :\r\n              'Almost done...'}\r\n          `\r\n        });\r\n\r\n        // Add delay for natural movement\r\n        await new Promise(resolve => setTimeout(resolve, 300));\r\n\r\n        const frame = webcamRef.current?.getScreenshot();\r\n        if (!frame) continue;\r\n\r\n        const detection = await detectFace(frame);\r\n        if (!detection) {\r\n          throw new Error('Face not clearly visible. Please adjust your position.');\r\n        }\r\n\r\n        const { landmarks, descriptor } = detection;\r\n        const metrics = await calculateFaceMetrics(landmarks);\r\n\r\n        // More lenient thresholds for blink and movement detection\r\n        if (metrics.eyeAspectRatio < 0.25) {\r\n          blinkDetected = true;\r\n        }\r\n\r\n        if (Math.abs(metrics.headPose.yaw) > 10) {\r\n          headMovementDetected = true;\r\n        }\r\n\r\n        frames.push({\r\n          descriptor,\r\n          landmarks,\r\n          metrics,\r\n          timestamp: Date.now()\r\n        });\r\n      }\r\n\r\n      progressSwal.close();\r\n\r\n      // Validate with more detailed feedback\r\n      try {\r\n        validateFrameCollection(frames, blinkDetected, headMovementDetected);\r\n      } catch (validationError) {\r\n        throw new Error(`Validation failed: ${validationError.message}`);\r\n      }\r\n\r\n      // Process and save face data\r\n      const processedData = await processFaceData(frames);\r\n      await saveFaceData(processedData, userData._id);\r\n\r\n      setHasFaceEnabled(true);\r\n      setIsCameraOpen(false);\r\n      \r\n      Swal.fire({\r\n        title: 'Success!',\r\n        text: 'Face ID has been successfully set up',\r\n        icon: 'success'\r\n      });\r\n\r\n    } catch (error) {\r\n      console.error('Face capture error:', error);\r\n      Swal.fire({\r\n        title: 'Setup Failed',\r\n        text: error.message || 'Failed to set up Face ID. Please try again.',\r\n        icon: 'error',\r\n        confirmButtonText: 'Try Again'\r\n      });\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  // Helper functions for face processing\r\n  const captureFrame = async (webcam) => {\r\n    if (!webcam || !webcam.video?.readyState === 4) {\r\n      throw new Error('Camera not ready');\r\n    }\r\n    return webcam.getScreenshot();\r\n  };\r\n\r\n  const detectFace = async (frame) => {\r\n    const img = new Image();\r\n    img.src = frame;\r\n    await new Promise(resolve => { img.onload = resolve; });\r\n\r\n    return faceapi.detectSingleFace(img, new faceapi.TinyFaceDetectorOptions())\r\n      .withFaceLandmarks()\r\n      .withFaceDescriptor();\r\n  };\r\n\r\n  const calculateFaceMetrics = async (landmarks) => {\r\n    return {\r\n      eyeAspectRatio: calculateEyeAspectRatio(landmarks),\r\n      headPose: calculateHeadPose(landmarks),\r\n      faceSymmetry: calculateFaceSymmetry(landmarks),\r\n      skinTexture: analyzeSkinTexture(landmarks)\r\n    };\r\n  };\r\n\r\n  const validateFrameCollection = (frames, blinkDetected, headMovementDetected) => {\r\n    // Minimum required frames (reduced for better user experience)\r\n    if (frames.length < 8) {\r\n      throw new Error('Not enough valid frames captured. Please try again.');\r\n    }\r\n\r\n    // Check blink detection with more detailed feedback\r\n    if (!blinkDetected) {\r\n      throw new Error('No blink detected. Please blink naturally during the capture.');\r\n    }\r\n\r\n    // Check head movement with more detailed feedback\r\n    if (!headMovementDetected) {\r\n      throw new Error('No head movement detected. Please turn your head slightly left and right.');\r\n    }\r\n\r\n    // Validate frame consistency with more lenient thresholds\r\n    const descriptorConsistency = calculateDescriptorConsistency(frames);\r\n    const movementNaturalness = analyzeMovementNaturalness(frames);\r\n    \r\n    if (descriptorConsistency < 0.7) {\r\n      throw new Error('Face consistency check failed. Please keep your face steady.');\r\n    }\r\n\r\n    if (movementNaturalness < 0.6) {\r\n      throw new Error('Movement appears unnatural. Please move more smoothly.');\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const selectBestFrame = (frames) => {\r\n    // Select the best frame based on quality metrics\r\n    return frames.reduce((best, current) => {\r\n      const currentQuality = calculateFrameQuality(current);\r\n      const bestQuality = calculateFrameQuality(best);\r\n      return currentQuality > bestQuality ? current : best;\r\n    });\r\n  };\r\n\r\n  const calculateFrameQuality = (frame) => {\r\n    if (!frame || !frame.metrics) return 0;\r\n\r\n    // Weight different quality factors\r\n    const weights = {\r\n      eyeAspectRatio: 0.2,    // Eye openness\r\n      faceSymmetry: 0.3,      // Face alignment\r\n      headPose: 0.3,          // Head position\r\n      skinTexture: 0.2        // Image clarity\r\n    };\r\n\r\n    // Calculate weighted quality score\r\n    let qualityScore = 0;\r\n    \r\n    // Check eye aspect ratio (eyes should be open)\r\n    const idealEyeAspectRatio = 0.3;\r\n    const eyeScore = 1 - Math.abs(frame.metrics.eyeAspectRatio - idealEyeAspectRatio);\r\n    qualityScore += eyeScore * weights.eyeAspectRatio;\r\n\r\n    // Check face symmetry\r\n    qualityScore += frame.metrics.faceSymmetry * weights.faceSymmetry;\r\n\r\n    // Check head pose (should be relatively frontal)\r\n    const headPoseScore = 1 - (\r\n      Math.abs(frame.metrics.headPose.yaw) / 45 +   // Normalize yaw to [0,1]\r\n      Math.abs(frame.metrics.headPose.pitch) / 30 + // Normalize pitch to [0,1]\r\n      Math.abs(frame.metrics.headPose.roll) / 30    // Normalize roll to [0,1]\r\n    ) / 3;\r\n    qualityScore += headPoseScore * weights.headPose;\r\n\r\n    // Check skin texture (clarity)\r\n    qualityScore += frame.metrics.skinTexture * weights.skinTexture;\r\n\r\n    return qualityScore;\r\n  };\r\n\r\n  const processFaceData = async (frames) => {\r\n    const bestFrame = selectBestFrame(frames);\r\n    return {\r\n      faceDescriptor: Array.from(bestFrame.descriptor),\r\n      livenessScore: calculateLivenessScore(frames),\r\n      depthMap: generateDepthMap(bestFrame.landmarks),\r\n      qualityScore: calculateQualityScore(frames),\r\n      securityMetrics: {\r\n        spoofingScore: calculateSpoofingScore(frames),\r\n        movementNaturalness: analyzeMovementNaturalness(frames),\r\n        textureConsistency: calculateTextureConsistency(frames)\r\n      }\r\n    };\r\n  };\r\n\r\n  const calculateLivenessScore = (frames) => {\r\n    if (frames.length < 2) return 0;\r\n\r\n    const scores = {\r\n      blinkNaturalness: calculateBlinkNaturalness(frames),\r\n      movementSmoothing: calculateMovementSmoothing(frames[0].landmarks, frames[1].landmarks, frames[2].landmarks),\r\n      descriptorConsistency: calculateDescriptorConsistency(frames)\r\n    };\r\n\r\n    return (scores.blinkNaturalness + scores.movementSmoothing + scores.descriptorConsistency) / 3;\r\n  };\r\n\r\n  const calculateBlinkNaturalness = (frames) => {\r\n    let blinkScore = 0;\r\n    let blinkCount = 0;\r\n    let lastEAR = frames[0].metrics.eyeAspectRatio;\r\n\r\n    for (let i = 1; i < frames.length; i++) {\r\n      const currentEAR = frames[i].metrics.eyeAspectRatio;\r\n      \r\n      // Detect blink\r\n      if (lastEAR > 0.25 && currentEAR < 0.25) {\r\n        blinkCount++;\r\n        \r\n        // Check blink speed and smoothness\r\n        const blinkTransition = Math.abs(currentEAR - lastEAR);\r\n        blinkScore += (blinkTransition < 0.15) ? 1 : 0.5;\r\n      }\r\n      \r\n      lastEAR = currentEAR;\r\n    }\r\n\r\n    return blinkCount > 0 ? blinkScore / blinkCount : 0;\r\n  };\r\n\r\n  const generateDepthMap = (landmarks) => {\r\n    const depthPoints = [];\r\n    const points = landmarks.positions;\r\n\r\n    // Generate relative depth values for key facial points\r\n    for (let i = 0; i < points.length; i++) {\r\n      const point = points[i];\r\n      const depth = calculateDepth(point, landmarks);\r\n      depthPoints.push({\r\n        x: point.x,\r\n        y: point.y,\r\n        z: depth\r\n      });\r\n    }\r\n\r\n    return depthPoints;\r\n  };\r\n\r\n  const saveFaceData = async (processedData, userId) => {\r\n    return axios.post(`${import.meta.env.VITE_API}/user/save-face`, {\r\n      userId,\r\n      ...processedData\r\n    });\r\n  };\r\n\r\n  // Helper functions for liveness detection\r\n  const getEyeAspectRatio = (eye) => {\r\n    // Get vertical eye landmarks\r\n    const p1 = eye[1], p2 = eye[5];\r\n    const p3 = eye[2], p4 = eye[4];\r\n    \r\n    // Get horizontal eye landmarks\r\n    const p5 = eye[0], p6 = eye[3];\r\n\r\n    // Calculate euclidean distances\r\n    const verticalDist1 = Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\r\n    const verticalDist2 = Math.sqrt(Math.pow(p4.x - p3.x, 2) + Math.pow(p4.y - p3.y, 2));\r\n    const horizontalDist = Math.sqrt(Math.pow(p6.x - p5.x, 2) + Math.pow(p6.y - p5.y, 2));\r\n\r\n    // Calculate eye aspect ratio\r\n    return (verticalDist1 + verticalDist2) / (2.0 * horizontalDist);\r\n  };\r\n\r\n  const calculateEyeAspectRatio = (landmarks) => {\r\n    const leftEye = landmarks.getLeftEye();\r\n    const rightEye = landmarks.getRightEye();\r\n    \r\n    const leftEAR = getEyeAspectRatio(leftEye);\r\n    const rightEAR = getEyeAspectRatio(rightEye);\r\n    \r\n    return (leftEAR + rightEAR) / 2.0;\r\n  };\r\n\r\n  const calculateHeadPose = (landmarks) => {\r\n    const nose = landmarks.getNose();\r\n    const jawOutline = landmarks.getJawOutline();\r\n    \r\n    // Calculate yaw (left-right rotation)\r\n    const yaw = calculateYaw(nose, jawOutline);\r\n    \r\n    // Calculate pitch (up-down rotation)\r\n    const pitch = calculatePitch(nose, jawOutline);\r\n    \r\n    // Calculate roll (tilt)\r\n    const roll = calculateRoll(nose, jawOutline);\r\n    \r\n    return { yaw, pitch, roll };\r\n  };\r\n\r\n  const calculateYaw = (nose, jawOutline) => {\r\n    const nosePoint = nose[0];\r\n    const leftJaw = jawOutline[0];\r\n    const rightJaw = jawOutline[jawOutline.length - 1];\r\n    \r\n    const leftDist = Math.sqrt(Math.pow(nosePoint.x - leftJaw.x, 2) + Math.pow(nosePoint.y - leftJaw.y, 2));\r\n    const rightDist = Math.sqrt(Math.pow(nosePoint.x - rightJaw.x, 2) + Math.pow(nosePoint.y - rightJaw.y, 2));\r\n    \r\n    return (rightDist - leftDist) / (rightDist + leftDist) * 100;\r\n  };\r\n\r\n  const calculatePitch = (nose, jawOutline) => {\r\n    const noseTop = nose[0];\r\n    const noseTip = nose[3];\r\n    const jawCenter = jawOutline[Math.floor(jawOutline.length / 2)];\r\n    \r\n    const verticalDist = Math.abs(noseTip.y - noseTop.y);\r\n    const expectedDist = Math.abs(jawCenter.y - noseTop.y) * 0.3;\r\n    \r\n    return (verticalDist - expectedDist) / expectedDist * 100;\r\n  };\r\n\r\n  const calculateRoll = (nose, jawOutline) => {\r\n    const leftJaw = jawOutline[0];\r\n    const rightJaw = jawOutline[jawOutline.length - 1];\r\n    \r\n    return Math.atan2(rightJaw.y - leftJaw.y, rightJaw.x - leftJaw.x) * (180 / Math.PI);\r\n  };\r\n\r\n  const calculateFaceSymmetry = (landmarks) => {\r\n    const leftEye = landmarks.getLeftEye();\r\n    const rightEye = landmarks.getRightEye();\r\n    const nose = landmarks.getNose();\r\n    const jawOutline = landmarks.getJawOutline();\r\n    \r\n    // Calculate symmetry score based on landmark positions\r\n    const symmetryScore = calculateSymmetryScore(leftEye, rightEye, nose, jawOutline);\r\n    return symmetryScore;\r\n  };\r\n\r\n  const calculateSymmetryScore = (leftEye, rightEye, nose, jawOutline) => {\r\n    // Calculate center line\r\n    const centerX = nose[0].x;\r\n    \r\n    // Compare distances of corresponding points from center\r\n    let totalDiff = 0;\r\n    const pairs = [\r\n      [leftEye[0], rightEye[3]],\r\n      [leftEye[3], rightEye[0]],\r\n      [jawOutline[0], jawOutline[jawOutline.length - 1]]\r\n    ];\r\n    \r\n    pairs.forEach(([left, right]) => {\r\n      const leftDist = Math.abs(centerX - left.x);\r\n      const rightDist = Math.abs(right.x - centerX);\r\n      totalDiff += Math.abs(leftDist - rightDist);\r\n    });\r\n    \r\n    return 1 - (totalDiff / (pairs.length * centerX));\r\n  };\r\n\r\n  const analyzeSkinTexture = (landmarks) => {\r\n    // This is a simplified version. In production, you'd want more sophisticated texture analysis\r\n    return 1.0; // Return a placeholder value\r\n  };\r\n\r\n  const calculateDescriptorConsistency = (frames) => {\r\n    if (frames.length < 2) return 0;\r\n    \r\n    let totalSimilarity = 0;\r\n    const comparisons = frames.length - 1;\r\n    \r\n    for (let i = 0; i < comparisons; i++) {\r\n      const similarity = calculateCosineSimilarity(\r\n        frames[i].descriptor,\r\n        frames[i + 1].descriptor\r\n      );\r\n      totalSimilarity += similarity;\r\n    }\r\n    \r\n    return totalSimilarity / comparisons;\r\n  };\r\n\r\n  const calculateCosineSimilarity = (descriptor1, descriptor2) => {\r\n    let dotProduct = 0;\r\n    let norm1 = 0;\r\n    let norm2 = 0;\r\n    \r\n    for (let i = 0; i < descriptor1.length; i++) {\r\n      dotProduct += descriptor1[i] * descriptor2[i];\r\n      norm1 += descriptor1[i] * descriptor1[i];\r\n      norm2 += descriptor2[i] * descriptor2[i];\r\n    }\r\n    \r\n    return dotProduct / (Math.sqrt(norm1) * Math.sqrt(norm2));\r\n  };\r\n\r\n  const analyzeMovementNaturalness = (frames) => {\r\n    if (frames.length < 3) return 0;\r\n    \r\n    let naturalMovement = 0;\r\n    const comparisons = frames.length - 2;\r\n    \r\n    for (let i = 0; i < comparisons; i++) {\r\n      const movement = calculateMovementSmoothing(\r\n        frames[i].landmarks,\r\n        frames[i + 1].landmarks,\r\n        frames[i + 2].landmarks\r\n      );\r\n      naturalMovement += movement;\r\n    }\r\n    \r\n    return naturalMovement / comparisons;\r\n  };\r\n\r\n  const calculateMovementSmoothing = (landmarks1, landmarks2, landmarks3) => {\r\n    // Calculate movement smoothness using three consecutive frames\r\n    // This is a simplified version. In production, you'd want more sophisticated movement analysis\r\n    return 0.9; // Return a placeholder value\r\n  };\r\n\r\n  const calculateQualityScore = (frames) => {\r\n    return frames.reduce((total, frame) => {\r\n      const clarity = 1.0; // Placeholder for image clarity calculation\r\n      const lighting = 1.0; // Placeholder for lighting quality calculation\r\n      const pose = 1.0; // Placeholder for pose quality calculation\r\n      \r\n      return total + (clarity + lighting + pose) / 3;\r\n    }, 0) / frames.length;\r\n  };\r\n\r\n  const calculateSpoofingScore = (frames) => {\r\n    // Implement sophisticated anti-spoofing detection here\r\n    return 0.95; // Return a placeholder value\r\n  };\r\n\r\n  const calculateTextureConsistency = (frames) => {\r\n    // Implement texture consistency analysis here\r\n    return 0.9; // Return a placeholder value\r\n  };\r\n\r\n  const calculateDepth = (point, landmarks) => {\r\n    // Implement depth estimation here\r\n    return 0.5; // Return a placeholder value\r\n  };\r\n\r\n  const handleDisableFaceLogin = async () => {\r\n    try {\r\n      await axios.delete(`${import.meta.env.VITE_API}/user/disable-face/${userData._id}`);\r\n      setHasFaceEnabled(false);\r\n      Swal.fire('Success', 'Face login disabled successfully', 'success');\r\n    } catch (error) {\r\n      console.error('Error disabling face login:', error);\r\n      Swal.fire('Error', 'Failed to disable face login', 'error');\r\n    }\r\n  };\r\n\r\n  // Add this useEffect to ensure webcam is properly initialized\r\n  useEffect(() => {\r\n    if (isCameraOpen) {\r\n      const initializeWebcam = async () => {\r\n        try {\r\n          const stream = await navigator.mediaDevices.getUserMedia({ \r\n            video: {\r\n              width: 640,\r\n              height: 480,\r\n              facingMode: \"user\"\r\n            }\r\n          });\r\n          \r\n          if (webcamRef.current) {\r\n            webcamRef.current.video.srcObject = stream;\r\n          }\r\n        } catch (error) {\r\n          console.error('Webcam initialization error:', error);\r\n          Swal.fire({\r\n            title: 'Camera Error',\r\n            text: 'Failed to initialize camera. Please check permissions and try again.',\r\n            icon: 'error'\r\n          });\r\n        }\r\n      };\r\n\r\n      initializeWebcam();\r\n\r\n      // Cleanup function\r\n      return () => {\r\n        if (webcamRef.current?.video?.srcObject) {\r\n          const tracks = webcamRef.current.video.srcObject.getTracks();\r\n          tracks.forEach(track => track.stop());\r\n        }\r\n      };\r\n    }\r\n  }, [isCameraOpen]);\r\n\r\n  return (\r\n    <>\r\n      <div className='myprofile_nav'> <Header /> </div>\r\n      <Paper\r\n        elevation={3}\r\n        sx={{\r\n          padding: 3,\r\n          margin: \"auto\",\r\n          maxWidth: 600,\r\n          mt: 5,\r\n          borderRadius: 2,\r\n          backgroundColor: theme.palette.mode === 'dark' ? \"#333\" : \"#f9f9f9\",\r\n          color: theme.palette.mode === 'dark' ? \"#fff\" : \"#000\",\r\n        }}\r\n      >\r\n        <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" mb={4} position=\"relative\">\r\n          <Avatar\r\n            alt={profileData.displayName || \"User\"}\r\n            src={profileData.image ? profileData.image : \"/placeholder-avatar.png\"}\r\n            sx={{\r\n              width: 150,\r\n              height: 150,\r\n              mb: 1,\r\n              border: `4px solid ${theme.palette.primary.main}`,\r\n            }}\r\n          />\r\n          <IconButton\r\n            component=\"label\"\r\n            sx={{\r\n              position: \"absolute\",\r\n              bottom: 28,\r\n              right: \"37%\",\r\n              backgroundColor: theme.palette.primary.main,\r\n              color: \"#fff\",\r\n              '&:hover': { backgroundColor: theme.palette.primary.dark },\r\n            }}\r\n          >\r\n            <input hidden accept=\".jpg,.jpeg,.png\" type=\"file\" onChange={handleImageUpload} />\r\n            <AddAPhotoIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h5\" fontWeight=\"bold\" mt={2}>\r\n            {profileData.displayName}\r\n          </Typography>\r\n        </Box>\r\n\r\n        <Grid container spacing={2}>\r\n          {/* Name Field */}\r\n          <Grid item xs={12}>\r\n            <Typography variant=\"body1\" color=\"textSecondary\">\r\n              Name:\r\n            </Typography>\r\n            {editMode ? (\r\n              <>\r\n                <TextField\r\n                  fullWidth\r\n                  name=\"displayName\"\r\n                  value={profileData.displayName || \"\"}\r\n                  onChange={handleInputChange}\r\n                  error={!!errors.displayName}\r\n                  sx={{ color: theme.palette.text.primary }}\r\n                />\r\n                {errors.displayName && <FormHelperText error>{errors.displayName}</FormHelperText>}\r\n              </>\r\n            ) : (\r\n              <Typography variant=\"h6\">{profileData.displayName}</Typography>\r\n            )}\r\n          </Grid>\r\n\r\n          {/* Email Field */}\r\n          <Grid item xs={12}>\r\n            <Typography variant=\"body1\" color=\"textSecondary\">\r\n              Email:\r\n            </Typography>\r\n           {editMode ? <TextField\r\n              fullWidth\r\n              name=\"email\"\r\n              value={profileData.email || \"\"}\r\n              onChange={handleInputChange}\r\n              InputProps={{ readOnly: true }}\r\n              sx={{ color: theme.palette.text.primary }}\r\n            /> : <Typography variant=\"h6\">{profileData.email}</Typography>}\r\n          </Grid>\r\n\r\n          {/* Phone Number */}\r\n          <Grid item xs={12}>\r\n            <Typography variant=\"body1\" color=\"textSecondary\">\r\n              Phone Number:\r\n            </Typography>\r\n            {editMode ? (\r\n              <>\r\n                <TextField\r\n                  fullWidth\r\n                  name=\"phone_no\"\r\n                  value={profileData.phone_no || \"\"}\r\n                  onChange={handleInputChange}\r\n                  error={!!errors.phone_no}\r\n                  sx={{ color: theme.palette.text.primary }}\r\n                />\r\n                {errors.phone_no && <FormHelperText error>{errors.phone_no}</FormHelperText>}\r\n              </>\r\n            ) : (\r\n              <Typography variant=\"h6\">{profileData.phone_no}</Typography>\r\n            )}\r\n          </Grid>\r\n\r\n          {/* Date of Birth */}\r\n          <Grid item xs={12}>\r\n            <Typography variant=\"body1\" color=\"textSecondary\">\r\n              Date of Birth:\r\n            </Typography>\r\n            {editMode ? (\r\n              <>\r\n                <TextField\r\n                  fullWidth\r\n                  name=\"dob\"\r\n                  type=\"date\"\r\n                  value={profileData.dob || \"\"}\r\n                  onChange={handleInputChange}\r\n                  error={!!errors.dob}\r\n                  sx={{ color: theme.palette.text.primary }}\r\n                  InputLabelProps={{ shrink: true }}\r\n                  inputProps={{\r\n                    max: new Date(new Date().setFullYear(new Date().getFullYear() - 18)).toISOString().split('T')[0]\r\n                  }}\r\n                />\r\n                {errors.dob && <FormHelperText error>{errors.dob}</FormHelperText>}\r\n              </>\r\n            ) : (\r\n              <Typography variant=\"h6\">{profileData.dob}</Typography>\r\n            )}\r\n          </Grid>\r\n\r\n          {/* Address */}\r\n          <Grid item xs={12}>\r\n            <Typography variant=\"body1\" color=\"textSecondary\">\r\n              Address:\r\n            </Typography>\r\n            {editMode ? (\r\n              <TextField\r\n                fullWidth\r\n                name=\"address\"\r\n                value={profileData.address || \"\"}\r\n                onChange={handleInputChange}\r\n                sx={{ color: theme.palette.text.primary }}\r\n              />\r\n            ) : (\r\n              <Typography variant=\"h6\">{profileData.address}</Typography>\r\n            )}\r\n          </Grid>\r\n\r\n          {/* Face Recognition Login */}\r\n          <Grid item xs={12}>\r\n            <Typography variant=\"body1\" color=\"textSecondary\">\r\n              Face Recognition Login:\r\n            </Typography>\r\n            {hasFaceEnabled ? (\r\n              <Button\r\n                variant=\"outlined\"\r\n                color=\"secondary\"\r\n                onClick={handleDisableFaceLogin}\r\n                startIcon={<CameraAltIcon />}\r\n                sx={{ mt: 1 }}\r\n              >\r\n                Disable Face Login\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => setIsCameraOpen(true)}\r\n                startIcon={<CameraAltIcon />}\r\n                sx={{ mt: 1 }}\r\n                disabled={isFaceModelLoading}\r\n              >\r\n                {isFaceModelLoading ? 'Loading Face Detection...' : 'Enable Face Login'}\r\n              </Button>\r\n            )}\r\n          </Grid>\r\n\r\n          {/* Buttons */}\r\n          <Grid item xs={12} textAlign=\"center\">\r\n            {editMode ? (\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleSave}\r\n                sx={{ mt: 2, mr: 2 }}\r\n                disabled={Object.keys(errors).some(key => errors[key])}\r\n              >\r\n                Save\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleUpdateClick}\r\n                sx={{ mt: 2, mr: 2 }}\r\n              >\r\n                Edit Profile\r\n              </Button>\r\n            )}\r\n\r\n            {/* Change Password - Only show for non-Google users */}\r\n            {!isGoogleUser && (\r\n              !changePasswordMode ? (\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  color=\"secondary\"\r\n                  onClick={handlePasswordChange}\r\n                  sx={{ mt: 2 }}\r\n                >\r\n                  Change Password\r\n                </Button>\r\n              ) : (\r\n                <Box>\r\n                  <Typography variant=\"body1\" color=\"textSecondary\" mt={2}>\r\n                    Current Password:\r\n                  </Typography>\r\n                  <TextField\r\n                    fullWidth\r\n                    type=\"password\"\r\n                    name=\"currentPassword\"\r\n                    value={passwordData.currentPassword}\r\n                    onChange={handlePasswordInputChange}\r\n                    sx={{ color: theme.palette.text.primary }}\r\n                  />\r\n                  <Typography variant=\"body1\" color=\"textSecondary\" mt={2}>\r\n                    New Password:\r\n                  </Typography>\r\n                  <TextField\r\n                    fullWidth\r\n                    type=\"password\"\r\n                    name=\"newPassword\"\r\n                    value={passwordData.newPassword}\r\n                    onChange={handlePasswordInputChange}\r\n                    error={!!passwordErrors.newPassword}\r\n                    helperText={passwordErrors.newPassword}\r\n                    sx={{ color: theme.palette.text.primary }}\r\n                  />\r\n                  <Typography variant=\"body1\" color=\"textSecondary\" mt={2}>\r\n                    Confirm New Password:\r\n                  </Typography>\r\n                  <TextField\r\n                    fullWidth\r\n                    type=\"password\"\r\n                    name=\"confirmPassword\"\r\n                    value={passwordData.confirmPassword}\r\n                    onChange={handlePasswordInputChange}\r\n                    error={!!passwordErrors.confirmPassword}\r\n                    helperText={passwordErrors.confirmPassword}\r\n                    sx={{ color: theme.palette.text.primary }}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={handlePasswordSave}\r\n                    sx={{ mt: 2 }}\r\n                    disabled={!!passwordErrors.newPassword || !!passwordErrors.confirmPassword}\r\n                  >\r\n                    Save Password\r\n                  </Button>\r\n                </Box>\r\n              )\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n\r\n      {/* Camera Dialog */}\r\n      <Dialog \r\n        open={isCameraOpen} \r\n        onClose={() => setIsCameraOpen(false)}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        sx={{\r\n          '& .MuiDialog-paper': {\r\n            position: 'relative',\r\n            zIndex: 1000\r\n          }\r\n        }}\r\n      >\r\n        <DialogTitle>Face ID Setup</DialogTitle>\r\n        <DialogContent>\r\n          <Box sx={{ position: 'relative', width: '100%', height: 400 }}>\r\n            <Webcam\r\n              ref={webcamRef}\r\n              screenshotFormat=\"image/jpeg\"\r\n              width=\"100%\"\r\n              height=\"100%\"\r\n              videoConstraints={{\r\n                width: 1280,\r\n                height: 720,\r\n                facingMode: \"user\",\r\n                aspectRatio: 1.333333\r\n              }}\r\n              mirrored={true}\r\n              screenshotQuality={1}\r\n              forceScreenshotSourceSize={true}\r\n            />\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setIsCameraOpen(false)}>Cancel</Button>\r\n          <Button \r\n            onClick={handleFaceCapture}\r\n            variant=\"contained\" \r\n            color=\"primary\"\r\n            disabled={isProcessing}\r\n          >\r\n            {isProcessing ? 'Processing...' : 'Capture'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Add a custom styled dialog for Swal popups */}\r\n      <div className=\"swal-dialog-container\">\r\n        {/* Swal will be rendered here */}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MyProfile;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { QRCodeSVG } from 'qrcode.react';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  Container,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Typography,\r\n  CircularProgress,\r\n  Alert,\r\n} from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport { motion } from 'framer-motion';\r\nimport axios from 'axios';\r\n\r\nconst StyledCard = styled(Card)(({ theme }) => ({\r\n  padding: theme.spacing(3),\r\n  marginBottom: theme.spacing(3),\r\n  background: 'linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)',\r\n  borderRadius: theme.spacing(2),\r\n  boxShadow: '0 8px 32px rgba(0,0,0,0.1)',\r\n  transition: 'transform 0.3s ease-in-out',\r\n  '&:hover': {\r\n    transform: 'translateY(-5px)',\r\n  },\r\n}));\r\n\r\nconst QRGenerator = ({ reservationId }) => {\r\n  const [qrData, setQrData] = useState('');\r\n  const [showQR, setShowQR] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [reservationData, setReservationData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchReservationDetails();\r\n  }, [reservationId]);\r\n\r\n  const fetchReservationDetails = async () => {\r\n    try {\r\n      const user_id = localStorage.getItem('userId');\r\n      console.log(\"user_id\", user_id);\r\n      \r\n      const config = {\r\n        headers: {\r\n          'user_id': user_id\r\n        }\r\n      };\r\n\r\n      const response = await axios.get(\r\n        `${import.meta.env.VITE_API}/user/reservations/${reservationId}`,\r\n        config\r\n      );\r\n\r\n      console.log(\"Reservation response:\", response.data);\r\n      if (response.data.success) {\r\n        setReservationData(response.data.data);\r\n      } else {\r\n        setError('Failed to fetch reservation details');\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching reservation:\", error);\r\n      setError('Failed to fetch reservation details');\r\n    }\r\n  };\r\n\r\n  const generateQRCode = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await axios.post(`${import.meta.env.VITE_API}/user/qr/generate`, {\r\n        reservationId,\r\n        timestamp: new Date().toISOString()\r\n      });\r\n      setQrData(response.data.qrCode);\r\n      setShowQR(true);\r\n    } catch (error) {\r\n      setError('Failed to generate QR code');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const downloadQRCode = () => {\r\n    const svg = document.getElementById('qr-code');\r\n    const svgData = new XMLSerializer().serializeToString(svg);\r\n    const canvas = document.createElement('canvas');\r\n    const ctx = canvas.getContext('2d');\r\n    const img = new Image();\r\n    img.onload = () => {\r\n      canvas.width = img.width;\r\n      canvas.height = img.height;\r\n      ctx.drawImage(img, 0, 0);\r\n      const pngFile = canvas.toDataURL('image/png');\r\n      const downloadLink = document.createElement('a');\r\n      downloadLink.download = `qr-code-${reservationId}.png`;\r\n      downloadLink.href = pngFile;\r\n      downloadLink.click();\r\n    };\r\n    img.src = 'data:image/svg+xml;base64,' + btoa(svgData);\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.5 }}\r\n      >\r\n        <StyledCard>\r\n          <Typography variant=\"h5\" gutterBottom>\r\n            Self Check-{reservationData?.status === 'checked_in' ? 'Out' : 'In'}\r\n          </Typography>\r\n\r\n          {error && (\r\n            <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n              {error}\r\n            </Alert>\r\n          )}\r\n\r\n          {reservationData && (\r\n            <Box sx={{ mb: 2 }}>\r\n              <Typography variant=\"body1\">\r\n                Room: {reservationData.roomDetails?.roomNumber || 'N/A'}\r\n              </Typography>\r\n              <Typography variant=\"body1\">\r\n                Check-in: {reservationData.dates?.checkIn ? new Date(reservationData.dates.checkIn).toLocaleDateString() : 'N/A'}\r\n              </Typography>\r\n              <Typography variant=\"body1\">\r\n                Check-out: {reservationData.dates?.checkOut ? new Date(reservationData.dates.checkOut).toLocaleDateString() : 'N/A'}\r\n              </Typography>\r\n            </Box>\r\n          )}\r\n\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={generateQRCode}\r\n            disabled={loading || !reservationData}\r\n            fullWidth\r\n          >\r\n            {loading ? (\r\n              <CircularProgress size={24} color=\"inherit\" />\r\n            ) : (\r\n              `Generate QR Code for Check-${reservationData?.status === 'checked_in' ? 'Out' : 'In'}`\r\n            )}\r\n          </Button>\r\n\r\n          <Dialog open={showQR} onClose={() => setShowQR(false)}>\r\n            <DialogTitle>\r\n              Scan this QR Code at the Self-Service Kiosk\r\n            </DialogTitle>\r\n            <DialogContent>\r\n              <Box\r\n                sx={{\r\n                  display: 'flex',\r\n                  justifyContent: 'center',\r\n                  p: 3,\r\n                  background: '#f5f5f5',\r\n                  borderRadius: 1,\r\n                }}\r\n              >\r\n                <QRCodeSVG\r\n                  id=\"qr-code\"\r\n                  value={qrData}\r\n                  size={256}\r\n                  level=\"H\"\r\n                  includeMargin={true}\r\n                />\r\n              </Box>\r\n              <Typography variant=\"body2\" sx={{ mt: 2, textAlign: 'center' }}>\r\n                Please scan this QR code at our self-service kiosk to complete your check-{reservationData?.status === 'checked_in' ? 'out' : 'in'}.\r\n              </Typography>\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button onClick={downloadQRCode}>\r\n                Download QR Code\r\n              </Button>\r\n              <Button onClick={() => setShowQR(false)}>\r\n                Close\r\n              </Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        </StyledCard>\r\n      </motion.div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default QRGenerator; ","import React, { useEffect, useState } from \"react\";\r\nimport { Box, Typography, Grid, Paper, Button, Avatar, Modal, IconButton } from \"@mui/material\";\r\nimport axios from \"axios\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport useAuth from '../../src/useAuth';\r\nimport Header from '../Header';\r\nimport './BookingDetails.css';\r\nimport { useParams } from 'react-router-dom';\r\nimport ZoomInIcon from '@mui/icons-material/ZoomIn';\r\nimport ZoomOutIcon from '@mui/icons-material/ZoomOut';\r\nimport Swal from \"sweetalert2\";\r\nimport CancelIcon from '@mui/icons-material/Cancel'; // Import Cancel icon\r\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\r\nimport PendingIcon from '@mui/icons-material/Pending'; // Import Pending icon\r\nimport Rating from '@mui/material/Rating';\r\nimport StarIcon from '@mui/icons-material/Star';\r\nimport { TextField } from '@mui/material';\r\nimport QRGenerator from '../../src/components/QRSystem/QRGenerator';\r\nimport { Alert } from '@mui/material';\r\n\r\n\r\nconst BookingDetails = () => {\r\n  useAuth();\r\n  const { bookingId } = useParams();\r\n  const [bookingDetails, setBookingDetails] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [open, setOpen] = useState(false);\r\n  const [currentDocument, setCurrentDocument] = useState(null);\r\n  const [modalType, setModalType] = useState(\"\");\r\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\r\n  const [zoomLevel, setZoomLevel] = useState(1); // State for zoom level\r\n  const [refresh, setRefresh] = useState(false);\r\n  const [hotelRating, setHotelRating] = useState(0);\r\n  const [roomRating, setRoomRating] = useState(0);\r\n  const [feedback, setFeedback] = useState('');\r\n  const [feedbackSubmitted, setFeedbackSubmitted] = useState(false);\r\n  \r\n  // Added for counting adults and children\r\n  let adultCount = 0;\r\n  let childCount = 0;\r\n\r\n  useEffect(() => {\r\n    const fetchBookingDetails = async () => {\r\n      setLoading(true);\r\n      setError(null); // Reset any previous error state\r\n\r\n      try {\r\n        const response = await axios.get(`${import.meta.env.VITE_API}/user/user-booking/${bookingId}`);\r\n\r\n        if (response.status === 200) {\r\n          setBookingDetails(response.data); // response.data contains reservation, room, and guests\r\n        } else {\r\n          setError(\"Failed to fetch booking details.\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching booking details:\", error);\r\n        setError(\"An error occurred while fetching booking details.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchBookingDetails();\r\n  }, [bookingId,refresh]);\r\n\r\n  const modalAnimation = useSpring({\r\n    opacity: open ? 1 : 0,\r\n    transform: open ? \"scale(1)\" : \"scale(0.8)\",\r\n    config: { tension: 300, friction: 25 },\r\n  });\r\n\r\n  const handleOpenModal = (content, type) => {\r\n    setCurrentDocument(content);\r\n    setModalType(type);\r\n    setOpen(true);\r\n    setZoomLevel(1); // Reset zoom level when modal opens\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleNextImage = () => {\r\n    if (bookingDetails && bookingDetails.room.images) {\r\n      setCurrentImageIndex((prevIndex) => (prevIndex + 1) % bookingDetails.room.images.length);\r\n    }\r\n  };\r\n\r\n  const handlePrevImage = () => {\r\n    if (bookingDetails && bookingDetails.room.images) {\r\n      setCurrentImageIndex((prevIndex) => (prevIndex - 1 + bookingDetails.room.images.length) % bookingDetails.room.images.length);\r\n    }\r\n  };\r\n\r\n  // Zoom in and zoom out handlers\r\n  const handleZoomIn = () => {\r\n    setZoomLevel((prev) => Math.min(prev + 0.1, 3)); // Maximum zoom level of 3\r\n  };\r\n\r\n  const handleZoomOut = () => {\r\n    setZoomLevel((prev) => Math.max(prev - 0.1, 1)); // Minimum zoom level of 1\r\n  };\r\n\r\n  if (loading) {\r\n    return <Typography>Loading...</Typography>;\r\n  }\r\n\r\n  if (error) {\r\n    return <Typography>{error}</Typography>;\r\n  }\r\n\r\n  if (!bookingDetails) {\r\n    return <Typography>No booking details available.</Typography>;\r\n  }\r\n\r\n  const { reservation, room, guests ,bill} = bookingDetails;\r\n  const checkInDate = new Date(reservation.check_in);\r\n  const currentDate = new Date();\r\n  const isCancellationAllowed = checkInDate >= currentDate;// More than 2 days\r\n  const handleCancelBooking = () => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: \"Do you really want to cancel the booking? This action cannot be undone.\",\r\n      icon: 'warning',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#d33',\r\n      cancelButtonColor: '#3085d6',\r\n      confirmButtonText: 'Yes, cancel it!',\r\n      cancelButtonText: 'No, keep it'\r\n    }).then(async (result) => {\r\n      if (result.isConfirmed) {\r\n        try {\r\n           \r\n          const response = await axios.post(`${import.meta.env.VITE_API}/user/user-bookings/cancel/${reservation._id}`);\r\n          Swal.fire('Cancelled!', response.data.message, 'success');\r\n          setRefresh(prev => !prev);\r\n        } catch (error) {\r\n          Swal.fire('Error!', error.response.data.message || 'An error occurred while cancelling the booking.', 'error');\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleUpdateDocument = (guestId) => {\r\n    const fileInput = document.createElement('input');\r\n    fileInput.type = 'file';\r\n    fileInput.accept = '.pdf, image/jpeg, image/jpg, image/png'; // Accept specific formats\r\n    \r\n    fileInput.onchange = async (event) => {\r\n      const file = event.target.files[0];\r\n  \r\n      // Check file size (maximum 2MB)\r\n      const maxFileSizeMB = 2; // 2MB\r\n      const allowedFileTypes = ['application/pdf', 'image/jpeg', 'image/jpg', 'image/png']; // Allowed formats\r\n  \r\n      if (file) {\r\n        if (!allowedFileTypes.includes(file.type)) {\r\n          // File type validation\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Invalid file type',\r\n            text: 'Please upload a PDF, JPEG, JPG, or PNG file only.',\r\n          });\r\n          return;\r\n        }\r\n  \r\n        if (file.size > maxFileSizeMB * 1024 * 1024) {\r\n          // File size validation\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'File size exceeds limit',\r\n            text: `Please upload a file smaller than ${maxFileSizeMB}MB.`,\r\n          });\r\n          return;\r\n        }\r\n  \r\n        const formData = new FormData();\r\n        formData.append('proofDocument', file);\r\n  \r\n        try {\r\n          const response = await axios.post(`${import.meta.env.VITE_API}/user/guests-proofupdatess/${guestId}`, formData, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data',\r\n            },\r\n          });\r\n  \r\n          if (response.data.success) {\r\n            Swal.fire({\r\n              icon: 'success',\r\n              title: 'Document updated successfully!',\r\n            });\r\n            setRefresh(prev => !prev);\r\n            // Reload or refresh the document list as needed\r\n          } else {\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Failed to update document',\r\n              text: response.data.message || 'An unknown error occurred.',\r\n            });\r\n          }\r\n        } catch (error) {\r\n          console.error('Error updating document:', error);\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Error',\r\n            text: 'An error occurred while updating the document. Please try again later.',\r\n          });\r\n        }\r\n      }\r\n    };\r\n  \r\n    fileInput.click();  // Trigger the file selection dialog\r\n  };\r\n  \r\n\r\n  const handleFeedbackSubmit = async () => {\r\n    try {\r\n      const response = await axios.post(`${import.meta.env.VITE_API}/user/feedback`, {\r\n        reservationId: reservation._id,\r\n        hotelRating,\r\n        roomRating,\r\n        feedback,\r\n        userId: localStorage.getItem('userId')\r\n      });\r\n\r\n      if (response.status === 201) {\r\n        setFeedbackSubmitted(true);\r\n        Swal.fire('Success', 'Thank you for your feedback!', 'success');\r\n      }\r\n    } catch (error) {\r\n      Swal.fire('Error', 'Failed to submit feedback. Please try again.', 'error');\r\n    }\r\n  };\r\n\r\n  const checkIn = new Date(reservation.check_in);\r\n  const cancellationDate = reservation.cancel_date ? new Date(reservation.cancel_date) : null;\r\n\r\n  // Calculate the difference in days\r\n  const daysUntilCheckIn = Math.ceil((checkIn - new Date()) / (1000 * 60 * 60 * 24)); // Difference in days\r\n\r\n  // Determine payment status\r\n  let paymentStatus = bill.status;\r\n\r\n  // Check if cancellation is done 2 days before check-in\r\n  if (cancellationDate && daysUntilCheckIn >= 2) {\r\n      paymentStatus = 'Refunded';\r\n  }\r\n\r\n  return (\r\n    <div id=\"booking-info\">\r\n      <div className='MyBookingsnav'>\r\n        <Header />\r\n      </div>\r\n      <Box p={4}>\r\n        <Typography variant=\"h5\" gutterBottom style={{ fontWeight: \"bold\", textAlign: \"center\", position: \"relative\" }}>\r\n          Booking Details\r\n          <Box\r\n    component=\"span\"\r\n    sx={{\r\n      position: 'absolute',\r\n      bottom: 0,\r\n      left: '50%',\r\n      transform: 'translateX(-50%)',\r\n      width: '10%', // Adjust the width of the underline\r\n      height: '3px', // Adjust the height of the underline\r\n      backgroundColor: 'skyblue', // Set the color to skyblue\r\n    }}\r\n  />\r\n        </Typography>\r\n        <Grid container spacing={3}>\r\n\r\n\r\n            \r\n          {/* Reservation Information */}\r\n          <Grid item xs={12}>\r\n  <Paper elevation={3} style={{ padding: \"20px\", backgroundColor: \"#93C572\", color: \"#111\" }}>\r\n    <Typography variant=\"h5\" style={{ fontWeight: \"bold\", textAlign: \"center\", paddingBottom: \"5px\" }}>\r\n      Reservation Details\r\n    </Typography>\r\n    \r\n    <Typography variant=\"body1\"><strong>Reservation id:</strong> {reservation._id}</Typography>\r\n    <Typography variant=\"body1\"><strong>Booking Date:</strong> {new Date(reservation.booking_date).toLocaleDateString(\"en-GB\")}</Typography>\r\n    <Typography variant=\"body1\"><strong>Check_In Date:</strong> {new Date(reservation.check_in).toLocaleDateString(\"en-GB\")}</Typography>\r\n    <Typography variant=\"body1\"><strong>Check_Out Date:</strong> {new Date(reservation.check_out).toLocaleDateString(\"en-GB\")}</Typography>\r\n    <Typography variant=\"body1\"><strong>Check_In Time:</strong> 02:00 PM</Typography>\r\n    <Typography variant=\"body1\"><strong>Check_Out Time:</strong> 11:00 AM</Typography>\r\n    <Typography variant=\"body1\"><strong>Total nights:</strong> {reservation.totaldays}</Typography>\r\n    <Typography variant=\"body1\"><strong>Total Amount:</strong> {reservation.total_amount}</Typography>\r\n    <Typography variant=\"body1\"><strong>No of Guests:</strong> {reservation.guestids.length}</Typography>\r\n\r\n    {/* Conditionally show Check_In Time if it's not null */}\r\n    {reservation.check_in_time && (\r\n      <Typography variant=\"body1\">\r\n        <strong>Check_In Time by user:</strong> {new Date(reservation.check_in_time).toLocaleTimeString(\"en-GB\")}\r\n      </Typography>\r\n    )}\r\n\r\n    {/* Conditionally show Check_Out Time if it's not null */}\r\n    {reservation.check_out_time && (\r\n      <Typography variant=\"body1\">\r\n        <strong>Check_Out Time by user:</strong> {new Date(reservation.check_out_time).toLocaleTimeString(\"en-GB\")}\r\n      </Typography>\r\n    )}\r\n\r\n<Typography variant=\"body1\" style={{ display: 'flex', alignItems: 'center' }}> {/* Align items center */}\r\n        <strong>Status:</strong> \r\n        <span style={{ color: reservation.status === 'Cancelled' ? 'red' : 'green', marginLeft: '4px' }}>\r\n          {reservation.status}\r\n        </span>\r\n        \r\n        {reservation.status === 'Cancelled' ? (\r\n          <>\r\n            <CancelIcon style={{ color: 'red', marginLeft: '8px', padding: \"4px\" }} />\r\n            <Typography variant=\"body2\" style={{ marginLeft: '8px' }}>\r\n              <strong>Cancelled Date:</strong> {new Date(reservation.cancel_date).toLocaleDateString(\"en-GB\")}\r\n            </Typography>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <CheckCircleIcon style={{ color: 'green', marginLeft: '8px' }} />\r\n          </>\r\n        )}\r\n      </Typography>\r\n  </Paper>\r\n</Grid>\r\n\r\n            {/* Guest Information */}\r\n          <Grid item xs={12} >\r\n            <Paper elevation={3} style={{ padding: \"20px\", backgroundColor: \"#93C572\", color: \"#111\" }}>\r\n              <Typography variant=\"h5\" style={{ fontWeight: \"bold\", textAlign: \"center\" }}>\r\n                Guest Details\r\n              </Typography>\r\n              {guests.map((guest, index) => {\r\n                let guestRoleHeading = \"\";\r\n                if (guest.role === \"adult\") {\r\n                  adultCount += 1;\r\n                  guestRoleHeading = `Adult ${adultCount}`;\r\n                } else if (guest.role === \"child\") {\r\n                  childCount += 1;\r\n                  guestRoleHeading = `Child ${childCount}`;\r\n                }\r\n\r\n                return (\r\n                  <Box key={index} mb={2} p={2} style={{ border: \"1px solid #ccc\", borderRadius: \"8px\", backgroundColor: \"#f9f9f9\" }}>\r\n                    <Typography variant=\"h6\" gutterBottom style={{ fontWeight: \"bold\", color: \"red\" }}>\r\n                      {guestRoleHeading}\r\n                    </Typography>\r\n                    <Typography variant=\"body1\"><strong>Name:</strong> {guest.name}</Typography>\r\n                    <Typography variant=\"body1\"><strong>Email:</strong> {guest.email}</Typography>\r\n                    <Typography variant=\"body1\"><strong>Phone:</strong> {guest.phone}</Typography>\r\n                    <Typography variant=\"body1\"><strong>Address:</strong> {guest.address}</Typography>\r\n                    <Typography variant=\"body1\"><strong>Date of Birth:</strong> {new Date(guest.dob).toLocaleDateString(\"en-GB\")}</Typography>\r\n                    <Typography variant=\"body1\"><strong>Proof Type:</strong> {guest.proofType}</Typography>\r\n                    <Typography variant=\"body1\"><strong>Proof Number:</strong> {guest.proofNumber}</Typography>\r\n                  </Box>\r\n                );\r\n              })}\r\n            </Paper>\r\n          </Grid>\r\n\r\n\r\n\r\n          {/* Room Information */}\r\n          <Grid item xs={12} >\r\n            <animated.div>\r\n              <Paper elevation={3} style={{ padding: \"20px\", backgroundColor: \"#FFBF00\", color: \"#111\" }}>\r\n                <Typography variant=\"h5\" style={{ fontWeight: \"bold\", textAlign: \"center\" }}>Room Information</Typography>\r\n                {/* Room Images Section */}\r\n                {room.images && room.images.length > 0 ? (\r\n                  <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" mb={2} mt={2}>\r\n                    <Box position=\"relative\" display=\"flex\" justifyContent=\"center\">\r\n                      <Button onClick={handlePrevImage} style={{ position: \"absolute\", left: 0 }}>&lt;</Button>\r\n                      <Box\r\n                        component=\"img\"\r\n                        src={`${import.meta.env.VITE_API}/uploads/${room.images[currentImageIndex]}`}\r\n                        alt={`Room Image ${currentImageIndex + 1}`}\r\n                        style={{\r\n                          width: \"500px\", // Adjust size as needed\r\n                          height: \"300px\",\r\n                          borderRadius: \"10px\",\r\n                          cursor: \"pointer\",\r\n                          objectFit: \"cover\",\r\n                        }}\r\n                        onClick={() => handleOpenModal(room.images[currentImageIndex], \"room\")}\r\n                      />\r\n                      <Button onClick={handleNextImage} style={{ position: \"absolute\", right: 0 }}>&gt;</Button>\r\n                    </Box>\r\n                    <Box display=\"flex\" flexDirection=\"row\" flexWrap=\"wrap\" justifyContent=\"center\" mt={1}>\r\n                      {room.images.map((image, index) => (\r\n                        <Box key={index} mb={1} mr={1}>\r\n                          <Box\r\n                            component=\"img\"\r\n                            src={`${import.meta.env.VITE_API}/uploads/${image}`}\r\n                            alt={`Room Thumbnail ${index + 1}`}\r\n                            style={{\r\n                              width: \"60px\",\r\n                              height: \"60px\",\r\n                              borderRadius: \"10px\",\r\n                              cursor: \"pointer\",\r\n                              opacity: currentImageIndex === index ? 1 : 0.5, // Highlight the current image\r\n                            }}\r\n                            onClick={() => setCurrentImageIndex(index)} // Change the current image index on click\r\n                          />\r\n                        </Box>\r\n                      ))}\r\n                    </Box>\r\n                  </Box>\r\n                ) : (\r\n                  <Typography variant=\"body2\" color=\"textSecondary\">No images available for this room.</Typography>\r\n                )}\r\n                <Typography variant=\"body1\"><strong>Room Number:</strong> {room.roomno}</Typography>\r\n                <Typography variant=\"body1\"><strong>Room Type:</strong> {room.roomtype}</Typography>\r\n                <Typography variant=\"body1\"><strong>Check-In Date:</strong> {new Date(reservation.check_in).toLocaleDateString(\"en-GB\")}</Typography>\r\n                <Typography variant=\"body1\"><strong>Check-Out Date:</strong> {new Date(reservation.check_out).toLocaleDateString(\"en-GB\")}</Typography>\r\n                <Typography variant=\"body1\"><strong>Total Amount:</strong> Rs.{reservation.total_amount}</Typography>\r\n              </Paper>\r\n            </animated.div>\r\n          </Grid>\r\n\r\n          {/* Proof Documents */}\r\n          <Grid item xs={12}>\r\n  <animated.div>\r\n    <Paper elevation={3} style={{ padding: \"20px\", backgroundColor: \"#93C572\", color: \"#111\" }}>\r\n      <Typography variant=\"h5\" style={{ fontWeight: \"bold\" }}>Proof Documents</Typography>\r\n      {guests.map((guest, guestIndex) => (\r\n        <div key={guestIndex}>\r\n          <Typography variant=\"h6\" gutterBottom style={{ fontWeight: \"bold\" }}>{guest.name}'s Documents</Typography>\r\n          {guest.proofDocument && guest.proofDocument.length > 0 ? (\r\n            <Box key={guest._id} mb={2}>\r\n              <Avatar\r\n                src={guest.proofDocument}\r\n                alt={`Document ${guest._id + 1}`}\r\n                style={{ width: \"100px\", height: \"100px\", cursor: \"pointer\" }}\r\n                onClick={() => handleOpenModal(guest.proofDocument, \"proof\")}\r\n              />\r\n            </Box>\r\n          ) : (\r\n            <Typography variant=\"body2\" color=\"textSecondary\">No proof documents available for this guest.</Typography>\r\n          )}\r\n          \r\n          {/* Update Document Button - Only if checkInTime is null and reservation is not cancelled */}\r\n          {/* {!reservation.check_in_time && reservation.status !== 'Cancelled' ? (\r\n            // <Button \r\n            //   variant=\"contained\" \r\n            //   color=\"primary\" \r\n            //   onClick={() => handleUpdateDocument(guest._id)}\r\n            // >\r\n            //   Update Document\r\n            // </Button>\r\n          ) : (\r\n            reservation.status === 'Cancelled' ? (\r\n              <Typography variant=\"body2\" color=\"error\"></Typography>\r\n            ) : (\r\n              <Typography variant=\"body2\" color=\"error\">Document update not allowed after check-in.</Typography>\r\n            )\r\n          )} */}\r\n        </div>\r\n      ))}\r\n    </Paper>\r\n  </animated.div>\r\n</Grid>\r\n\r\n\r\n<Grid item xs={12}>\r\n            <Paper elevation={3} style={{ padding: \"20px\", backgroundColor: \"#93C572\", color: \"#111\" }}>\r\n                <Typography variant=\"h5\" style={{ fontWeight: \"bold\", textAlign: \"center\", paddingBottom: \"5px\" }}>\r\n                    Payment Details\r\n                </Typography>\r\n                \r\n                {bill && Object.keys(bill).length > 0 ? (\r\n                    <>\r\n                        <Typography variant=\"body1\"><strong>Reservation ID:</strong> {bill.reservationid}</Typography>\r\n                        <Typography variant=\"body1\"><strong>Transaction ID:</strong> {bill.paymentId}</Typography>\r\n                        <Typography variant=\"body1\"><strong>Amount Paid:</strong> {bill.totalRate}</Typography>\r\n\r\n                        <Typography variant=\"body1\" style={{ display: 'flex', alignItems: 'center' }}>\r\n                            <strong>Payment Status:</strong> \r\n                            <span style={{ color: paymentStatus === 'pending' ? 'red' : paymentStatus === 'Refunded' ? 'red' : 'green', marginLeft: '4px' }}>\r\n                                {paymentStatus}\r\n                            </span>\r\n                            \r\n                            {paymentStatus === 'pending' ? (\r\n                                <CancelIcon style={{ color: 'red', marginLeft: '8px', padding: \"4px\" }} />\r\n                            ) : paymentStatus === 'Refunded' ? (\r\n                                <PendingIcon style={{ color: 'red', marginLeft: '8px' }} />\r\n                            ) : (\r\n                                <CheckCircleIcon style={{ color: 'green', marginLeft: '8px' }} />\r\n                            )}\r\n                        </Typography>\r\n                    </>\r\n                ) : (\r\n                    <Typography variant=\"body1\" style={{ textAlign: 'center' }}>No payment details available.</Typography>\r\n                )}\r\n            </Paper>\r\n        </Grid>\r\n\r\n\r\n{isCancellationAllowed && (\r\n  <Grid item xs={12}>\r\n    <Typography variant=\"h6\" gutterBottom style={{ fontWeight: \"bold\", marginTop: \"20px\" }}>\r\n      Cancellation Rules:\r\n    </Typography>\r\n    <Typography variant=\"body2\" color=\"textSecondary\" paragraph>\r\n      - Full refund is available if cancelled 2 days before the check-in date.<br />\r\n      - No refund is available if cancelled within 2 days of the check-in date.\r\n    </Typography>\r\n\r\n    {/* Check if check_in_time is null to determine button visibility */}\r\n    {reservation.check_in_time ? null : (\r\n      <>\r\n        {/* Show the Cancel button in red if reservation is already cancelled */}\r\n        {reservation.status === 'Cancelled' ? (\r\n          <Button\r\n            variant=\"contained\"\r\n            style={{ backgroundColor: \"red\", color: \"white\", marginTop: \"20px\" }}\r\n            disabled\r\n          >\r\n            Reservation Cancelled\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            onClick={handleCancelBooking}\r\n            style={{ marginTop: \"20px\" }}\r\n          >\r\n            Cancel Booking\r\n          </Button>\r\n        )}\r\n      </>\r\n    )}\r\n  </Grid>\r\n)}\r\n\r\n      </Grid>\r\n\r\n      {reservation.check_in_time && !feedbackSubmitted && (\r\n        <Grid item xs={12}>\r\n          <Paper elevation={3} style={{ padding: \"20px\", backgroundColor: \"#F0F8FF\", color: \"#111\", marginTop: \"20px\" }}>\r\n            <Typography variant=\"h5\" style={{ fontWeight: \"bold\", textAlign: \"center\", marginBottom: \"20px\" }}>\r\n              Share Your Experience\r\n            </Typography>\r\n\r\n            <Box sx={{ display: 'flex', flexDirection: 'column', gap: 3 }}>\r\n              {/* Hotel Rating */}\r\n              <Box>\r\n                <Typography component=\"legend\" style={{ fontWeight: \"bold\", marginBottom: \"8px\" }}>\r\n                  Hotel Rating\r\n                </Typography>\r\n                <Rating\r\n                  name=\"hotel-rating\"\r\n                  value={hotelRating}\r\n                  onChange={(event, newValue) => setHotelRating(newValue)}\r\n                  precision={0.5}\r\n                  emptyIcon={<StarIcon style={{ opacity: 0.55 }} fontSize=\"inherit\" />}\r\n                  size=\"large\"\r\n                />\r\n              </Box>\r\n\r\n              {/* Room Rating */}\r\n              <Box>\r\n                <Typography component=\"legend\" style={{ fontWeight: \"bold\", marginBottom: \"8px\" }}>\r\n                  Room Rating\r\n                </Typography>\r\n                <Rating\r\n                  name=\"room-rating\"\r\n                  value={roomRating}\r\n                  onChange={(event, newValue) => setRoomRating(newValue)}\r\n                  precision={0.5}\r\n                  emptyIcon={<StarIcon style={{ opacity: 0.55 }} fontSize=\"inherit\" />}\r\n                  size=\"large\"\r\n                />\r\n              </Box>\r\n\r\n              {/* Feedback Text */}\r\n              <TextField\r\n                label=\"Share your thoughts about your stay\"\r\n                multiline\r\n                rows={4}\r\n                value={feedback}\r\n                onChange={(e) => setFeedback(e.target.value)}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n              />\r\n\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleFeedbackSubmit}\r\n                disabled={!hotelRating || !roomRating}\r\n                style={{ marginTop: \"10px\" }}\r\n              >\r\n                Submit Feedback\r\n              </Button>\r\n            </Box>\r\n          </Paper>\r\n        </Grid>\r\n      )}\r\n\r\n      {feedbackSubmitted && (\r\n        <Grid item xs={12}>\r\n          <Paper elevation={3} style={{ padding: \"20px\", backgroundColor: \"#E8F5E9\", color: \"#111\", marginTop: \"20px\" }}>\r\n            <Typography variant=\"h6\" style={{ textAlign: \"center\", color: \"green\" }}>\r\n              Thank you for sharing your feedback!\r\n            </Typography>\r\n          </Paper>\r\n        </Grid>\r\n      )}\r\n        {/* Modal for Viewing Documents */}\r\n        <Modal\r\n      open={open}\r\n      onClose={handleCloseModal}\r\n      fullWidth\r\n      maxWidth=\"md\"\r\n      sx={{ backgroundColor: 'transparent' }} // Make modal background transparent\r\n    >\r\n      <animated.div style={modalAnimation}>\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            height: '100vh', // Use full viewport height\r\n             // The paper background will remain opaque\r\n            borderRadius: '8px',\r\n            boxShadow: 24,\r\n            p: 2,\r\n          }}\r\n        >\r\n          <IconButton onClick={handleCloseModal} style={{ position: \"absolute\", top: 10, right: 10 }}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n          {modalType === \"room\" && (\r\n            <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" height=\"100%\">\r\n              <Typography variant=\"h6\" gutterBottom>Room Image</Typography>\r\n              <Box\r\n                component=\"img\"\r\n                src={`${import.meta.env.VITE_API}/uploads/${currentDocument}`}\r\n                alt=\"Room\"\r\n                style={{\r\n                  width: `${zoomLevel * 100}%`, // Adjust width based on zoom level\r\n                  height: \"auto\",\r\n                  borderRadius: \"10px\",\r\n                  maxHeight: \"80vh\", // Prevent the image from exceeding the viewport height\r\n                  objectFit: \"contain\", // Maintain aspect ratio\r\n                }}\r\n              />\r\n              <Box mt={2} display=\"flex\" justifyContent=\"center\">\r\n                <IconButton onClick={handleZoomIn} aria-label=\"Zoom In\">\r\n                  <ZoomInIcon />\r\n                </IconButton>\r\n                <IconButton onClick={handleZoomOut} aria-label=\"Zoom Out\">\r\n                  <ZoomOutIcon />\r\n                </IconButton>\r\n              </Box>\r\n            </Box>\r\n          )}\r\n          {modalType === \"proof\" && (\r\n            <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" height=\"100%\">\r\n              <Typography variant=\"h6\" gutterBottom>Proof Document</Typography>\r\n              <Box\r\n                component=\"img\"\r\n                src={currentDocument}\r\n                alt=\"Proof Document\"\r\n                style={{\r\n                  width: `${zoomLevel * 100}%`, // Adjust width based on zoom level\r\n                  height: \"auto\",\r\n                  borderRadius: \"10px\",\r\n                  maxHeight: \"80vh\", // Prevent the image from exceeding the viewport height\r\n                  objectFit: \"contain\", // Maintain aspect ratio\r\n                }}\r\n              />\r\n              <Box mt={2} display=\"flex\" justifyContent=\"center\">\r\n                <IconButton onClick={handleZoomIn} aria-label=\"Zoom In\">\r\n                  <ZoomInIcon />\r\n                </IconButton>\r\n                <IconButton onClick={handleZoomOut} aria-label=\"Zoom Out\">\r\n                  <ZoomOutIcon />\r\n                </IconButton>\r\n              </Box>\r\n            </Box>\r\n          )}\r\n        </Box>\r\n      </animated.div>\r\n    </Modal>\r\n\r\n      </Box>\r\n\r\n      {/* QR Code Generator Section */}\r\n      <Grid item xs={12}>\r\n        {/* Only show QR section if within valid date range */}\r\n        {reservation && (() => {\r\n          const today = new Date();\r\n          const checkInDate = new Date(reservation.check_in);\r\n          const checkOutDate = new Date(reservation.check_out);\r\n          \r\n          // Show QR only if today is on or after check-in date AND before check-out date\r\n          const isWithinDateRange = today >= checkInDate && today < checkOutDate;\r\n          \r\n          return isWithinDateRange ? (\r\n            <Paper elevation={3} style={{ \r\n              padding: \"20px\", \r\n              backgroundColor: \"#93C572\", \r\n              color: \"#111\",\r\n              marginTop: \"20px\" \r\n            }}>\r\n              <Typography variant=\"h5\" style={{ \r\n                fontWeight: \"bold\", \r\n                textAlign: \"center\", \r\n                marginBottom: \"20px\" \r\n              }}>\r\n                Self Check-In/Out\r\n              </Typography>\r\n\r\n              {/* Only show QR generator if reservation is confirmed or checked in */}\r\n              {(reservation.status === 'booked' || reservation.status === 'checked_in') ? (\r\n                <Box sx={{ \r\n                  backgroundColor: '#fff', \r\n                  padding: 2, \r\n                  borderRadius: 2,\r\n                  boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n                }}>\r\n                  <QRGenerator \r\n                    reservationId={reservation._id} \r\n                  />\r\n                </Box>\r\n              ) : (\r\n                <Alert severity=\"info\" style={{ backgroundColor: '#fff' }}>\r\n                  QR Code generation is only available for confirmed or checked-in reservations.\r\n                </Alert>\r\n              )}\r\n\r\n              {/* Instructions for guests */}\r\n              <Box sx={{ mt: 2 }}>\r\n                <Typography variant=\"body1\" style={{ \r\n                  backgroundColor: '#fff',\r\n                  padding: '15px',\r\n                  borderRadius: '8px',\r\n                  marginTop: '10px'\r\n                }}>\r\n                  <strong>How to use:</strong>\r\n                  <ol style={{ marginTop: '10px' }}>\r\n                    <li>Click \"Generate QR Code\" when you're ready to check in/out</li>\r\n                    <li>Save or take a screenshot of the QR code</li>\r\n                    <li>Visit our self-service kiosk in the hotel lobby</li>\r\n                    <li>Scan the QR code at the kiosk</li>\r\n                    <li>\r\n                      {reservation?.status === 'checked_in' \r\n                        ? 'Complete your check-out process' \r\n                        : 'Collect your room key from the dispenser'}\r\n                    </li>\r\n                  </ol>\r\n                </Typography>\r\n              </Box>\r\n\r\n              {/* Important Notes */}\r\n              <Alert \r\n                severity=\"warning\" \r\n                style={{ \r\n                  marginTop: '15px',\r\n                  backgroundColor: '#fff' \r\n                }}\r\n              >\r\n                <Typography variant=\"body2\">\r\n                  <strong>Important:</strong>\r\n                  <ul style={{ marginTop: '5px', marginBottom: '0' }}>\r\n                    <li>QR codes are valid for 5 minutes after generation</li>\r\n                    <li>Generate a new code if the current one expires</li>\r\n                    <li>Keep your QR code private and secure</li>\r\n                  </ul>\r\n                </Typography>\r\n              </Alert>\r\n            </Paper>\r\n          ) : null;\r\n        })()}\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookingDetails;\r\n\r\n","import './RoomInfo.css';\r\n// import Navbar from \"../../components/navbar/Navbar\";\r\n// import Header from \"../../components/header/Header\";\r\n// import MailList from \"../../components/mailList/MailList\";\r\n// import Footer from \"../../components/footer/Footer\";\r\nimport axios from 'axios'; \r\nimport Header from '../components/Header';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useLocation,useNavigate } from 'react-router-dom';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport {\r\n  faCircleArrowLeft,\r\n  faCircleArrowRight,\r\n  faCircleXmark,\r\n  faLocationDot,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useState } from \"react\";\r\nimport Swal from 'sweetalert2';\r\n\r\nconst SeeRoomDetails = () => {\r\n  \r\n    \r\n    const navigate=useNavigate();\r\n    const location = useLocation();\r\n    console.log(location);\r\n    const state = location.state || {};\r\n  \r\n  const roomdatas = state.roomdata || {};\r\n  \r\n  console.log(\"roominfo\",roomdatas);\r\n  const [slideNumber, setSlideNumber] = useState(0);\r\n  const [open, setOpen] = useState(false);\r\n  \r\n    const rrate=roomdatas.rate;\r\n\r\n// Check if dates are valid\r\n\r\n\r\n\r\nconst handleBook=()=>{\r\n  navigate('/rooms')\r\n};\r\n  // axios.post(\"${import.meta.env.VITE_API}/confirmbook\", { roomdatas,datas,userid,trateString })\r\n  // .then(res => {\r\n  //   if (res.status === 200) {\r\n  //     Swal.fire(\"booking succesful\");\r\n  //   }\r\n  //   else{\r\n  //     Swal.fire(error);\r\n  //   }\r\n  // })\r\n  // .catch(err => {\r\n  //   console.error(\"Error\", err);\r\n  // });\r\n\r\n\r\n\r\n    \r\nconst photos = roomdatas.images.map(photo => ({\r\n  src: `${import.meta.env.VITE_API}/uploads/${photo}`,\r\n}));\r\n\r\n  const handleOpen = (i) => {\r\n    setSlideNumber(i);\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleMove = (direction) => {\r\n    let newSlideNumber;\r\n  \r\n    // Get the total number of images\r\n    const totalImages = photos.length;\r\n  \r\n    if (direction === \"l\") {\r\n      // Move left (to previous image)\r\n      newSlideNumber = slideNumber === 0 ? totalImages - 1 : slideNumber - 1;\r\n    } else {\r\n      // Move right (to next image)\r\n      newSlideNumber = slideNumber === totalImages - 1 ? 0 : slideNumber + 1;\r\n    }\r\n  \r\n    setSlideNumber(newSlideNumber);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className='room_nav'>\r\n      <Header  /> \r\n      </div>\r\n      <div className=\"hotelContainer\">\r\n        {open && (\r\n          <div className=\"slider\">\r\n            <CloseIcon\r\n              className=\"close\"\r\n              onClick={() => setOpen(false)}\r\n              style={{ cursor: 'pointer' }} // Adding cursor pointer for better UX\r\n            />\r\n            <FontAwesomeIcon\r\n              icon={faCircleArrowLeft}\r\n              className=\"arrow\"\r\n              onClick={() => handleMove(\"l\")}\r\n            />\r\n            <div className=\"sliderWrapper\">\r\n              <img src={photos[slideNumber].src} alt=\"\" className=\"sliderImg\" />\r\n            </div>\r\n            <FontAwesomeIcon\r\n              icon={faCircleArrowRight}\r\n              className=\"arrow\"\r\n              onClick={() => handleMove(\"r\")}\r\n            />\r\n          </div>\r\n        )}\r\n        <div className=\"hotelWrapper\">\r\n           <button className=\"bookNow\"  onClick={handleBook}>Reserve or Book Now! â‚¹{roomdatas.rate} /(1 night) </button> \r\n          <h1 className=\"hotelTitle\">{roomdatas.roomtype}</h1>\r\n          <div className=\"hotelAddress\">\r\n            <FontAwesomeIcon icon={faLocationDot} />\r\n            <span>Kochi</span>\r\n          </div>\r\n          <span className=\"hotelDistance\">\r\n            Excellent location â€“ 500m from MG road,Kochi\r\n          </span>\r\n          <span className=\"hotelPriceHighlight\">\r\n            Book a stay over â‚¹{roomdatas.rate} at this property and get a free airport taxi\r\n          </span>\r\n          <div className=\"hotelImages\">\r\n            {roomdatas.images.map((photo, i) => (\r\n              <div className=\"hotelImgWrapper\" key={i}>\r\n                <img\r\n                  onClick={() => handleOpen(i)}\r\n                  src={`${import.meta.env.VITE_API}/uploads/${photo}`}\r\n                  alt=\"\"\r\n                  className=\"hotelImg\"\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"hotelDetails\">\r\n            <div className=\"hotelDetailsTexts\">\r\n              <h1 className=\"hotelTitle\">Stay in the heart of City</h1>\r\n              <p className=\"hotelDesc\">\r\n                {roomdatas.description}\r\n              </p>\r\n              <div style={{ color: 'red', fontSize: '14px', marginTop: '10px' }}>\r\n        <p>**Check-in time is 2 PM and Check-out time is 11 AM.</p>\r\n      </div>\r\n      <div style={{ fontSize: '14px', marginTop: '10px' }}>\r\n  <h4>In-Room Amenities:</h4>\r\n  <ul style={{ listStyleType: 'disc', marginLeft: '20px' }}>\r\n    \r\n    <li>55â€ smart IPTV</li>\r\n    <li>Luxury bathroom with walk-in shower and bathtub</li>\r\n    <li>Deluxe French Note bathroom amenities</li>\r\n    <li>Hair dryer</li>\r\n    <li>Stocked refreshments</li>\r\n    <li>Iron and ironing board</li>\r\n    <li>In-room safe</li>\r\n    <li>Crib and rollaway bed on request</li>\r\n    <li>Complimentary Wi-Fi</li>\r\n    <li>Complimentary bottled mineral water</li>\r\n  </ul>\r\n</div>\r\n            </div>\r\n            <div className=\"hotelDetailsPrice\">\r\n              <h1>Perfect for a 1-night stay!</h1>\r\n              <span>\r\n                Located in the real heart of Kochi, this property has an\r\n                excellent location score of 9.8!\r\n              </span>\r\n              <h2>\r\n                <b>â‚¹{roomdatas.rate}</b> /(1 nights)\r\n              </h2>\r\n              <button onClick={handleBook}>Reserve or Book Now!</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* <MailList />\r\n        <Footer /> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SeeRoomDetails;","import React, { useEffect, useState, useRef, useLayoutEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Header from '../Header';\r\nimport axios from 'axios';\r\nimport './SavedGuest.css';\r\nimport useAuth from '../../src/useAuth';\r\nimport { Modal, Button, TextField, FormControl, InputLabel, Select, MenuItem } from '@mui/material';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport logo from '../../public/logo1.png';\r\nimport facebook from '../../src/assets/facebook.png';\r\nimport instagram from '../../src/assets/instagram.png';\r\nimport youtube from '../../src/assets/youtube.png';\r\nimport Footer from '../footer';\r\nimport { Delete as DeleteIcon, Edit as EditIcon } from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nfunction SavedGuest() {\r\n  useAuth();\r\n  const navigate = useNavigate();\r\n  const [savedGuests, setSavedGuests] = useState([]);\r\n  const [displayCount, setDisplayCount] = useState(3);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [filteredGuests, setFilteredGuests] = useState([]);\r\n  const [selectedGuest, setSelectedGuest] = useState(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editedGuest, setEditedGuest] = useState(null);\r\n  const [fullScreenImage, setFullScreenImage] = useState(null);\r\n  const footerRef = useRef(null);\r\n\r\n  const nameRegex = /^[A-Za-z\\s]+$/;\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  const phoneRegex = /^[0-9]{10}$/;\r\n  const dobRegex = /^\\d{4}-\\d{2}-\\d{2}$/;\r\n  const proofNumberRegex = /^[A-Za-z0-9]+$/;\r\n\r\n  useEffect(() => {\r\n    const fetchSavedGuests = async () => {\r\n      try {\r\n        const userId = localStorage.getItem('userId');\r\n        if (!userId) {\r\n          setError('No user found');\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        const response = await axios.get(`${import.meta.env.VITE_API}/user/saved-guests/${userId}`);\r\n        if (response.status === 200) {\r\n          setSavedGuests(response.data);\r\n          setFilteredGuests(response.data);\r\n        } else {\r\n          setError('Failed to fetch saved guests');\r\n        }\r\n      } catch (err) {\r\n        setError('An error occurred while fetching saved guests');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchSavedGuests();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const filterGuests = () => {\r\n      let filtered = savedGuests;\r\n\r\n      if (searchQuery) {\r\n        filtered = savedGuests.filter(guest => {\r\n          const searchLower = searchQuery.toLowerCase();\r\n          return (\r\n            guest.name.toLowerCase().includes(searchLower) ||\r\n            guest.email.toLowerCase().includes(searchLower) ||\r\n            guest.phone.includes(searchLower)\r\n          );\r\n        });\r\n      }\r\n\r\n      setFilteredGuests(filtered);\r\n    };\r\n\r\n    filterGuests();\r\n  }, [searchQuery, savedGuests]);\r\n\r\n  useLayoutEffect(() => {\r\n    const footer = footerRef.current;\r\n    if (!footer) return; // Exit if footer is not available\r\n\r\n    let lastScrollY = window.pageYOffset;\r\n    let footerHeight = footer.offsetHeight;\r\n    let viewportHeight = window.innerHeight;\r\n    let documentHeight = document.documentElement.scrollHeight;\r\n\r\n    const handleScroll = () => {\r\n      const currentScrollY = window.pageYOffset;\r\n      const maxScroll = documentHeight - viewportHeight;\r\n      const scrollPercentage = currentScrollY / maxScroll;\r\n      const footerVisibleHeight = Math.min(footerHeight, Math.max(50, scrollPercentage * footerHeight));\r\n\r\n      if (currentScrollY < lastScrollY) {\r\n        // Scrolling up\r\n        footer.style.transform = `translateY(calc(100% - ${footerVisibleHeight}px))`;\r\n      } else {\r\n        // Scrolling down\r\n        footer.style.transform = 'translateY(calc(100% - 50px))';\r\n      }\r\n      lastScrollY = currentScrollY;\r\n    };\r\n\r\n    const handleResize = () => {\r\n      footerHeight = footer.offsetHeight;\r\n      viewportHeight = window.innerHeight;\r\n      documentHeight = document.documentElement.scrollHeight;\r\n    };\r\n\r\n    window.addEventListener('scroll', handleScroll, { passive: true });\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    // Initial call to set up the footer\r\n    handleResize();\r\n    handleScroll();\r\n\r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll);\r\n      window.removeEventListener('resize', handleResize);\r\n    };\r\n  }, []); // Empty dependency array to run only once after initial render\r\n\r\n  const handleSearch = (e) => {\r\n    setSearchQuery(e.target.value);\r\n  };\r\n\r\n  const handleGuestClick = (guest) => {\r\n    setSelectedGuest(guest);\r\n    setEditedGuest({ ...guest, errors: {} });\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setIsModalOpen(false);\r\n    setIsEditing(false);\r\n    setSelectedGuest(null);\r\n    setEditedGuest(null);\r\n  };\r\n\r\n  const handleEditClick = () => {\r\n    setIsEditing(true);\r\n  };\r\n\r\n  const validateField = (name, value) => {\r\n    switch (name) {\r\n      case 'name':\r\n        return nameRegex.test(value) ? '' : 'Invalid name format (letters only)';\r\n      case 'email':\r\n        return emailRegex.test(value) ? '' : 'Invalid email format';\r\n      case 'phone':\r\n        if (!phoneRegex.test(value)) {\r\n          return \"Phone number must be exactly 10 digits.\";\r\n        }\r\n        if (/^(\\d)\\1{9}$/.test(value)) {\r\n          return \"Phone number cannot consist of repeating digits.\";\r\n        }\r\n        return '';\r\n      case 'dob':\r\n        const datePart = value.split('T')[0];\r\n        return dobRegex.test(datePart) ? '' : 'Invalid date of birth (YYYY-MM-DD)';\r\n      case 'proofNumber':\r\n        return proofNumberRegex.test(value) ? '' : 'Invalid proof number format';\r\n      default:\r\n        return '';\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    const error = validateField(name, value);\r\n    setEditedGuest(prev => ({\r\n      ...prev,\r\n      [name]: value,\r\n      errors: {\r\n        ...prev.errors,\r\n        [name]: error\r\n      }\r\n    }));\r\n  };\r\n\r\n  const handleSaveEdit = async () => {\r\n    const hasErrors = Object.values(editedGuest.errors).some(error => error !== '');\r\n    if (hasErrors) {\r\n      console.error('Please correct the errors before saving');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.put(`${import.meta.env.VITE_API}/user/update-guest/${editedGuest._id}`, editedGuest);\r\n      if (response.status === 200) {\r\n        setSavedGuests(prevGuests => \r\n          prevGuests.map(guest => guest._id === editedGuest._id ? editedGuest : guest)\r\n        );\r\n        setIsEditing(false);\r\n        setSelectedGuest(editedGuest);\r\n      } else {\r\n        console.error('Failed to update guest');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating guest:', error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteGuest = async (guestId) => {\r\n    try {\r\n      const result = await Swal.fire({\r\n        title: 'Delete Guest',\r\n        text: 'Are you sure you want to remove this guest? This action cannot be undone.',\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#d33',\r\n        cancelButtonColor: '#3085d6',\r\n        confirmButtonText: 'Yes, delete',\r\n        cancelButtonText: 'Cancel',\r\n        reverseButtons: true\r\n      });\r\n\r\n      if (result.isConfirmed) {\r\n        // Show loading state\r\n        Swal.fire({\r\n          title: 'Deleting Guest',\r\n          text: 'Please wait...',\r\n          allowOutsideClick: false,\r\n          didOpen: () => {\r\n            Swal.showLoading();\r\n          }\r\n        });\r\n\r\n        const response = await axios.delete(\r\n          `${import.meta.env.VITE_API}/user/delete-guest/${selectedGuest._id}`\r\n        );\r\n\r\n        if (response.status === 200) {\r\n          // Remove guest from state\r\n          setSavedGuests(prevGuests => \r\n            prevGuests.filter(guest => guest._id !== selectedGuest._id)\r\n          );\r\n          \r\n          // Close modal\r\n          handleCloseModal();\r\n\r\n          // Show success message\r\n          await Swal.fire({\r\n            icon: 'success',\r\n            title: 'Guest Deleted',\r\n            text: 'The guest has been successfully removed',\r\n            timer: 1500,\r\n            showConfirmButton: false\r\n          });\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting guest:', error);\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Delete Failed',\r\n        text: 'Failed to delete guest. Please try again.',\r\n        confirmButtonColor: '#3085d6'\r\n      });\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n  if (error) return <div>{error}</div>;\r\n\r\n  return (\r\n    <div>\r\n      <div className='SavedGuestnav'>\r\n        <Header />\r\n      </div>\r\n\r\n      <div className=\"saved-guests-container\">\r\n        <h2>Saved Guests</h2>\r\n        <br />\r\n\r\n        <div className=\"search-bar\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search by name, email, or phone\"\r\n            value={searchQuery}\r\n            onChange={handleSearch}\r\n          />\r\n        </div>\r\n\r\n        {filteredGuests.length === 0 ? (\r\n          <p>No saved guests found.</p>\r\n        ) : (\r\n          <ul className=\"saved-guests-list\">\r\n            {filteredGuests.slice(0, displayCount).map((guest) => (\r\n              <li key={guest._id} onClick={() => handleGuestClick(guest)}>\r\n                <div className={searchQuery ? 'filtered-guest' : 'guest-card'}>\r\n                  <p><strong>Name:</strong> {guest.name}</p>\r\n                  <p><strong>Email:</strong> {guest.email}</p>\r\n                  <p><strong>Phone:</strong> {guest.phone}</p>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n\r\n        <div className=\"buttons-container\">\r\n          {displayCount < filteredGuests.length && (\r\n            <button className=\"see-more-button\" onClick={() => setDisplayCount(displayCount + 3)}>\r\n              See More\r\n            </button>\r\n          )}\r\n          {displayCount > 3 && (\r\n            <button className=\"see-less-button\" onClick={() => setDisplayCount(3)}>\r\n              Show Less\r\n            </button>\r\n          )}\r\n        </div>\r\n       \r\n      </div>\r\n\r\n      <Modal open={isModalOpen} onClose={handleCloseModal}>\r\n        <div className=\"guest-modal\">\r\n          <CloseIcon className=\"close-icon\" onClick={handleCloseModal} />\r\n          {selectedGuest && (\r\n            <div>\r\n              <h2>{selectedGuest.name}</h2>\r\n              {isEditing ? (\r\n                <div>\r\n                  <TextField\r\n                    name=\"name\"\r\n                    label=\"Name\"\r\n                    value={editedGuest.name}\r\n                    onChange={handleInputChange}\r\n                    fullWidth\r\n                    margin=\"normal\"\r\n                    error={!!editedGuest.errors.name}\r\n                    helperText={editedGuest.errors.name}\r\n                  />\r\n                  <TextField\r\n                    name=\"email\"\r\n                    label=\"Email\"\r\n                    value={editedGuest.email}\r\n                    onChange={handleInputChange}\r\n                    fullWidth\r\n                    margin=\"normal\"\r\n                    error={!!editedGuest.errors.email}\r\n                    helperText={editedGuest.errors.email}\r\n                  />\r\n                  <TextField\r\n                    name=\"phone\"\r\n                    label=\"Phone\"\r\n                    value={editedGuest.phone}\r\n                    onChange={handleInputChange}\r\n                    fullWidth\r\n                    margin=\"normal\"\r\n                    error={!!editedGuest.errors.phone}\r\n                    helperText={editedGuest.errors.phone}\r\n                  />\r\n                  <TextField\r\n                    name=\"address\"\r\n                    label=\"Address\"\r\n                    value={editedGuest.address}\r\n                    onChange={handleInputChange}\r\n                    fullWidth\r\n                    margin=\"normal\"\r\n                    multiline\r\n                    rows={3}\r\n                  />\r\n                  <TextField\r\n                    name=\"dob\"\r\n                    label=\"Date of Birth\"\r\n                    type=\"date\"\r\n                    value={editedGuest.dob.split('T')[0]}\r\n                    onChange={handleInputChange}\r\n                    fullWidth\r\n                    margin=\"normal\"\r\n                    InputLabelProps={{\r\n                      shrink: true,\r\n                    }}\r\n                    error={!!editedGuest.errors.dob}\r\n                    helperText={editedGuest.errors.dob}\r\n                  />\r\n                  <FormControl fullWidth margin=\"normal\">\r\n                    <InputLabel>Proof Type</InputLabel>\r\n                    <Select\r\n                      name=\"proofType\"\r\n                      value={editedGuest.proofType}\r\n                      onChange={handleInputChange}\r\n                    >\r\n                      <MenuItem value=\"passport\">Passport</MenuItem>\r\n                      <MenuItem value=\"drivingLicense\">Driving License</MenuItem>\r\n                      <MenuItem value=\"aadhar\">Aadhar</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                  <TextField\r\n                    name=\"proofNumber\"\r\n                    label=\"Proof Number\"\r\n                    value={editedGuest.proofNumber}\r\n                    onChange={handleInputChange}\r\n                    fullWidth\r\n                    margin=\"normal\"\r\n                    error={!!editedGuest.errors.proofNumber}\r\n                    helperText={editedGuest.errors.proofNumber}\r\n                  />\r\n                  <Button onClick={handleSaveEdit} variant=\"contained\" color=\"primary\">\r\n                    Save Changes\r\n                  </Button>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <p><strong>Email:</strong> {selectedGuest.email}</p>\r\n                  <p><strong>Phone:</strong> {selectedGuest.phone}</p>\r\n                  <p><strong>Address:</strong> {selectedGuest.address}</p>\r\n                  <p><strong>Date of Birth:</strong> {new Date(selectedGuest.dob).toLocaleDateString(\"en-GB\")}</p>\r\n                  <p><strong>Proof Type:</strong> {selectedGuest.proofType}</p>\r\n                  <p><strong>Proof Number:</strong> {selectedGuest.proofNumber}</p>\r\n                  <div>\r\n                    <strong>Proof Document:</strong>\r\n                    {selectedGuest.proofDocument && (\r\n                      <img \r\n                        src={`${selectedGuest.proofDocument}`}\r\n                        alt=\"Proof Document\"\r\n                        className=\"proof-document-preview\"\r\n                        onClick={() => setFullScreenImage(`${selectedGuest.proofDocument}`)}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                  <div className=\"button-group\">\r\n                    <Button \r\n                      onClick={handleEditClick} \r\n                      variant=\"contained\" \r\n                      color=\"primary\"\r\n                      startIcon={<EditIcon />}\r\n                      sx={{ mr: 2 }}\r\n                    >\r\n                      Edit\r\n                    </Button>\r\n                    <Button\r\n                      onClick={() => handleDeleteGuest(selectedGuest._id)}\r\n                      variant=\"contained\"\r\n                      color=\"error\"\r\n                      startIcon={<DeleteIcon />}\r\n                    >\r\n                      Delete\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Modal>\r\n\r\n      {fullScreenImage && (\r\n        <Modal open={!!fullScreenImage} onClose={() => setFullScreenImage(null)}>\r\n          <div className=\"full-screen-image-container\">\r\n            <img src={fullScreenImage} alt=\"Full Screen Proof Document\" className=\"full-screen-image\" />\r\n            <CloseIcon className=\"close-icon\" onClick={() => setFullScreenImage(null)} />\r\n          </div>\r\n        </Modal>\r\n      )}\r\n      <div className='footer'>\r\n      <Footer/>\r\n    </div>\r\n    </div>\r\n    \r\n  );\r\n}\r\n\r\nexport default SavedGuest;\r\n","import React from 'react';\r\nimport { Navigate, Outlet } from 'react-router-dom';\r\n\r\nconst PrivateRoute = () => {\r\n    const isAuthenticated = localStorage.getItem('token');\r\n    \r\n    return isAuthenticated ? <Outlet /> : <Navigate to=\"/signup\" />;\r\n};\r\n\r\nexport default PrivateRoute; ","import React, { useEffect, useRef, useState } from 'react';\r\nimport { FaTimes, FaCamera, FaPlus, FaArrowLeft, FaArrowRight, FaMinus } from 'react-icons/fa';\r\nimport * as THREE from 'three';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\nimport './ARStyles.css';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst ARView = ({ item, onClose, menuItems = [] }) => {\r\n  const containerRef = useRef(null);\r\n  const videoRef = useRef(null);\r\n  const rendererRef = useRef(null);\r\n  const sceneRef = useRef(null);\r\n  const cameraRef = useRef(null);\r\n  const controlsRef = useRef(null);\r\n  const modelsRef = useRef([]);\r\n  const dragRef = useRef({\r\n    isDragging: false,\r\n    selectedModel: null,\r\n    plane: new THREE.Plane(),\r\n    raycaster: new THREE.Raycaster(),\r\n    mouse: new THREE.Vector2(),\r\n    intersection: new THREE.Vector3()\r\n  });\r\n  \r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [arItems, setArItems] = useState([{\r\n    ...item,\r\n    position: { x: 0, y: 0, z: -2 },\r\n    scale: 1,\r\n    rotation: { x: 0, y: 0, z: 0 }\r\n  }]);\r\n  const [availableItems, setAvailableItems] = useState(\r\n    menuItems.filter(menuItem => menuItem.id !== item.id) || []\r\n  );\r\n  const [showItemSelector, setShowItemSelector] = useState(false);\r\n  const [selectedItemIndex, setSelectedItemIndex] = useState(0);\r\n\r\n  // Add this new ref for device orientation\r\n  const deviceOrientationRef = useRef(null);\r\n\r\n  // Add device detection state\r\n  const [isMobile] = useState(() => {\r\n    const ua = navigator.userAgent;\r\n    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ua);\r\n  });\r\n\r\n  // Add loadModel function before the useEffect\r\n  const loadModel = (item, index) => {\r\n    const loader = new GLTFLoader();\r\n    const modelPath = item.model3d || '/models/pizza.glb'; // Default to pizza if no model specified\r\n\r\n    loader.load(\r\n      modelPath,\r\n      (gltf) => {\r\n        const model = gltf.scene;\r\n        \r\n        // Create a container for the model and its label\r\n        const container = new THREE.Group();\r\n        \r\n        // Set initial position\r\n        model.position.set(0, 0, 0); // Reset model position\r\n        container.position.set(\r\n          item.position.x,\r\n          item.position.y,\r\n          item.position.z\r\n        );\r\n        container.scale.setScalar(item.scale);\r\n        \r\n        // Add the model to the container\r\n        container.add(model);\r\n        \r\n        // Pass the item data to createLabel\r\n        const label = createLabel(item.name, model, item);\r\n        container.add(label);\r\n        \r\n        // Add the container to the scene\r\n        if (sceneRef.current) {\r\n          if (modelsRef.current[index]) {\r\n            sceneRef.current.remove(modelsRef.current[index]);\r\n          }\r\n          sceneRef.current.add(container);\r\n          modelsRef.current[index] = container;\r\n          \r\n          // Make label always face camera\r\n          const updateLabel = () => {\r\n            if (label && cameraRef.current) {\r\n              label.lookAt(cameraRef.current.position);\r\n            }\r\n          };\r\n          \r\n          // Add to animation loop\r\n          const animate = () => {\r\n            requestAnimationFrame(animate);\r\n            updateLabel();\r\n          };\r\n          animate();\r\n        }\r\n      },\r\n      undefined,\r\n      (error) => {\r\n        console.error('Error loading model:', error);\r\n      }\r\n    );\r\n  };\r\n\r\n  // Define handleDeviceMotion at component level\r\n  const handleDeviceMotion = (event) => {\r\n    if (!cameraRef.current) return;\r\n    \r\n    const acceleration = event.accelerationIncludingGravity;\r\n    if (!acceleration) return;\r\n    \r\n    // Update camera position\r\n    if (Math.abs(acceleration.z) > 0.5) {\r\n      cameraRef.current.position.z += acceleration.z * 0.005;\r\n      cameraRef.current.position.z = THREE.MathUtils.clamp(\r\n        cameraRef.current.position.z,\r\n        1,\r\n        10\r\n      );\r\n      \r\n      // Update all models' scale based on camera distance\r\n      modelsRef.current.forEach((container, index) => {\r\n        if (container) {\r\n          const distance = cameraRef.current.position.distanceTo(container.position);\r\n          const scale = 1 + (1 / distance);\r\n          container.scale.setScalar(scale * arItems[index].scale);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  // Initialize Three.js scene\r\n  useEffect(() => {\r\n    const initScene = () => {\r\n      // Create scene\r\n      const scene = new THREE.Scene();\r\n      sceneRef.current = scene;\r\n\r\n      // Create camera\r\n      const camera = new THREE.PerspectiveCamera(\r\n        75, // field of view\r\n        window.innerWidth / window.innerHeight,\r\n        0.1, // near plane (reduced to allow closer viewing)\r\n        1000\r\n      );\r\n      camera.position.z = 5;\r\n      cameraRef.current = camera;\r\n\r\n      // Create renderer\r\n      const renderer = new THREE.WebGLRenderer({ \r\n        alpha: true,\r\n        antialias: true \r\n      });\r\n      renderer.setSize(window.innerWidth, window.innerHeight);\r\n      renderer.setClearColor(0x000000, 0);\r\n      renderer.setPixelRatio(window.devicePixelRatio);\r\n      rendererRef.current = renderer;\r\n\r\n      // Add lights\r\n      const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);\r\n      scene.add(ambientLight);\r\n\r\n      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\r\n      directionalLight.position.set(10, 10, 5);\r\n      scene.add(directionalLight);\r\n\r\n      // Add OrbitControls with enhanced configuration\r\n      const controls = new OrbitControls(camera, renderer.domElement);\r\n      controls.enableDamping = true;\r\n      controls.dampingFactor = 0.05;\r\n      controls.minDistance = 1;  // Increased minimum distance to prevent getting too close\r\n      controls.maxDistance = 10;\r\n      controls.enablePan = true;\r\n      controls.panSpeed = 0.5;\r\n      controls.rotateSpeed = 0.5;\r\n      controls.enableZoom = true; // Enable zoom for testing on desktop\r\n      controlsRef.current = controls;\r\n\r\n      // Add renderer to container\r\n      if (containerRef.current) {\r\n        const canvas = renderer.domElement;\r\n        canvas.style.position = 'absolute';\r\n        canvas.style.top = '0';\r\n        canvas.style.left = '0';\r\n        canvas.style.zIndex = '2';\r\n        containerRef.current.appendChild(canvas);\r\n      }\r\n\r\n      // Load initial model\r\n      loadModel(arItems[0], 0);\r\n\r\n      // Handle window resize\r\n      const handleResize = () => {\r\n        const width = window.innerWidth;\r\n        const height = window.innerHeight;\r\n\r\n        camera.aspect = width / height;\r\n        camera.updateProjectionMatrix();\r\n\r\n        renderer.setSize(width, height);\r\n      };\r\n      window.addEventListener('resize', handleResize);\r\n\r\n      // Animation loop\r\n      const animate = () => {\r\n        requestAnimationFrame(animate);\r\n        \r\n        if (controlsRef.current) {\r\n          controlsRef.current.update();\r\n        }\r\n\r\n        renderer.render(scene, camera);\r\n      };\r\n      animate();\r\n\r\n      // Add event listeners to the renderer's canvas\r\n      const canvas = renderer.domElement;\r\n      canvas.addEventListener('mousedown', handleMouseDown);\r\n      canvas.addEventListener('mousemove', handleMouseMove);\r\n      canvas.addEventListener('mouseup', handleMouseUp);\r\n      canvas.addEventListener('mouseleave', handleMouseUp);\r\n      \r\n      // Add touch events for mobile\r\n      canvas.addEventListener('touchstart', handleTouchStart);\r\n      canvas.addEventListener('touchmove', handleTouchMove);\r\n      canvas.addEventListener('touchend', handleTouchEnd);\r\n      canvas.addEventListener('touchcancel', handleTouchEnd);\r\n\r\n      // Add device motion handling\r\n      if (window.DeviceMotionEvent) {\r\n        window.addEventListener('devicemotion', handleDeviceMotion);\r\n      }\r\n\r\n      // Cleanup\r\n      return () => {\r\n        window.removeEventListener('resize', handleResize);\r\n        window.removeEventListener('devicemotion', handleDeviceMotion);\r\n        canvas.removeEventListener('mousedown', handleMouseDown);\r\n        canvas.removeEventListener('mousemove', handleMouseMove);\r\n        canvas.removeEventListener('mouseup', handleMouseUp);\r\n        canvas.removeEventListener('mouseleave', handleMouseUp);\r\n        canvas.removeEventListener('touchstart', handleTouchStart);\r\n        canvas.removeEventListener('touchmove', handleTouchMove);\r\n        canvas.removeEventListener('touchend', handleTouchEnd);\r\n        canvas.removeEventListener('touchcancel', handleTouchEnd);\r\n        controls.dispose();\r\n      };\r\n    };\r\n\r\n    initScene();\r\n\r\n    return () => {\r\n      if (rendererRef.current) {\r\n        rendererRef.current.dispose();\r\n      }\r\n      if (sceneRef.current) {\r\n        while(sceneRef.current.children.length > 0) { \r\n          sceneRef.current.remove(sceneRef.current.children[0]); \r\n        }\r\n      }\r\n      if (controlsRef.current) {\r\n        controlsRef.current.dispose();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Initialize camera\r\n  useEffect(() => {\r\n    const initCamera = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        setError(null);\r\n\r\n        const video = document.createElement('video');\r\n        video.setAttribute('autoplay', '');\r\n        video.setAttribute('muted', '');\r\n        video.setAttribute('playsinline', '');\r\n        video.style.width = '100%';\r\n        video.style.height = '100%';\r\n        video.style.objectFit = 'cover';\r\n        \r\n        videoRef.current = video;\r\n        if (containerRef.current) {\r\n          containerRef.current.appendChild(video);\r\n        }\r\n\r\n        // Simple mobile detection\r\n        const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\r\n\r\n        // Camera constraints\r\n        const constraints = {\r\n          video: isMobile ? \r\n            { facingMode: { exact: 'environment' } } : // Mobile back camera\r\n            { width: { ideal: 1920 }, height: { ideal: 1080 } } // Desktop camera\r\n        };\r\n\r\n        const stream = await navigator.mediaDevices.getUserMedia(constraints);\r\n        video.srcObject = stream;\r\n\r\n        await new Promise((resolve) => {\r\n          video.onloadedmetadata = () => {\r\n            video.play().then(resolve);\r\n          };\r\n        });\r\n\r\n        setIsLoading(false);\r\n\r\n      } catch (err) {\r\n        console.error('Camera error:', err);\r\n        \r\n        // Show user-friendly error message\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Camera Access Required',\r\n          html: `\r\n            <div>\r\n              <p>Please allow camera access to use AR view.</p>\r\n              <p style=\"margin-top: 10px\"><strong>Quick Fix:</strong></p>\r\n              <ol style=\"text-align: left; margin-top: 10px\">\r\n                <li>Click the camera icon in your address bar</li>\r\n                <li>Select \"Allow\" for camera access</li>\r\n                <li>Refresh the page</li>\r\n              </ol>\r\n            </div>\r\n          `,\r\n          confirmButtonText: 'Try Again',\r\n          showCancelButton: true,\r\n          cancelButtonText: 'Close'\r\n        }).then((result) => {\r\n          if (result.isConfirmed) {\r\n            initCamera();\r\n          } else {\r\n            onClose();\r\n          }\r\n        });\r\n      }\r\n    };\r\n\r\n    initCamera();\r\n\r\n    return () => {\r\n      if (videoRef.current?.srcObject) {\r\n        videoRef.current.srcObject.getTracks().forEach(track => track.stop());\r\n      }\r\n    };\r\n  }, [onClose]);\r\n\r\n  // Add a retry button in the error UI\r\n  const handleRetry = () => {\r\n    setError(null);\r\n    setIsLoading(true);\r\n    initCamera();\r\n  };\r\n\r\n  // Update the addItemToAR function to better position new items\r\n  const addItemToAR = (menuItem) => {\r\n    // Calculate position in a grid layout (2x2, 2x3, etc.)\r\n    const itemCount = arItems.length;\r\n    const spacing = 2; // Space between items\r\n    const row = Math.floor(itemCount / 2);\r\n    const col = itemCount % 2;\r\n    \r\n    const newItem = {\r\n        ...menuItem, \r\n        position: { \r\n        x: col * spacing - spacing/2, // Arrange in columns\r\n        y: 0,\r\n        z: -2 - (row * spacing)      // Arrange in rows, moving back\r\n      },\r\n      scale: 1,\r\n      rotation: { x: 0, y: 0, z: 0 }\r\n    };\r\n\r\n    setArItems(prev => [...prev, newItem]);\r\n    setAvailableItems(prev => prev.filter(item => item.id !== menuItem.id));\r\n    setShowItemSelector(false);\r\n    \r\n    // Load the new model\r\n    loadModel(newItem, arItems.length);\r\n  };\r\n\r\n  // Update the createLabel function to include nutritional information\r\n  const createLabel = (text, model, item) => {\r\n    const canvas = document.createElement('canvas');\r\n    const context = canvas.getContext('2d');\r\n    canvas.width = 512;\r\n    canvas.height = 256; // Increased height for additional information\r\n\r\n    // Create background with rounded corners\r\n    context.fillStyle = 'rgba(0, 0, 0, 0.85)';\r\n    roundRect(context, 0, 0, canvas.width, canvas.height, 20);\r\n    context.fill();\r\n\r\n    // Style for the text\r\n    context.textAlign = 'center';\r\n    context.textBaseline = 'middle';\r\n\r\n    // Item name\r\n    context.font = 'bold 48px Arial';\r\n    context.fillStyle = '#ffffff';\r\n    context.fillText(text, canvas.width/2, 50);\r\n\r\n    // Nutritional information\r\n    context.font = '28px Arial';\r\n    const nutritionInfo = [\r\n      `Calories: 266`,\r\n      `Protein: 12g`,\r\n      `Carbs: 34g`,\r\n      `Fat: 12g`\r\n    ];\r\n\r\n    // Draw nutrition info\r\n    nutritionInfo.forEach((info, index) => {\r\n      context.fillText(info, canvas.width/2, 100 + (index * 35));\r\n    });\r\n\r\n    // Create texture from canvas\r\n    const texture = new THREE.CanvasTexture(canvas);\r\n    const material = new THREE.SpriteMaterial({ \r\n      map: texture,\r\n      transparent: true,\r\n      opacity: 0.95\r\n    });\r\n    const sprite = new THREE.Sprite(material);\r\n    \r\n    // Position the label above the model\r\n    const modelBox = new THREE.Box3().setFromObject(model);\r\n    const modelHeight = modelBox.max.y - modelBox.min.y;\r\n    sprite.position.set(0, modelHeight + 1, 0); // Positioned higher for larger label\r\n    sprite.scale.set(2.5, 1.25, 1); // Adjusted scale for larger content\r\n\r\n    return sprite;\r\n  };\r\n\r\n  // Add this helper function for rounded rectangles\r\n  function roundRect(ctx, x, y, width, height, radius) {\r\n    ctx.beginPath();\r\n    ctx.moveTo(x + radius, y);\r\n    ctx.lineTo(x + width - radius, y);\r\n    ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\r\n    ctx.lineTo(x + width, y + height - radius);\r\n    ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\r\n    ctx.lineTo(x + radius, y + height);\r\n    ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\r\n    ctx.lineTo(x, y + radius);\r\n    ctx.quadraticCurveTo(x, y, x + radius, y);\r\n    ctx.closePath();\r\n  }\r\n\r\n  // Scale selected item\r\n  const scaleItem = (factor) => {\r\n    if (modelsRef.current[selectedItemIndex]) {\r\n      const currentScale = modelsRef.current[selectedItemIndex].scale.x;\r\n      const newScale = Math.max(0.5, Math.min(3, currentScale * factor));\r\n      modelsRef.current[selectedItemIndex].scale.setScalar(newScale);\r\n\r\n    setArItems(prev => {\r\n      const newItems = [...prev];\r\n      newItems[selectedItemIndex] = {\r\n          ...newItems[selectedItemIndex],\r\n          scale: newScale\r\n      };\r\n      return newItems;\r\n    });\r\n    }\r\n  };\r\n\r\n  // Update the handleMouseDown function to work with the container\r\n  const handleMouseDown = (event) => {\r\n    event.preventDefault();\r\n    \r\n    const rect = event.target.getBoundingClientRect();\r\n    const x = ((event.clientX - rect.left) / rect.width) * 2 - 1;\r\n    const y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\r\n    \r\n    dragRef.current.mouse.set(x, y);\r\n    dragRef.current.raycaster.setFromCamera(dragRef.current.mouse, cameraRef.current);\r\n    \r\n    // Check intersection with models (now checking the entire container)\r\n    const intersects = dragRef.current.raycaster.intersectObjects(\r\n      modelsRef.current.filter(Boolean),\r\n      true\r\n    );\r\n    \r\n    if (intersects.length > 0) {\r\n      // Find the container (parent) of the clicked object\r\n      let container = intersects[0].object;\r\n      while (container.parent && !modelsRef.current.includes(container)) {\r\n        container = container.parent;\r\n      }\r\n      \r\n      // Disable OrbitControls while dragging\r\n      if (controlsRef.current) {\r\n        controlsRef.current.enabled = false;\r\n      }\r\n      \r\n      dragRef.current.isDragging = true;\r\n      dragRef.current.selectedModel = container;\r\n      \r\n      // Set up the drag plane parallel to the camera\r\n      const cameraDirection = new THREE.Vector3();\r\n      cameraRef.current.getWorldDirection(cameraDirection);\r\n      dragRef.current.plane.setFromNormalAndCoplanarPoint(\r\n        cameraDirection,\r\n        container.position\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleMouseMove = (event) => {\r\n    if (!dragRef.current.isDragging || !dragRef.current.selectedModel) return;\r\n    \r\n    const rect = event.target.getBoundingClientRect();\r\n    const x = ((event.clientX - rect.left) / rect.width) * 2 - 1;\r\n    const y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\r\n    \r\n    dragRef.current.mouse.set(x, y);\r\n    dragRef.current.raycaster.setFromCamera(dragRef.current.mouse, cameraRef.current);\r\n    \r\n    // Calculate intersection with drag plane\r\n    if (dragRef.current.raycaster.ray.intersectPlane(\r\n      dragRef.current.plane,\r\n      dragRef.current.intersection\r\n    )) {\r\n      // Move the model to the new position\r\n      dragRef.current.selectedModel.position.copy(dragRef.current.intersection);\r\n      \r\n      // Update arItems state with the new position\r\n      const modelIndex = modelsRef.current.indexOf(dragRef.current.selectedModel);\r\n      if (modelIndex !== -1) {\r\n        setArItems(prev => {\r\n          const newItems = [...prev];\r\n          newItems[modelIndex] = {\r\n            ...newItems[modelIndex],\r\n            position: {\r\n              x: dragRef.current.intersection.x,\r\n              y: dragRef.current.intersection.y,\r\n              z: dragRef.current.intersection.z\r\n            }\r\n          };\r\n      return newItems;\r\n    });\r\n      }\r\n    }\r\n  };\r\n  \r\n  const handleMouseUp = () => {\r\n    dragRef.current.isDragging = false;\r\n    dragRef.current.selectedModel = null;\r\n    \r\n    // Re-enable OrbitControls after dragging\r\n    if (controlsRef.current) {\r\n      controlsRef.current.enabled = true;\r\n    }\r\n  };\r\n\r\n  const handleTouchStart = (event) => {\r\n    event.preventDefault();\r\n    const touch = event.touches[0];\r\n    handleMouseDown({ \r\n      preventDefault: () => {},\r\n      clientX: touch.clientX,\r\n      clientY: touch.clientY,\r\n      target: event.target\r\n    });\r\n  };\r\n\r\n  const handleTouchMove = (event) => {\r\n    const touch = event.touches[0];\r\n    handleMouseMove({\r\n      clientX: touch.clientX,\r\n      clientY: touch.clientY,\r\n      target: event.target\r\n    });\r\n  };\r\n  \r\n  const handleTouchEnd = handleMouseUp;\r\n  \r\n  // Update the selectModel function to handle the container\r\n  const selectModel = (modelIndex) => {\r\n    setSelectedItemIndex(modelIndex);\r\n    \r\n    // Highlight the selected model\r\n    modelsRef.current.forEach((container, index) => {\r\n      if (container) {\r\n        // Find the actual model in the container (first child)\r\n        const model = container.children[0];\r\n        model.traverse((child) => {\r\n          if (child.isMesh) {\r\n            child.material.emissive = new THREE.Color(\r\n              index === modelIndex ? 0x555555 : 0x000000\r\n            );\r\n          }\r\n        });\r\n      }\r\n    });\r\n  };\r\n  \r\n  // Update the requestDeviceMotionPermission function to use the handleDeviceMotion from component scope\r\n  const requestDeviceMotionPermission = async () => {\r\n    try {\r\n      if (typeof DeviceMotionEvent !== 'undefined' && \r\n          typeof DeviceMotionEvent.requestPermission === 'function') {\r\n        const permission = await DeviceMotionEvent.requestPermission();\r\n        if (permission === 'granted') {\r\n          window.addEventListener('devicemotion', handleDeviceMotion);\r\n        }\r\n      } else {\r\n        // For devices that don't require permission\r\n        window.addEventListener('devicemotion', handleDeviceMotion);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error requesting device motion permission:', error);\r\n    }\r\n  };\r\n\r\n  // Call this function when component mounts\r\n  useEffect(() => {\r\n    requestDeviceMotionPermission();\r\n    \r\n    return () => {\r\n      window.removeEventListener('devicemotion', handleDeviceMotion);\r\n    };\r\n  }, []);\r\n\r\n  // Add this function to check if there are multiple items\r\n  const hasMultipleItems = () => {\r\n    return menuItems.length > 1;\r\n  };\r\n\r\n  // Update the FloatingMenu component to show nutritional information\r\n  const FloatingMenu = () => (\r\n    <div className=\"ar-floating-menu\" style={{\r\n      position: 'fixed',\r\n      top: '50%',\r\n      left: '50%',\r\n      transform: 'translate(-50%, -50%)',\r\n      backgroundColor: 'white',\r\n      borderRadius: '15px',\r\n      padding: '20px',\r\n      boxShadow: '0 8px 16px rgba(0,0,0,0.2)',\r\n      maxWidth: '90%',\r\n      width: '400px',\r\n      maxHeight: '80vh',\r\n      overflowY: 'auto',\r\n      zIndex: 1001\r\n    }}>\r\n      <div className=\"ar-menu-header\" style={{\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        marginBottom: '20px',\r\n        borderBottom: '1px solid #eee',\r\n        paddingBottom: '10px'\r\n      }}>\r\n        <h3 style={{ fontSize: '20px', fontWeight: '600' }}>Add More Items to View</h3>\r\n        <button \r\n          onClick={() => setShowItemSelector(false)}\r\n          style={{\r\n            background: 'none',\r\n            border: 'none',\r\n            fontSize: '24px',\r\n            cursor: 'pointer',\r\n            color: '#666'\r\n          }}\r\n        >\r\n          <FaTimes />\r\n        </button>\r\n      </div>\r\n      \r\n      <div className=\"ar-menu-items\" style={{\r\n        display: 'grid',\r\n        gap: '15px'\r\n      }}>\r\n        {availableItems.length === 0 ? (\r\n          <div style={{\r\n            padding: '20px',\r\n            textAlign: 'center',\r\n            color: '#666',\r\n            backgroundColor: '#f9f9f9',\r\n            borderRadius: '10px'\r\n          }}>\r\n            All items have been added to the AR view\r\n          </div>\r\n        ) : (\r\n          availableItems.map(menuItem => (\r\n            <div \r\n              key={menuItem.id} \r\n              className=\"ar-menu-item\"\r\n              onClick={() => addItemToAR(menuItem)}\r\n              style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                padding: '15px',\r\n                backgroundColor: '#f8f9fa',\r\n                borderRadius: '10px',\r\n                cursor: 'pointer',\r\n                transition: 'all 0.2s ease',\r\n                ':hover': {\r\n                  transform: 'translateY(-2px)',\r\n                  boxShadow: '0 4px 8px rgba(0,0,0,0.1)'\r\n                }\r\n              }}\r\n            >\r\n              <div style={{ display: 'flex', alignItems: 'center', marginBottom: '10px' }}>\r\n                <img\r\n                  src={menuItem.image || '/images/default-food.png'} \r\n                  alt={menuItem.name}\r\n                  style={{\r\n                    width: '60px',\r\n                    height: '60px',\r\n                    objectFit: 'cover',\r\n                    borderRadius: '8px',\r\n                    marginRight: '15px'\r\n                  }}\r\n                />\r\n                <div style={{ flex: 1 }}>\r\n                  <div style={{\r\n                    fontWeight: '500',\r\n                    marginBottom: '4px'\r\n                  }}>{menuItem.name}</div>\r\n                  <div style={{\r\n                    color: '#4CAF50',\r\n                    fontWeight: '600'\r\n                  }}>â‚¹{menuItem.price.toFixed(2)}</div>\r\n                </div>\r\n                <FaPlus style={{\r\n                  color: '#2196F3',\r\n                  marginLeft: '10px'\r\n                }} />\r\n              </div>\r\n              \r\n              {/* Nutrition Information */}\r\n              <div style={{\r\n                backgroundColor: '#fff',\r\n                padding: '10px',\r\n                borderRadius: '8px',\r\n                marginTop: '5px'\r\n              }}>\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '8px' }}>\r\n                  <div style={{ color: '#666' }}>\r\n                    <span style={{ fontWeight: '500' }}>Calories:</span> {menuItem.calories || 'N/A'}\r\n                  </div>\r\n                  <div style={{ color: '#666' }}>\r\n                    <span style={{ fontWeight: '500' }}>Protein:</span> {menuItem.protein || 'N/A'}g\r\n                  </div>\r\n                  <div style={{ color: '#666' }}>\r\n                    <span style={{ fontWeight: '500' }}>Carbs:</span> {menuItem.carbs || 'N/A'}g\r\n                  </div>\r\n                  <div style={{ color: '#666' }}>\r\n                    <span style={{ fontWeight: '500' }}>Fat:</span> {menuItem.fat || 'N/A'}g\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  useEffect(() => {\r\n    console.log('Available items:', availableItems);\r\n    console.log('Menu items:', menuItems);\r\n  }, [availableItems, menuItems]);\r\n\r\n  return (\r\n    <div className=\"ar-view-container\">\r\n      <button className=\"ar-close-btn\" onClick={onClose}>\r\n        <FaTimes />\r\n      </button>\r\n      \r\n      <div className=\"ar-scene-container\" ref={containerRef}>\r\n        <canvas className=\"ar-canvas\"></canvas>\r\n      </div>\r\n      \r\n      {isLoading && (\r\n        <div className=\"ar-loading-overlay\">\r\n          <div className=\"ar-spinner\"></div>\r\n          <p>Initializing AR view...</p>\r\n        </div>\r\n      )}\r\n      \r\n      {error && (\r\n        <div className=\"ar-error\">\r\n          <p>{error}</p>\r\n          <div className=\"ar-error-buttons\">\r\n            <button onClick={handleRetry} className=\"retry-btn\">\r\n              Try Again\r\n            </button>\r\n            <button onClick={onClose} className=\"close-btn\">\r\n              Close AR View\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {!isLoading && !error && (\r\n        <>\r\n          {/* Add More Items Button */}\r\n          {hasMultipleItems() && availableItems.length > 0 && (\r\n            <button \r\n              onClick={() => setShowItemSelector(!showItemSelector)}\r\n              style={{\r\n                position: 'fixed',\r\n                bottom: '160px',\r\n                left: '50%',\r\n                transform: 'translateX(-50%)',\r\n                backgroundColor: '#2196F3',\r\n                color: 'white',\r\n                padding: '12px 24px',\r\n                borderRadius: '25px',\r\n                border: 'none',\r\n                boxShadow: '0 4px 8px rgba(0,0,0,0.2)',\r\n                cursor: 'pointer',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '8px',\r\n                fontSize: '16px',\r\n                fontWeight: '500',\r\n                zIndex: 1000,\r\n                width: 'auto',\r\n                minWidth: '200px',\r\n                justifyContent: 'center'\r\n              }}\r\n            >\r\n              <FaPlus /> Add More Items ({availableItems.length} available)\r\n            </button>\r\n          )}\r\n\r\n          {/* Scale controls */}\r\n          <div className=\"ar-controls\">\r\n            <div className=\"ar-item-controls\">\r\n              <button className=\"ar-control-btn\" onClick={() => scaleItem(1.2)}>\r\n                <FaPlus />\r\n              </button>\r\n              <button className=\"ar-control-btn\" onClick={() => scaleItem(0.8)}>\r\n                <FaMinus />\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          {showItemSelector && <FloatingMenu />}\r\n        </>\r\n      )}\r\n      \r\n      <div className=\"ar-instructions\">\r\n        <p>Move device closer or further to zoom</p>\r\n        <p>Tap and drag to move items</p>\r\n        <p>Use two fingers to rotate view</p>\r\n        <p>Use + and - buttons to adjust base size</p>\r\n        {hasMultipleItems() && availableItems.length > 0 && (\r\n          <p style={{ color: '#4CAF50', fontWeight: 'bold' }}>\r\n            Tap the green + button to add more items\r\n          </p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ARView; ","import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { FaSearch, FaShoppingCart, FaLeaf, FaInfoCircle, FaTimes, FaGlobeAmericas, FaListUl, FaHeartbeat, FaExclamationTriangle, FaSpinner, FaCamera, FaCube } from 'react-icons/fa';\r\nimport { GiMeat, GiCookingPot } from 'react-icons/gi';\r\nimport { MdRestaurantMenu } from 'react-icons/md';\r\nimport './MenuDisplay.css';\r\nimport Header from '../../components/Header';\r\nimport Swal from 'sweetalert2';\r\nimport {jwtDecode}from 'jwt-decode';\r\nimport Footer from '../../components/footer';\r\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\r\nimport ARView from './ARView';\r\nimport { processImageForAR } from '../../utils/arUtils';\r\nimport './ARStyles.css';\r\n\r\nconst MenuDisplay = ({ addToCart }) => {\r\n  const [menuItems, setMenuItems] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState('all');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const token = localStorage.getItem('token');\r\n  const [dishInfo, setDishInfo] = useState(null);\r\n  const [isInfoLoading, setIsInfoLoading] = useState(false);\r\n  const [selectedDishName, setSelectedDishName] = useState(null);\r\n  const [isImageSearching, setIsImageSearching] = useState(false);\r\n  const [imageSearchError, setImageSearchError] = useState(null);\r\n  const fileInputRef = useRef(null);\r\n  const [showAR, setShowAR] = useState(false);\r\n  const [selectedARItem, setSelectedARItem] = useState(null);\r\n  const [isProcessingAR, setIsProcessingAR] = useState(false);\r\n  const [isRecognizing, setIsRecognizing] = useState(false);\r\n  const [recognitionError, setRecognitionError] = useState(null);\r\n  const imageInputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        const menuResponse = await axios.get(`${import.meta.env.VITE_API}/user/restaurant/menuitems`);\r\n        setMenuItems(Array.isArray(menuResponse.data) ? menuResponse.data : []);\r\n        console.log(\"menuResponse\",menuResponse.data)\r\n\r\n        const categoryResponse = await axios.get(`${import.meta.env.VITE_API}/user/restaurant/categoriess`);\r\n        setCategories(Array.isArray(categoryResponse.data) ? categoryResponse.data : []);\r\n\r\n      } catch (err) {\r\n        console.error('Error fetching data:', err);\r\n        setError('Failed to load menu data. Please try again later.');\r\n        setMenuItems([]);\r\n        setCategories([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const filteredItems = Array.isArray(menuItems) ? menuItems.filter(item => {\r\n    const matchesCategory = selectedCategory === 'all' || item.category === selectedCategory;\r\n    const matchesSearch = item.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         item.description.toLowerCase().includes(searchTerm.toLowerCase());\r\n    return matchesCategory && matchesSearch;\r\n  }) : [];\r\n\r\n  const getUserIdFromToken = () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) return null;\r\n      \r\n      const decoded = jwtDecode(token);\r\n      return decoded._id;\r\n    } catch (error) {\r\n      console.error('Error decoding token:', error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleAddToCart = async (item) => {\r\n    try {\r\n      const userId = getUserIdFromToken();\r\n      \r\n      if (!userId) {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Authentication Required',\r\n          text: 'Please login to add items to cart',\r\n          showConfirmButton: true,\r\n          position: 'center'\r\n        });\r\n        return;\r\n      }\r\n\r\n      const cartItem = {\r\n        itemTitle: item.name,\r\n        image: item.image,\r\n        rating: item.rating || 5,\r\n        price: item.price,\r\n        quantity: 1,\r\n        subTotal: item.price,\r\n        menuItemId: item._id,\r\n        availableQuantity: item.availableQuantity || 100,\r\n        userId: userId,\r\n        specialInstructions: ''\r\n      };\r\n\r\n    \r\n\r\n      const response = await axios.post(\r\n        `${import.meta.env.VITE_API}/user/restaurant/cart/add`,\r\n        cartItem,\r\n        \r\n      );\r\n\r\n      if (response.data.success) {\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: 'Added to Cart!',\r\n          text: `${item.name} has been added to your cart`,\r\n          showConfirmButton: false,\r\n          timer: 2500,\r\n          position: 'top-end',\r\n          toast: true,\r\n          background: '#4caf50',\r\n          color: '#fff',\r\n          customClass: {\r\n            popup: 'colored-toast'\r\n          }\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error adding to cart:', error);\r\n      \r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Oops...',\r\n        text: error.response?.data?.message || 'Failed to add item to cart',\r\n        showConfirmButton: true,\r\n        position: 'center',\r\n        background: '#fff',\r\n        confirmButtonColor: '#4caf50'\r\n      });\r\n    }\r\n  };\r\n\r\n  const generateContent = async (prompt, apiKey) => {\r\n    try {\r\n      const genAI = new GoogleGenerativeAI(apiKey);\r\n      const model = genAI.getGenerativeModel({ model: \"gemini-1.5-pro-latest\" });\r\n\r\n      try {\r\n        const result = await model.generateContent({\r\n          contents: [{\r\n            parts: [{\r\n              text: prompt\r\n            }]\r\n          }],\r\n          generationConfig: {\r\n            temperature: 0.7,\r\n            topK: 40,\r\n            topP: 0.95,\r\n            maxOutputTokens: 2048\r\n          }\r\n        });\r\n\r\n        const response = await result.response;\r\n        const text = response.text();\r\n        \r\n        // Clean the response text\r\n        const cleanText = text\r\n          .replace(/```json\\s*|\\s*```/g, '') // Remove markdown code blocks\r\n          .replace(/^\\s+|\\s+$/g, ''); // Remove leading/trailing whitespace\r\n        \r\n        try {\r\n          return JSON.parse(cleanText);\r\n        } catch (parseError) {\r\n          console.error('JSON Parse Error:', parseError);\r\n          throw new Error('Failed to parse AI response as JSON');\r\n        }\r\n      } catch (error) {\r\n        if (error.message?.includes('not found') || error.message?.includes('404')) {\r\n          console.log('Falling back to gemini-pro');\r\n          const fallbackModel = genAI.getGenerativeModel({ model: \"gemini-pro\" });\r\n          const fallbackResult = await fallbackModel.generateContent({\r\n            contents: [{\r\n              parts: [{\r\n                text: prompt\r\n              }]\r\n            }],\r\n            generationConfig: {\r\n              temperature: 0.7,\r\n              topK: 40,\r\n              topP: 0.95,\r\n              maxOutputTokens: 2048\r\n            }\r\n          });\r\n          \r\n          const fallbackResponse = await fallbackResult.response;\r\n          const fallbackText = fallbackResponse.text()\r\n            .replace(/```json\\s*|\\s*```/g, '')\r\n            .replace(/^\\s+|\\s+$/g, '');\r\n          \r\n          return JSON.parse(fallbackText);\r\n        }\r\n        throw error;\r\n      }\r\n    } catch (error) {\r\n      console.error('Generation error:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const getDishInfo = async (dishName) => {\r\n    setIsInfoLoading(true);\r\n    setSelectedDishName(dishName);\r\n    try {\r\n      const prompt = `Generate a JSON object with detailed culinary information about \"${dishName}\". Return ONLY the JSON object with no additional text or formatting. The JSON structure should be:\r\n      {\r\n        \"origin\": {\r\n          \"country\": \"country name\",\r\n          \"region\": \"region name\",\r\n          \"history\": \"brief history\"\r\n        },\r\n        \"ingredients\": {\r\n          \"mainIngredients\": [\"ingredient1\", \"ingredient2\"],\r\n          \"spicesAndHerbs\": [\"spice1\", \"spice2\"],\r\n          \"alternatives\": [\"alt1\", \"alt2\"]\r\n        },\r\n        \"nutrition\": {\r\n          \"calories\": \"number per serving\",\r\n          \"protein\": \"grams per serving\",\r\n          \"carbs\": \"grams per serving\",\r\n          \"fats\": \"grams per serving\",\r\n          \"vitamins\": [\"vitamin1\", \"vitamin2\"],\r\n          \"minerals\": [\"mineral1\", \"mineral2\"]\r\n        },\r\n        \"dietaryInfo\": {\r\n          \"isVegetarian\": true or false,\r\n          \"isVegan\": true or false,\r\n          \"isGlutenFree\": true or false,\r\n          \"allergens\": [\"allergen1\", \"allergen2\"]\r\n        }\r\n      }`;\r\n\r\n      const GEMINI_API_KEY = import.meta.env.VITE_GEMINI_API_KEY;\r\n      if (!GEMINI_API_KEY) {\r\n        throw new Error('Gemini API key is not configured');\r\n      }\r\n\r\n      const result = await generateContent(prompt, GEMINI_API_KEY);\r\n      setDishInfo(result);\r\n    } catch (error) {\r\n      console.error('Error fetching dish information:', error);\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Error Fetching Information',\r\n        text: 'Unable to get dish information at this time. Please try again later.',\r\n        footer: import.meta.env.DEV ? error.message : null\r\n      });\r\n    } finally {\r\n      setIsInfoLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleClosePopup = () => {\r\n    setDishInfo(null);\r\n    setSelectedDishName(null);\r\n  };\r\n\r\n  const InfoPopup = ({ info, onClose, dishName }) => {\r\n    if (!info) return null;\r\n\r\n    return (\r\n      <div className=\"dish-info-popup\">\r\n        <div className=\"popup-content\">\r\n          <button \r\n            onClick={onClose}\r\n            className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors\"\r\n          >\r\n            <FaTimes size={24} />\r\n          </button>\r\n\r\n          <div className=\"text-center mb-6 popup-header\">\r\n            <MdRestaurantMenu className=\"mx-auto text-4xl text-orange-500 mb-2\" />\r\n            <h1 className=\"text-2xl font-bold text-gray-900 mb-1\">{dishName}</h1>\r\n            <h2 className=\"text-xl font-semibold text-gray-700\">Dish Information</h2>\r\n          </div>\r\n\r\n          <div className=\"space-y-6\">\r\n            <div className=\"text-center mb-6\">\r\n              <MdRestaurantMenu className=\"mx-auto text-4xl text-orange-500 mb-2\" />\r\n              <h2 className=\"text-3xl font-bold text-gray-800\">Dish Information</h2>\r\n            </div>\r\n\r\n            <section className=\"info-section section-origin\">\r\n              <div className=\"section-header\">\r\n                <FaGlobeAmericas className=\"section-icon text-blue-500\" />\r\n                <h3>Origin & History</h3>\r\n              </div>\r\n              <div className=\"ml-7\">\r\n                <p className=\"text-gray-700\">\r\n                  <span className=\"font-medium\">Country:</span> {info.origin.country}<br/>\r\n                  <span className=\"font-medium\">Region:</span> {info.origin.region}<br/>\r\n                  <span className=\"font-medium\">History:</span> {info.origin.history}\r\n                </p>\r\n              </div>\r\n            </section>\r\n\r\n            <section className=\"info-section section-ingredients\">\r\n              <div className=\"section-header\">\r\n                <FaListUl className=\"section-icon text-green-500\" />\r\n                <h3>Ingredients</h3>\r\n              </div>\r\n              <div className=\"grid md:grid-cols-2 gap-4 ml-7\">\r\n                <div>\r\n                  <h4 className=\"font-medium text-gray-700 mb-2\">Main Ingredients:</h4>\r\n                  <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\r\n                    {info.ingredients.mainIngredients.map((ing, idx) => (\r\n                      <li key={idx}>{ing}</li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"font-medium text-gray-700 mb-2\">Spices & Herbs:</h4>\r\n                  <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\r\n                    {info.ingredients.spicesAndHerbs.map((spice, idx) => (\r\n                      <li key={idx}>{spice}</li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </section>\r\n\r\n            <section className=\"info-section section-nutrition\">\r\n              <div className=\"section-header\">\r\n                <FaHeartbeat className=\"section-icon text-purple-500\" />\r\n                <h3>Nutrition Facts</h3>\r\n              </div>\r\n              <div className=\"grid md:grid-cols-2 gap-6 ml-7\">\r\n                <div className=\"bg-white rounded-lg p-4 shadow-sm\">\r\n                  <div className=\"space-y-2\">\r\n                    <p className=\"text-gray-700\"><span className=\"font-medium\">Calories:</span> {info.nutrition.calories}</p>\r\n                    <p className=\"text-gray-700\"><span className=\"font-medium\">Protein:</span> {info.nutrition.protein}</p>\r\n                    <p className=\"text-gray-700\"><span className=\"font-medium\">Carbs:</span> {info.nutrition.carbs}</p>\r\n                    <p className=\"text-gray-700\"><span className=\"font-medium\">Fats:</span> {info.nutrition.fats}</p>\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"font-medium text-gray-700 mb-2\">Vitamins & Minerals:</h4>\r\n                  <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\r\n                    {info.nutrition.vitamins.map((vitamin, idx) => (\r\n                      <li key={idx}>{vitamin}</li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </section>\r\n\r\n            <section className=\"info-section section-dietary\">\r\n              <div className=\"section-header\">\r\n                <GiCookingPot className=\"section-icon text-yellow-600\" />\r\n                <h3>Dietary Information</h3>\r\n              </div>\r\n              <div className=\"ml-7\">\r\n                <div className=\"flex flex-wrap gap-3 mb-3\">\r\n                  {info.dietaryInfo.isVegetarian && (\r\n                    <span className=\"bg-green-100 text-green-800 px-4 py-1 rounded-full text-sm font-medium flex items-center gap-1\">\r\n                      <FaLeaf /> Vegetarian\r\n                    </span>\r\n                  )}\r\n                  {info.dietaryInfo.isVegan && (\r\n                    <span className=\"bg-green-100 text-green-800 px-4 py-1 rounded-full text-sm font-medium flex items-center gap-1\">\r\n                      <FaLeaf /> Vegan\r\n                    </span>\r\n                  )}\r\n                  {info.dietaryInfo.isGlutenFree && (\r\n                    <span className=\"bg-blue-100 text-blue-800 px-4 py-1 rounded-full text-sm font-medium flex items-center gap-1\">\r\n                      <GiMeat /> Gluten Free\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                {info.dietaryInfo.allergens.length > 0 && (\r\n                  <div className=\"mt-3\">\r\n                    <div className=\"flex items-center gap-2 text-orange-600 mb-2\">\r\n                      <FaExclamationTriangle />\r\n                      <h4 className=\"font-medium\">Allergens:</h4>\r\n                    </div>\r\n                    <p className=\"text-gray-700\">{info.dietaryInfo.allergens.join(', ')}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </section>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleImageSearch = async (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n\r\n    setIsImageSearching(true);\r\n    setImageSearchError(null);\r\n    setSearchTerm('');\r\n\r\n    try {\r\n      const genAI = new GoogleGenerativeAI(import.meta.env.VITE_GEMINI_API_KEY);\r\n      \r\n      // Update to use gemini-1.5-pro-vision-latest\r\n      const model = genAI.getGenerativeModel({ model: \"gemini-1.5-pro-vision-latest\" });\r\n\r\n      const base64Image = await fileToBase64(file);\r\n\r\n      const imagePart = {\r\n        inlineData: {\r\n          data: base64Image,\r\n          mimeType: file.type\r\n        }\r\n      };\r\n\r\n      try {\r\n        // Try with Gemini 1.5\r\n        const result = await model.generateContent([prompt, imagePart]);\r\n        const response = await result.response;\r\n        const identifiedFood = response.text().trim();\r\n        \r\n        // Process the result...\r\n        const matchingItems = menuItems.filter(item => \r\n          item.name.toLowerCase().includes(identifiedFood.toLowerCase()) ||\r\n          item.description.toLowerCase().includes(identifiedFood.toLowerCase())\r\n        );\r\n\r\n        if (matchingItems.length === 0) {\r\n          setImageSearchError('No matching menu items found');\r\n        } else {\r\n          setSearchTerm(identifiedFood);\r\n        }\r\n      } catch (error) {\r\n        if (error.message?.includes('not found') || error.message?.includes('404')) {\r\n          // Fallback to gemini-pro-vision if 1.5 is not available\r\n          console.log('Falling back to gemini-pro-vision');\r\n          const fallbackModel = genAI.getGenerativeModel({ model: \"gemini-pro-vision\" });\r\n          const fallbackResult = await fallbackModel.generateContent([prompt, imagePart]);\r\n          const fallbackResponse = await fallbackResult.response;\r\n          const identifiedFood = fallbackResponse.text().trim();\r\n          \r\n          // Process the fallback result...\r\n          const matchingItems = menuItems.filter(item => \r\n            item.name.toLowerCase().includes(identifiedFood.toLowerCase()) ||\r\n            item.description.toLowerCase().includes(identifiedFood.toLowerCase())\r\n          );\r\n\r\n          if (matchingItems.length === 0) {\r\n            setImageSearchError('No matching menu items found');\r\n          } else {\r\n            setSearchTerm(identifiedFood);\r\n          }\r\n        } else {\r\n          throw error;\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Image search error:', error);\r\n      setImageSearchError('Failed to process image search. Please try again.');\r\n    } finally {\r\n      setIsImageSearching(false);\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n    }\r\n  };\r\n\r\n  // Helper function to convert File to base64\r\n  const fileToBase64 = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        // Remove data URL prefix (e.g., \"data:image/jpeg;base64,\")\r\n        const base64 = reader.result.split(',')[1];\r\n        resolve(base64);\r\n      };\r\n      reader.onerror = (error) => reject(error);\r\n    });\r\n  };\r\n\r\n  const handleViewInAR = async (item) => {\r\n    // Ensure we have a valid image URL\r\n    if (!item.image) {\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Cannot Show in AR',\r\n        text: 'This item does not have an image available.',\r\n        showConfirmButton: true,\r\n        position: 'center'\r\n      });\r\n      return;\r\n    }\r\n\r\n    setIsProcessingAR(true);\r\n    \r\n    try {\r\n      // For testing, we'll use the pizza.glb model\r\n      const modelPath = '/models/pizza.glb';\r\n      \r\n      // In a production app, you might want to map food items to specific models\r\n      // const modelPath = getModelPathForItem(item.name);\r\n      \r\n      // Set the selected item for AR view with the model path\r\n      setSelectedARItem({...item, modelPath});\r\n      setShowAR(true);\r\n    } catch (error) {\r\n      console.error('Error preparing AR view:', error);\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'AR View Failed',\r\n        text: 'Could not initialize AR view. Please try again.',\r\n        showConfirmButton: true,\r\n        position: 'center'\r\n      });\r\n    } finally {\r\n      setIsProcessingAR(false);\r\n    }\r\n  };\r\n\r\n  const handleFoodRecognition = async (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n\r\n    setIsRecognizing(true);\r\n    setRecognitionError(null);\r\n    setSearchTerm('');\r\n\r\n    try {\r\n        const formData = new FormData();\r\n        formData.append('image', file);\r\n\r\n        const response = await axios.post(\r\n            `${import.meta.env.VITE_API}/api/image-recognition/recognize-food`,\r\n            formData,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            }\r\n        );\r\n\r\n        if (response.data.success) {\r\n            // Extract only the part before the comma\r\n            const recognizedFood = response.data.category.split(',')[0].trim();\r\n            \r\n            // Filter menu items based on recognized food\r\n            const matchingItems = menuItems.filter(menuItem => \r\n                menuItem.name.toLowerCase().includes(recognizedFood.toLowerCase()) ||\r\n                menuItem.description.toLowerCase().includes(recognizedFood.toLowerCase())\r\n            );\r\n            \r\n            console.log(\"Recognized food:\", recognizedFood);\r\n            console.log(\"Matching items found:\", matchingItems.length);\r\n            \r\n            if (matchingItems.length === 0) {\r\n                setRecognitionError('No matching menu items found');\r\n            } else {\r\n                setSearchTerm(recognizedFood);\r\n                \r\n                // Show success message\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                    title: 'Food Recognized!',\r\n                    text: `Looks like ${recognizedFood}. Showing matching items...`,\r\n                    timer: 2000,\r\n                    showConfirmButton: false\r\n                });\r\n            }\r\n        } else {\r\n            throw new Error('Recognition failed');\r\n        }\r\n    } catch (error) {\r\n        console.error('Food recognition error:', error);\r\n        setRecognitionError('Failed to recognize food. Please try again.');\r\n        \r\n        Swal.fire({\r\n            icon: 'error',\r\n            title: 'Recognition Failed',\r\n            text: 'Unable to recognize the food in the image. Please try again.',\r\n            showConfirmButton: true\r\n        });\r\n    } finally {\r\n        setIsRecognizing(false);\r\n        if (imageInputRef.current) {\r\n            imageInputRef.current.value = '';\r\n        }\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Loading menu...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"error-container\">\r\n        <p className=\"error-message\">{error}</p>\r\n        <button onClick={() => window.location.reload()}>\r\n          Try Again\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className='menunav'>\r\n        <Header title=\"Guest Information\" subtitle=\"Fill in guest details\" />\r\n      </div>\r\n      \r\n      {/* Login Prompt Banner - Show only when not logged in */}\r\n      {!token && (\r\n        <div className=\"login-prompt-banner\">\r\n          <div className=\"banner-content\">\r\n            <FaShoppingCart className=\"banner-icon\" />\r\n            <p>Please <a href=\"/signup\">login</a> to add items to your cart</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"menu-display\">\r\n        <div className=\"menu-banner\">\r\n          <div className=\"banner-overlay\">\r\n            <h1>Our Menu</h1>\r\n            <p>Discover our delicious offerings</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"menu-container\">\r\n          <div className=\"search-filter-section\">\r\n            <div className=\"search-bar-container\">\r\n              <div className=\"search-bar\">\r\n                <FaSearch />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search menu...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"image-recognition\">\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={handleFoodRecognition}\r\n                  className=\"hidden\"\r\n                  ref={imageInputRef}\r\n                  id=\"imageRecognitionInput\"\r\n                />\r\n                <button\r\n                  onClick={() => imageInputRef.current?.click()}\r\n                  className=\"image-recognition-btn\"\r\n                  disabled={isRecognizing}\r\n                  title=\"Recognize food from image\"\r\n                >\r\n                  {isRecognizing ? (\r\n                    <FaSpinner className=\"animate-spin\" />\r\n                  ) : (\r\n                    <FaCamera />\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {recognitionError && (\r\n              <div className=\"text-red-500 text-sm mt-2\">\r\n                {recognitionError}\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"category-filter\">\r\n              <button\r\n                className={selectedCategory === 'all' ? 'active' : ''}\r\n                onClick={() => setSelectedCategory('all')}\r\n              >\r\n                All\r\n              </button>\r\n              {categories.map(category => (\r\n                <button\r\n                  key={category}\r\n                  className={selectedCategory === category ? 'active' : ''}\r\n                  onClick={() => setSelectedCategory(category)}\r\n                >\r\n                  {category}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"menu-items-grid\">\r\n            {filteredItems.length > 0 ? (\r\n              filteredItems.map(item => (\r\n                <div key={item._id} className=\"menu-item\">\r\n                  <div className=\"item-image-wrapper\">\r\n                    <img \r\n                      src={item.image} \r\n                      alt={item.name}\r\n                      className=\"menu-image\"\r\n                      onError={(e) => {\r\n                        e.target.src = '/default-food-image.jpg';\r\n                      }}\r\n                    />\r\n                    <div className=\"food-type-indicator\">\r\n                      {item.foodtype === 'Veg' ? (\r\n                        <div className=\"veg-icon\">\r\n                          <FaLeaf style={{ color: 'green' }} />\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"non-veg-icon\">\r\n                          <GiMeat style={{ color: 'red' }} />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"item-content\">\r\n                    <div className=\"item-header\">\r\n                      <h3>{item.name}</h3>\r\n                      <div className=\"item-actions\">\r\n                        <button \r\n                          onClick={() => getDishInfo(item.name)}\r\n                          className=\"info-btn\"\r\n                          disabled={isInfoLoading}\r\n                        >\r\n                          {isInfoLoading ? (\r\n                            <FaSpinner className=\"animate-spin\" />\r\n                          ) : (\r\n                            <FaInfoCircle />\r\n                          )}\r\n                        </button>\r\n                        <button \r\n                          onClick={() => handleViewInAR(item)}\r\n                          className=\"ar-btn\"\r\n                          disabled={isProcessingAR}\r\n                        >\r\n                          {isProcessingAR ? (\r\n                            <FaSpinner className=\"animate-spin\" />\r\n                          ) : (\r\n                            <FaCube />\r\n                          )}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    <p className=\"item-description\">{item.description}</p>\r\n                    <div className=\"item-footer\">\r\n                      <span className=\"price\">â‚¹{item.price.toFixed(2)}</span>\r\n                      {token && (\r\n                        <button \r\n                          onClick={() => handleAddToCart(item)}\r\n                          className=\"add-to-cart-btn\"\r\n                          id=\"add\"\r\n                        >\r\n                          <FaShoppingCart /> Add\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div className=\"no-items-message\">\r\n                <p>No menu items found. Please try a different search or category.</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className='footer'>\r\n      <Footer/>\r\n    </div>\r\n\r\n      {dishInfo && (\r\n        <InfoPopup \r\n          info={dishInfo} \r\n          onClose={handleClosePopup}\r\n          dishName={selectedDishName}\r\n        />\r\n      )}\r\n\r\n      {/* AR View Overlay */}\r\n      {showAR && selectedARItem && (\r\n        <ARView\r\n          item={selectedARItem}\r\n          onClose={() => {\r\n            setShowAR(false);\r\n            setSelectedARItem(null);\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MenuDisplay;","import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { FaTrash, FaMinus, FaPlus, FaShoppingCart, FaDrumstickBite, FaLeaf } from 'react-icons/fa';\r\nimport './CartManagement.css';\r\nimport Header from '../../components/Header';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport { jwtDecode } from 'jwt-decode';\r\nimport Footer from '../../components/footer';\r\nimport useAuth from '../../src/useAuth';\r\n\r\nconst CartManagement = () => {\r\n  useAuth();\r\n  const navigate = useNavigate();\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [specialInstructions, setSpecialInstructions] = useState({});\r\n  const [showInstructions, setShowInstructions] = useState({});\r\n  const [orderType, setOrderType] = useState('');\r\n  const [dineInPreferences, setDineInPreferences] = useState({\r\n    preferredTime: '',\r\n    tableLocation: '',\r\n    numberOfGuests: 1\r\n  });\r\n  const [tableReservations, setTableReservations] = useState([]);\r\n  const [selectedReservation, setSelectedReservation] = useState(null);\r\n  const [isLoadingReservations, setIsLoadingReservations] = useState(false);\r\n  const [bookedRooms, setBookedRooms] = useState([]);\r\n  const [selectedRoom, setSelectedRoom] = useState('');\r\n  const [selectedRoomId, setSelectedRoomId] = useState('');\r\n  const [selectedRoomReservationId, setSelectedRoomReservationId] = useState('');\r\n  const [isLoadingRooms, setIsLoadingRooms] = useState(false);\r\n\r\n  const getUserIdFromToken = () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) return null;\r\n      const decoded = jwtDecode(token);\r\n      return decoded._id;\r\n    } catch (error) {\r\n      console.error('Error decoding token:', error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Fetch cart items\r\n  const fetchCartItems = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const userId = getUserIdFromToken();\r\n      if (!userId) {\r\n        throw new Error('User not authenticated');\r\n      }\r\n\r\n      const response = await axios.get(\r\n        `${import.meta.env.VITE_API}/user/restaurant/cart/${userId}`\r\n      );\r\n      console.log('API Response:', response.data);\r\n      setCartItems(response.data.data.items);\r\n    } catch (error) {\r\n      console.error('Error fetching cart:', error);\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Error',\r\n        text: 'Failed to load cart items'\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCartItems();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log('Cart Items:', cartItems);\r\n  }, [cartItems]);\r\n\r\n  // Update quantity\r\n  const updateQuantity = async (cartItemId, newQuantity) => {\r\n    try {\r\n      const cartItem = cartItems.find(item => item._id === cartItemId);\r\n      if (!cartItem) return;\r\n  \r\n      // Check if new quantity is within available limits\r\n      if (newQuantity < 1 || newQuantity > cartItem.menuItemId.availableQuantity) {\r\n        Swal.fire({\r\n          icon: 'warning',\r\n          title: 'Invalid Quantity',\r\n          text: newQuantity > cartItem.menuItemId.availableQuantity ? \r\n            `Only ${cartItem.menuItemId.availableQuantity} items available` : \r\n            'Minimum quantity is 1'\r\n        });\r\n        return;\r\n      }\r\n  \r\n      await axios.put(\r\n        `${import.meta.env.VITE_API}/user/restaurant/cart/update/${cartItemId}`,\r\n        { quantity: newQuantity }\r\n      );\r\n  \r\n      fetchCartItems(); // Refresh cart items\r\n    } catch (error) {\r\n      console.error('Error updating quantity:', error);\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Error',\r\n        text: 'Failed to update quantity'\r\n      });\r\n    }\r\n  };\r\n  // const updateQuantity = async (cartItemId, newQuantity) => {\r\n  //   try {\r\n  //     if (newQuantity < 1) return;\r\n\r\n  //     await axios.put(\r\n  //       `${import.meta.env.VITE_API}/user/restaurant/cart/update/${cartItemId}`,\r\n  //       { quantity: newQuantity }\r\n  //     );\r\n\r\n  //     fetchCartItems(); // Refresh cart items\r\n  //   } catch (error) {\r\n  //     console.error('Error updating quantity:', error);\r\n  //     Swal.fire({\r\n  //       icon: 'error',\r\n  //       title: 'Error',\r\n  //       text: 'Failed to update quantity'\r\n  //     });\r\n  //   }\r\n  // };\r\n\r\n  // Remove item from cart\r\n  const removeFromCart = async (cartItemId) => {\r\n    console.log('Removing item:', cartItemId);\r\n    try {\r\n      const result = await Swal.fire({\r\n        title: 'Remove Item?',\r\n        text: 'Are you sure you want to remove this item from your cart?',\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#d33',\r\n        cancelButtonColor: '#3085d6',\r\n        confirmButtonText: 'Yes, remove it!'\r\n      });\r\n\r\n      if (result.isConfirmed) {\r\n        await axios.delete(\r\n          `${import.meta.env.VITE_API}/user/restaurant/cart/remove/${cartItemId}`\r\n        );\r\n        \r\n        Swal.fire('Removed!', 'Item has been removed from cart.', 'success');\r\n        fetchCartItems(); // Refresh cart items\r\n      }\r\n    } catch (error) {\r\n      console.error('Error removing item:', error);\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Error',\r\n        text: 'Failed to remove item from cart'\r\n      });\r\n    }\r\n  };\r\n\r\n  // Calculate totals with null checks\r\n  const calculateSubtotal = () => {\r\n    return cartItems.reduce((total, item) => total + (item.subTotal || 0), 0);\r\n  };\r\n\r\n  const calculateTax = () => {\r\n    return calculateSubtotal() * 0.1; // 10% tax\r\n  };\r\n\r\n  const calculateTotal = () => {\r\n    return calculateSubtotal() + calculateTax();\r\n  };\r\n\r\n  // Add this function at the top of your component\r\n  const loadRazorpayScript = () => {\r\n    return new Promise((resolve) => {\r\n      const script = document.createElement('script');\r\n      script.src = 'https://checkout.razorpay.com/v1/checkout.js';\r\n      script.onload = () => {\r\n        resolve(true);\r\n      };\r\n      script.onerror = () => {\r\n        resolve(false);\r\n      };\r\n      document.body.appendChild(script);\r\n    });\r\n  };\r\n\r\n  // Add this useEffect to fetch booked rooms when delivery is selected\r\n  useEffect(() => {\r\n    const fetchBookedRooms = async () => {\r\n      if (orderType === 'delivery') {\r\n        try {\r\n          setIsLoadingRooms(true);\r\n          const userId = getUserIdFromToken();\r\n          const response = await axios.get(\r\n            `${import.meta.env.VITE_API}/user/booked-rooms/${userId}`\r\n          );\r\n          \r\n          setBookedRooms(response.data.data);\r\n          console.log(\"Booked rooms:\", response.data.data);\r\n        } catch (error) {\r\n          console.error('Error fetching booked rooms:', error);\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Error',\r\n            text: 'Failed to load booked rooms'\r\n          });\r\n        } finally {\r\n          setIsLoadingRooms(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchBookedRooms();\r\n  }, [orderType]);\r\n\r\n  // Add room selection handler\r\n  const handleRoomSelection = (e) => {\r\n    const roomNumber = e.target.value;\r\n    const selectedBooking = bookedRooms.find(\r\n      booking => booking.room_id.roomno === roomNumber\r\n    );\r\n\r\n\r\n    if (selectedBooking) {\r\n      setSelectedRoom(roomNumber);\r\n\r\n      setSelectedRoomId(selectedBooking.room_id._id); \r\n      console.log(\"selectedRoomId\",selectedBooking.room_id._id)// Room booking ID\r\n      setSelectedRoomReservationId(selectedBooking._id);\r\n      console.log(\"selectedRoomReservationId\",selectedBooking._id)\r\n\r\n\r\n\r\n    } else {\r\n      setSelectedRoom('');\r\n      setSelectedRoomId('');\r\n      setSelectedRoomReservationId('');\r\n    }\r\n\r\n  };\r\n\r\n  // Modify your handleCheckout function\r\n  const handleCheckout = async () => {\r\n    if (cartItems.length === 0) {\r\n      Swal.fire({\r\n        icon: 'warning',\r\n        title: 'Empty Cart',\r\n        text: 'Please add items to your cart before checking out'\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!orderType) {\r\n      Swal.fire({\r\n        icon: 'warning',\r\n        title: 'Select Order Type',\r\n        text: 'Please select whether you want Dine-in, Takeaway, or Delivery'\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (orderType === 'dine-in' && !selectedReservation && \r\n        (!dineInPreferences.preferredTime || \r\n         !dineInPreferences.tableLocation || \r\n         !dineInPreferences.numberOfGuests)) {\r\n      Swal.fire({\r\n        icon: 'warning',\r\n        title: 'Incomplete Dining Preferences',\r\n        text: 'Please select a reservation or fill in your dining preferences'\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (orderType === 'delivery' && !selectedRoom) {\r\n      Swal.fire({\r\n        icon: 'warning',\r\n        title: 'Room Selection Required',\r\n        text: 'Please select your room number for delivery'\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Load Razorpay Script\r\n      const isLoaded = await loadRazorpayScript();\r\n      if (!isLoaded) {\r\n        throw new Error('Razorpay SDK failed to load');\r\n      }\r\n\r\n      // Create order on backend\r\n      const userId = getUserIdFromToken();\r\n      const orderData = {\r\n        amount: calculateTotal() * 100,\r\n        cartItems: cartItems,\r\n        orderType: orderType,\r\n        userId: userId,\r\n        ...(orderType === 'dine-in' && {\r\n          dineInDetails: selectedReservation \r\n            ? {\r\n                reservationId: selectedReservation._id,\r\n                date: selectedReservation.date,\r\n                time: selectedReservation.time,\r\n                tableNumber: selectedReservation.tableNumber,\r\n                numberOfGuests: selectedReservation.numberOfGuests\r\n              }\r\n            : dineInPreferences\r\n        }),\r\n        ...(orderType === 'delivery' && {\r\n          \r\n          deliveryDetails: {\r\n            roomNumber: selectedRoom,\r\n            room_id: selectedRoomId,\r\n            reservationId: selectedRoomReservationId\r\n          }\r\n        })\r\n      };\r\n\r\n      const response = await axios.post(\r\n        `${import.meta.env.VITE_API}/user/restaurant/create-order`,\r\n        orderData\r\n      );\r\n\r\n      const options = {\r\n        key: import.meta.env.VITE_RAZORPAY_KEY_ID,\r\n        amount: response.data.amount,\r\n        currency: \"INR\",\r\n        name: \"Restaurant Name\",\r\n        description: `Food Order Payment - ${orderType.toUpperCase()}`,\r\n        order_id: response.data.id,\r\n        handler: async function (response) {\r\n          try {\r\n            const { data } = await axios.post(`${import.meta.env.VITE_API}/user/restaurant/verify-payment`, {\r\n              razorpay_payment_id: response.razorpay_payment_id,\r\n              razorpay_order_id: response.razorpay_order_id,\r\n              razorpay_signature: response.razorpay_signature,\r\n              userId: userId\r\n            });\r\n\r\n            if (data.success) {\r\n              console.log(\"data\",dineInPreferences)\r\n              // Create final order with all details\r\n              await axios.post(`${import.meta.env.VITE_API}/user/restaurant/orders`, {\r\n                userid: userId,\r\n                cartItems: cartItems,\r\n                paymentDetails: response,\r\n                totalAmount: calculateTotal(),\r\n                specialInstructions: specialInstructions,\r\n                orderType: orderType,\r\n                // Include dine-in preferences in final order\r\n                ...(orderType === 'dine-in' && { \r\n                  dineInDetails: selectedReservation \r\n                    ? {\r\n                        reservationId: selectedReservation._id,\r\n                        date: selectedReservation.date,\r\n                        time: selectedReservation.time,\r\n                        tableNumber: selectedReservation.tableNumber,\r\n                        numberOfGuests: selectedReservation.numberOfGuests\r\n                      }\r\n                    : dineInPreferences\r\n                }),\r\n                ...(orderType === 'delivery' && {\r\n                  deliveryDetails: {\r\n                    roomNumber: selectedRoom,\r\n                    room_id: selectedRoomId,\r\n                    reservationId: selectedRoomReservationId\r\n                  }\r\n                })\r\n\r\n              });\r\n\r\n              setCartItems([]);\r\n              \r\n              Swal.fire({\r\n                icon: 'success',\r\n                title: 'Order Placed Successfully!',\r\n                text: orderType === 'dine-in' \r\n                  ? `Your table is reserved for ${selectedReservation ? selectedReservation.time : dineInPreferences.preferredTime}` \r\n                  : 'Thank you for your order'\r\n              });\r\n              \r\n              navigate('/restaurant/orders');\r\n            }\r\n          } catch (error) {\r\n            console.error('Payment verification failed:', error);\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Payment Failed',\r\n              text: 'There was an error processing your payment'\r\n            });\r\n          }\r\n        },\r\n        prefill: {\r\n          name: \"Customer Name\",\r\n          email: \"customer@example.com\",\r\n          contact: \"9999999999\"\r\n        },\r\n        theme: {\r\n          color: \"#3399cc\"\r\n        },\r\n        notes: {\r\n          orderType: orderType,\r\n          ...(orderType === 'dine-in' && { \r\n            dineInDetails: selectedReservation \r\n              ? `Table: ${selectedReservation.tableNumber}, Time: ${selectedReservation.time}, Guests: ${selectedReservation.numberOfGuests}`\r\n              : `Table: ${dineInPreferences.tableLocation}, Time: ${dineInPreferences.preferredTime}, Guests: ${dineInPreferences.numberOfGuests}`\r\n          }),\r\n          ...(orderType === 'delivery' && {\r\n            deliveryDetails: `Room: ${selectedRoom}`\r\n          })\r\n        }\r\n      };\r\n\r\n      const paymentObject = new window.Razorpay(options);\r\n      paymentObject.open();\r\n\r\n    } catch (error) {\r\n      console.error('Checkout failed:', error);\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Checkout Failed',\r\n        text: error.message || 'There was an error processing your checkout'\r\n      });\r\n    }\r\n  };\r\n\r\n  // Add new function to toggle instructions visibility\r\n  const toggleInstructions = (itemId) => {\r\n    setShowInstructions(prev => ({\r\n      ...prev,\r\n      [itemId]: !prev[itemId]\r\n    }));\r\n  };\r\n\r\n  // Add these location options\r\n  const tableLocations = [\r\n    'Window Side',\r\n    'Garden View',\r\n    'Indoor',\r\n    'Outdoor',\r\n    'Private Area',\r\n    'Near Bar',\r\n    'Family Section'\r\n  ];\r\n\r\n  // Generate time slots (e.g., from 11 AM to 11 PM with 30-min intervals)\r\n  const generateTimeSlots = () => {\r\n    const slots = [];\r\n    const start = 11; // 11 AM\r\n    const end = 23;   // 11 PM\r\n    \r\n    for (let hour = start; hour <= end; hour++) {\r\n      slots.push(`${hour}:00`);\r\n      slots.push(`${hour}:30`);\r\n    }\r\n    return slots;\r\n  };\r\n\r\n  // Add this useEffect to fetch reservations when dine-in is selected\r\n  useEffect(() => {\r\n    const fetchReservations = async () => {\r\n      if (orderType === 'dine-in') {\r\n        try {\r\n          setIsLoadingReservations(true);\r\n          const userId = getUserIdFromToken();\r\n          const response = await axios.get(\r\n            `${import.meta.env.VITE_API}/user/restaurant/reservations/${userId}`\r\n          );\r\n          \r\n          // Filter out past reservations\r\n          const now = new Date();\r\n          const upcomingReservations = response.data.data.reservations.filter(res => {\r\n            const reservationDate = new Date(res.reservationDate);\r\n            return reservationDate >= now;\r\n          });\r\n          \r\n\r\n          setTableReservations(upcomingReservations);\r\n        } catch (error) {\r\n          console.error('Error fetching reservations:', error);\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Error',\r\n            text: 'Failed to load table reservations'\r\n          });\r\n        } finally {\r\n          setIsLoadingReservations(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchReservations();\r\n  }, [orderType]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"spinner\"></div>\r\n        <p>Loading cart...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className='menunav'>\r\n        <Header title=\"Shopping Cart\" subtitle=\"Review your items\" />\r\n      </div>\r\n      <div className=\"cart-container\">\r\n        <h2><FaShoppingCart /> Your Cart</h2>\r\n\r\n        {cartItems.length === 0 ? (\r\n          <div className=\"empty-cart\">\r\n            <p>Your cart is empty</p>\r\n            <button onClick={() => navigate('/restaurant/menu')} className=\"view-menu-btn\">\r\n              View Menu\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"cart-layout\">\r\n            <div className=\"cart-items-section\">\r\n              {cartItems.map((item) => (\r\n                <div key={item._id} className=\"cart-item\">\r\n                 <div className=\"item-image\">\r\n                  <img src={item.menuItemId.image} alt={item.itemTitle} />\r\n                </div>\r\n                  \r\n                  <div className=\"item-content\">\r\n                    <div className=\"item-header\">\r\n                      <div className=\"item-title-row\">\r\n                        <h3>{item.menuItemId?.name}</h3>\r\n                        <div className=\"item-badges\">\r\n                          <span className={`food-type-badge ${(item.menuItemId?.foodType || 'Veg').toLowerCase()}`}>\r\n                            {item.menuItemId?.foodType === 'Non-Veg' ? (\r\n                              <FaDrumstickBite className=\"food-icon non-veg-icon\" />\r\n                            ) : (\r\n                              <FaLeaf className=\"food-icon veg-icon\" />\r\n                            )}\r\n                          </span>\r\n                          <span className=\"item-category\">{item.menuItemId?.category}</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <p className=\"item-description\">{item.menuItemId?.description}</p>\r\n                    \r\n                    <div className=\"price-quantity-section\">\r\n                      <div className=\"price-section\">\r\n                        <p className=\"item-price\">â‚¹{(item.menuItemId?.price || 0).toFixed(2)}</p>\r\n                        <p className=\"item-subtotal\">\r\n                          Subtotal: â‚¹{(item.subTotal || 0).toFixed(2)}\r\n                        </p>\r\n                      </div>\r\n\r\n                      <div className=\"quantity-section\">\r\n                        <label>Quantity:</label>\r\n                        <div className=\"quantity-controls\">\r\n                        <button \r\n                          onClick={() => updateQuantity(item._id, item.quantity - 1)}\r\n                          className=\"quantity-btn\"\r\n                          disabled={item.quantity <= 1}\r\n                        >\r\n                          <FaMinus />\r\n                        </button>\r\n\r\n                        <span className=\"quantity\">{item.quantity || 0}</span>\r\n\r\n                        <button \r\n                          onClick={() => updateQuantity(item._id, item.quantity + 1)}\r\n                          className=\"quantity-btn\"\r\n                          disabled={item.quantity >= item.menuItemId.availableQuantity} // Disable if reached available quantity\r\n                        >\r\n                          <FaPlus />\r\n                        </button>\r\n\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"item-actions\">\r\n                      <button \r\n                        onClick={() => toggleInstructions(item._id)}\r\n                        className=\"instructions-toggle-btn\"\r\n                      >\r\n                        {showInstructions[item._id] ? 'Hide Instructions' : 'Add Instructions'}\r\n                      </button>\r\n\r\n                      {showInstructions[item._id] && (\r\n                        <textarea\r\n                          placeholder=\"Special instructions...\"\r\n                          value={specialInstructions[item._id] || ''}\r\n                          onChange={(e) => setSpecialInstructions(prev => ({\r\n                            ...prev,\r\n                            [item._id]: e.target.value\r\n                          }))}\r\n                          className=\"special-instructions\"\r\n                        />\r\n                      )}\r\n\r\n                      <button \r\n                        onClick={() => removeFromCart(item._id)}\r\n                        className=\"remove-btn\"\r\n                      >\r\n                        <FaTrash /> Remove\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"checkout-section\">\r\n              <div className=\"cart-summary\">\r\n                <h3>Order Summary</h3>\r\n                \r\n                <div className=\"order-type-selection\">\r\n                  <h4>Select Order Type:</h4>\r\n                  <div className=\"order-type-buttons\">\r\n                    <button \r\n                      className={`order-type-btn ${orderType === 'dine-in' ? 'active' : ''}`}\r\n                      onClick={() => setOrderType('dine-in')}\r\n                    >\r\n                      <i className=\"fas fa-utensils\"></i>\r\n                      Dine In\r\n                    </button>\r\n                    <button \r\n                      className={`order-type-btn ${orderType === 'takeaway' ? 'active' : ''}`}\r\n                      onClick={() => setOrderType('takeaway')}\r\n                    >\r\n                      <i className=\"fas fa-shopping-bag\"></i>\r\n                      Takeaway\r\n                    </button>\r\n                    <button \r\n                      className={`order-type-btn ${orderType === 'delivery' ? 'active' : ''}`}\r\n                      onClick={() => setOrderType('delivery')}\r\n                    >\r\n                      <i className=\"fas fa-motorcycle\"></i>\r\n                      Delivery\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {orderType === 'dine-in' && (\r\n                  <div className=\"dine-in-section\">\r\n                    <h5>Your Reservations</h5>\r\n                    {isLoadingReservations ? (\r\n                      <div className=\"loading-spinner\">Loading reservations...</div>\r\n                    ) : tableReservations.length > 0 ? (\r\n                      <div className=\"reservations-list\">\r\n                        {tableReservations.map((reservation) => (\r\n                          <div \r\n                            key={reservation._id}\r\n                            className={`reservation-card ${selectedReservation?._id === reservation._id ? 'selected' : ''}`}\r\n                            onClick={() => setSelectedReservation(reservation)}\r\n                          >\r\n                            <div className=\"reservation-header\">\r\n                              <span className=\"reservation-date\">\r\n                                {new Date(reservation.reservationDate).toLocaleDateString()}\r\n                              </span>\r\n                              <span className=\"reservation-time\">{reservation.time}</span>\r\n                            </div>\r\n\r\n                            <div className=\"reservation-details\">\r\n                              <span>Table {reservation.tableNumber}</span>\r\n                              <span>{reservation.numberOfGuests} Guests</span>\r\n                            </div>\r\n                            {selectedReservation?._id === reservation._id && (\r\n                              <div className=\"selected-indicator\">\r\n                                <i className=\"fas fa-check-circle\"></i> Selected\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"no-reservations\">\r\n                        <p>No upcoming reservations found</p>\r\n                        <button \r\n                          onClick={() => navigate('/restaurant/reservations')}\r\n                          className=\"make-reservation-btn\"\r\n                        >\r\n                          Make a Reservation\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n\r\n                    {!selectedReservation && (\r\n                      <div className=\"manual-preferences\">\r\n                        <h6>Or Enter Dining Preferences</h6>\r\n                        <div className=\"preference-inputs\">\r\n                          <div className=\"input-group\">\r\n                            <label>Preferred Time</label>\r\n                            <select\r\n                              value={dineInPreferences.preferredTime}\r\n                              onChange={(e) => setDineInPreferences(prev => ({\r\n                                ...prev,\r\n                                preferredTime: e.target.value\r\n                              }))}\r\n                            >\r\n                              <option value=\"\">Select Time</option>\r\n                              {generateTimeSlots().map(time => (\r\n                                <option key={time} value={time}>{time}</option>\r\n                              ))}\r\n                            </select>\r\n                          </div>\r\n\r\n                          <div className=\"input-group\">\r\n                            <label>Number of Guests</label>\r\n                            <input\r\n                              type=\"number\"\r\n                              min=\"1\"\r\n                              max=\"10\"\r\n                              value={dineInPreferences.numberOfGuests}\r\n                              onChange={(e) => setDineInPreferences(prev => ({\r\n                                ...prev,\r\n                                numberOfGuests: Math.max(1, parseInt(e.target.value) || 1)\r\n                              }))}\r\n                            />\r\n                          </div>\r\n\r\n                          <div className=\"input-group\">\r\n                            <label>Table Location</label>\r\n                            <select\r\n                              value={dineInPreferences.tableLocation}\r\n                              onChange={(e) => setDineInPreferences(prev => ({\r\n                                ...prev,\r\n                                tableLocation: e.target.value\r\n                              }))}\r\n                            >\r\n                              <option value=\"\">Select Location</option>\r\n                              {['Window Side', 'Garden View', 'Indoor', 'Outdoor', 'Private Area'].map(location => (\r\n                                <option key={location} value={location}>{location}</option>\r\n                              ))}\r\n                            </select>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                {orderType === 'delivery' && (\r\n                  <div className=\"delivery-section\">\r\n                    <h5>Select Delivery Room</h5>\r\n                    {isLoadingRooms ? (\r\n                      <div className=\"loading-spinner\">Loading rooms...</div>\r\n                    ) : bookedRooms.length > 0 ? (\r\n                      <div className=\"room-selection\">\r\n                        <select\r\n                          value={selectedRoom}\r\n                          onChange={handleRoomSelection}\r\n                          className=\"room-select\"\r\n                        >\r\n                          <option value=\"\">Select Room</option>\r\n                          {bookedRooms.map((booking) => (\r\n                            <option \r\n                              key={booking._id} \r\n                              value={booking.room_id.roomno}\r\n                            >\r\n                              Room {booking.room_id.roomno} \r\n                              (Booking until {new Date(booking.check_out).toLocaleDateString()})\r\n\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                        {selectedRoom && (\r\n                          <div className=\"selected-room-info\">\r\n                            <p>Selected Room: {selectedRoom}</p>\r\n                            <p>Booking ID: {selectedRoomId}</p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"no-rooms\">\r\n                        <p>No active room bookings found</p>\r\n                        <p>Please book a room first or choose another order type</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"summary-row\">\r\n                  <span>Subtotal:</span>\r\n                  <span>â‚¹{calculateSubtotal().toFixed(2)}</span>\r\n                </div>\r\n                \r\n                <div className=\"summary-row\">\r\n                  <span>Tax (10%):</span>\r\n                  <span>â‚¹{calculateTax().toFixed(2)}</span>\r\n                </div>\r\n                \r\n                <div className=\"summary-row total\">\r\n                  <span>Total:</span>\r\n                  <span>â‚¹{calculateTotal().toFixed(2)}</span>\r\n                </div>\r\n\r\n                <button \r\n                  onClick={handleCheckout}\r\n                  className=\"checkout-btn\"\r\n                  disabled={!orderType}\r\n                  \r\n                >\r\n                  Proceed to Checkout\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className='footer'>\r\n      <Footer/>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CartManagement; ","import './styles/Loader.css';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className=\"loader-container\">\r\n      <div className=\"loader\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader; ","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { FaHistory, FaUtensils, FaClock, FaMoneyBill, \r\n  FaMotorcycle, \r\n  FaTable, \r\n  FaShoppingBag, \r\n  FaConciergeBell, \r\n  FaChair, \r\n  FaCalendarAlt, \r\n  FaUsers, \r\n  FaInfoCircle } from 'react-icons/fa';\r\nimport './OrderHistory.css';\r\nimport Loader from '../shared/Loader';\r\nimport Header from '../../components/Header';\r\nimport { jwtDecode } from 'jwt-decode';\r\nimport Swal from 'sweetalert2';\r\nimport Footer from '../../components/footer';\r\n\r\n\r\nconst formatDate = (dateString) => {\r\n  const date = new Date(dateString);\r\n  \r\n  // Get day, month, and year\r\n  const day = date.getDate().toString().padStart(2, '0');\r\n  const month = (date.getMonth() + 1).toString().padStart(2, '0'); // Month is 0-based\r\n  const year = date.getFullYear();\r\n  \r\n  // Get time\r\n  const hours = date.getHours().toString().padStart(2, '0');\r\n  const minutes = date.getMinutes().toString().padStart(2, '0');\r\n  const ampm = hours >= 12 ? 'PM' : 'AM';\r\n  \r\n  // Convert hours to 12-hour format\r\n  const hours12 = (hours % 12) || 12;\r\n\r\n  // Return formatted date and time\r\n  return `${day}-${month}-${year} at ${hours12}:${minutes} ${ampm}`;\r\n};\r\n\r\nconst OrderHistory = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filter, setFilter] = useState('all');\r\n  const getUserIdFromToken = () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) return null;\r\n      const decoded = jwtDecode(token);\r\n      return decoded._id;\r\n    } catch (error) {\r\n      console.error('Error decoding token:', error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchOrders();\r\n  }, []);\r\n\r\n  const fetchOrders = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const userId = getUserIdFromToken();\r\n      const response = await axios.get(`${import.meta.env.VITE_API}/user/restaurant/my-orders/${userId}`);\r\n      console.log(\"response\",response.data.data)\r\n      setOrders(Array.isArray(response.data.data) ? response.data.data : []);\r\n      \r\n    } catch (error) {\r\n      console.error('Error fetching orders:', error);\r\n      setOrders([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    const colors = {\r\n      'pending': '#ffd700',\r\n      'confirmed': '#1e90ff',\r\n      'preparing': '#ff8c00',\r\n      'ready': '#32cd32',\r\n      'delivered': '#008000',\r\n      'cancelled': '#ff0000'\r\n    };\r\n    return colors[status] || '#808080';\r\n  };\r\n\r\n  const filteredOrders = Array.isArray(orders) ? orders.filter(order => {\r\n    if (filter === 'all') return true;\r\n    return order.status === filter;\r\n  }) : [];\r\n\r\n  const getOrderTypeIcon = (type) => {\r\n    switch (type?.toLowerCase()) {\r\n      case 'dine-in':\r\n        return <FaTable className=\"order-type-icon dine-in\" />;\r\n      case 'takeaway':\r\n        return <FaShoppingBag className=\"order-type-icon takeaway\" />;\r\n      case 'delivery':\r\n        return <FaMotorcycle className=\"order-type-icon delivery\" />;\r\n      default:\r\n        return <FaConciergeBell className=\"order-type-icon\" />;\r\n    }\r\n  };\r\n\r\n  const getOrderTypeLabel = (type) => {\r\n    if (!type) return 'N/A';\r\n    return type.charAt(0).toUpperCase() + type.slice(1).toLowerCase();\r\n  };\r\n\r\n\r\n\r\n  const handleCancelOrder = async (orderId) => {\r\n    try {\r\n      // First warning about non-refundable cancellation\r\n      const warningResult = await Swal.fire({\r\n        title: 'Non-Refundable Cancellation',\r\n        html: `\r\n          <div class=\"cancellation-warning\">\r\n            <p>Please note:</p>\r\n            <ul>\r\n              <li>Order cancellation is non-refundable</li>\r\n              <li>Payment amount will not be returned</li>\r\n              <li>This action cannot be undone</li>\r\n            </ul>\r\n          </div>\r\n        `,\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#d33',\r\n        cancelButtonColor: '#3085d6',\r\n        confirmButtonText: 'Proceed with Cancellation',\r\n        cancelButtonText: 'Keep Order',\r\n        reverseButtons: true\r\n      });\r\n\r\n      // If user confirms they understand it's non-refundable\r\n      if (warningResult.isConfirmed) {\r\n        // Second confirmation for cancellation\r\n        const confirmResult = await Swal.fire({\r\n          title: 'Confirm Cancellation',\r\n          text: 'Are you sure you want to cancel this order?',\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonColor: '#d33',\r\n          cancelButtonColor: '#3085d6',\r\n          confirmButtonText: 'Yes, Cancel Order',\r\n          cancelButtonText: 'No, Keep Order',\r\n          reverseButtons: true\r\n        });\r\n\r\n        if (confirmResult.isConfirmed) {\r\n          // Show loading state\r\n          Swal.fire({\r\n            title: 'Cancelling Order',\r\n            text: 'Please wait...',\r\n            allowOutsideClick: false,\r\n            allowEscapeKey: false,\r\n            allowEnterKey: false,\r\n            showConfirmButton: false,\r\n            didOpen: () => {\r\n              Swal.showLoading();\r\n            }\r\n          });\r\n\r\n          // Make API call to cancel order\r\n          const userId = getUserIdFromToken();\r\n          const response = await axios.put(\r\n            `${import.meta.env.VITE_API}/user/restaurant/orders/cancel/${orderId}`,\r\n            {userId},\r\n            {\r\n              headers: {\r\n                Authorization: `Bearer ${localStorage.getItem('token')}`\r\n              }\r\n            }\r\n          );\r\n\r\n          if (response.data.success) {\r\n            // Show success message\r\n            await Swal.fire({\r\n              title: 'Order Cancelled',\r\n              text: 'Your order has been successfully cancelled',\r\n              icon: 'success',\r\n              timer: 2000,\r\n              showConfirmButton: false\r\n            });\r\n\r\n            // Refresh orders list\r\n            fetchOrders();\r\n          } else {\r\n            throw new Error(response.data.message || 'Failed to cancel order');\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error cancelling order:', error);\r\n      \r\n      // Show error message\r\n      await Swal.fire({\r\n        title: 'Cancellation Failed',\r\n        text: error.response?.data?.message || 'Failed to cancel order. Please try again.',\r\n        icon: 'error',\r\n        confirmButtonColor: '#3085d6'\r\n      });\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <div className='menunav'>\r\n      <Header title=\"Guest Information\" subtitle=\"Fill in guest details\" />\r\n    </div>\r\n    <div className=\"order-history-container\">\r\n      <h2><FaHistory /> Order History</h2>\r\n\r\n      <div className=\"filter-buttons\">\r\n        {['all', 'pending', 'confirmed', 'preparing', 'ready', 'delivered', 'cancelled'].map(status => (\r\n          <button\r\n            key={status}\r\n            className={`filter-btn ${filter === status ? 'active' : ''}`}\r\n            onClick={() => setFilter(status)}\r\n          >\r\n            {status.charAt(0).toUpperCase() + status.slice(1)}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {filteredOrders.length === 0 ? (\r\n        <div className=\"no-orders\">No orders found</div>\r\n      ) : (\r\n        <div className=\"orders-grid\">\r\n          {filteredOrders.map(order => (\r\n            <div key={order._id} className=\"order-card\">\r\n              <div className=\"order-header\">\r\n                <span className=\"order-id\">Order #{order._id.slice(-6)}</span>\r\n                <span \r\n                  className=\"order-status\"\r\n                  style={{ backgroundColor: getStatusColor(order.status) }}\r\n                >\r\n                  {order.status}\r\n                </span>\r\n              </div>\r\n\r\n              <div className=\"order-details\">\r\n                <div className=\"detail-item items-section\">\r\n                  <div className=\"section-header\">\r\n                    <FaUtensils />\r\n                    <span>Order Items:</span>\r\n                  </div>\r\n                  <div className=\"items-grid\">\r\n                    {order.items.map(item => (\r\n                      <div key={item._id} className=\"order-item\">\r\n                        <div className=\"item-image-container\">\r\n                          <img \r\n                            src={item.menuItem.image} \r\n                            alt={item.menuItem.name}\r\n                            className=\"item-image\"\r\n                            onError={(e) => {\r\n                              e.target.src = '/default-food-image.png'; // Fallback image\r\n                              e.target.onerror = null; // Prevent infinite loop\r\n                            }}\r\n                            loading=\"lazy\" // Added for better performance\r\n                          />\r\n                        </div>\r\n                        <div className=\"item-info\">\r\n                          <span className=\"item-name\">{item.menuItem.name}</span>\r\n                          <span className=\"item-quantity\">Qty: {item.quantity}</span>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {order.tablereservation_id && (\r\n                  <div className=\"detail-item reservation-section\">\r\n                    <div className=\"section-header\">\r\n                      <FaChair />\r\n                      <span>Table Reservation Details:</span>\r\n                    </div>\r\n                    <div className=\"reservation-details\">\r\n                      <div className=\"reservation-info\">\r\n                        <FaChair className=\"icon\" />\r\n                        <span>Table: {order.tablereservation_id.tableNumber}</span>\r\n                      </div>\r\n                      <div className=\"reservation-info\">\r\n                        <FaCalendarAlt className=\"icon\" />\r\n                        <span>Date: {new Date(order.tablereservation_id.reservationDate).toLocaleDateString()}</span>\r\n                      </div>\r\n                      <div className=\"reservation-info\">\r\n                        <FaClock className=\"icon\" />\r\n                        <span>Time: {order.tablereservation_id.time}</span>\r\n                      </div>\r\n                      <div className=\"reservation-info\">\r\n                        <FaUsers className=\"icon\" />\r\n                        <span>Guests: {order.tablereservation_id.numberOfGuests}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {order.orderType === 'delivery' && order.deliveryDetails && (\r\n                <div className=\"detail-item delivery-section\">\r\n                  <div className=\"section-header\">\r\n                    <FaMotorcycle />\r\n                    <span>Delivery Details:</span>\r\n                  </div>\r\n                  <div className=\"delivery-details-list\">\r\n                    <div className=\"delivery-info-item\">\r\n                      <div className=\"info-label\">\r\n                        <FaChair className=\"icon\" />\r\n                        <span>Room Number:</span>\r\n                      </div>\r\n                      <div className=\"info-value\">\r\n                        {order.deliveryDetails.roomNumber}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"delivery-info-item\">\r\n                      <div className=\"info-label\">\r\n                        <FaCalendarAlt className=\"icon\" />\r\n                        <span>Booking ID:</span>\r\n                      </div>\r\n                      <div className=\"info-value truncate-text\" title={order.deliveryDetails.reservationId}>\r\n                        {order.deliveryDetails.reservationId}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {order.deliveryDetails.estimatedDeliveryTime && (\r\n                      <div className=\"delivery-info-item\">\r\n                        <div className=\"info-label\">\r\n                          <FaClock className=\"icon\" />\r\n                          <span>Estimated:</span>\r\n                        </div>\r\n                        <div className=\"info-value delivery-time\" title={formatDate(order.deliveryDetails.estimatedDeliveryTime)}>\r\n                          {formatDate(order.deliveryDetails.estimatedDeliveryTime)}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {order.deliveryDetails.deliveryInstructions && (\r\n                      <div className=\"delivery-info-item\">\r\n                        <div className=\"info-label\">\r\n                          <FaInfoCircle className=\"icon\" />\r\n                          <span>Instructions:</span>\r\n                        </div>\r\n                        <div className=\"info-value wrap-text\">\r\n                          {order.deliveryDetails.deliveryInstructions}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n                <div className=\"detail-item\">\r\n                  <FaClock />\r\n                  <span>Order Date:</span>\r\n                  {formatDate(order.orderDate)}\r\n                </div>\r\n                \r\n                <div className=\"detail-item order-type\">\r\n                  {getOrderTypeIcon(order.orderType)}\r\n                  <span>Order Type:</span>\r\n                  <span className={`type-label ${order.orderType?.toLowerCase()}`}>\r\n                    {getOrderTypeLabel(order.orderType)}\r\n                  </span>\r\n                </div>\r\n\r\n                <div className=\"detail-item\">\r\n                  <FaMoneyBill />\r\n                  <span>Total Amount:</span>\r\n                  â‚¹{order.totalAmount}\r\n                </div>\r\n              </div>\r\n\r\n              {order.status === 'pending' && (\r\n                <button \r\n                  className=\"cancel-btn\"\r\n                  onClick={() => handleCancelOrder(order._id)}\r\n                >\r\n                  Cancel Order\r\n                </button>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n    <div className='footer'>\r\n      <Footer/>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OrderHistory; ","import React, { useState, useEffect } from 'react';\r\nimport { FaUsers, FaMapMarkerAlt, FaCalendarAlt, FaClock, FaChair, FaUmbrella, FaBuilding } from 'react-icons/fa';\r\nimport { GiRoundTable, GiWoodenChair } from 'react-icons/gi';\r\nimport { MdTableBar, MdTableRestaurant } from 'react-icons/md';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport DatePicker from 'react-datepicker';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport './TableReservation.css';\r\nimport { jwtDecode } from 'jwt-decode';\r\nimport Header from '../../components/Header';\r\nimport Footer from '../../components/footer';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nconst TableReservation = () => {\r\n  const [tables, setTables] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [selectedDate, setSelectedDate] = useState(new Date());\r\n  const [selectedTime, setSelectedTime] = useState('');\r\n  const [guests, setGuests] = useState(1);\r\n  const [selectedLocation, setSelectedLocation] = useState('all');\r\n  const [selectedCapacity, setSelectedCapacity] = useState('all');\r\n  const [specialRequests, setSpecialRequests] = useState('');\r\n  const [confirmedReservations, setConfirmedReservations] = useState([]);\r\n\r\n  // Get available time slots\r\n  const getTimeSlots = () => {\r\n    const slots = [];\r\n    const currentDate = new Date();\r\n    const selectedDateStr = selectedDate.toDateString();\r\n    const isToday = currentDate.toDateString() === selectedDateStr;\r\n    const currentHour = currentDate.getHours();\r\n    const currentMinutes = currentDate.getMinutes();\r\n\r\n    for (let i = 11; i <= 22; i++) { // 11 AM to 10 PM\r\n      // For current date, only show future times\r\n      if (isToday) {\r\n        // Skip past hours\r\n        if (i < currentHour) continue;\r\n        \r\n        // For current hour, check minutes\r\n        if (i === currentHour) {\r\n          // Only show :30 slot if current time is before :30\r\n          if (currentMinutes < 30) {\r\n            slots.push(`${i}:30`);\r\n          }\r\n        } else {\r\n          // For future hours, show both slots\r\n          slots.push(`${i}:00`);\r\n          slots.push(`${i}:30`);\r\n        }\r\n      } else {\r\n        // For future dates, show all slots\r\n        slots.push(`${i}:00`);\r\n        slots.push(`${i}:30`);\r\n      }\r\n    }\r\n    return slots;\r\n  };\r\n\r\n  const fetchTables = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await axios.get(`${import.meta.env.VITE_API}/user/restaurant/tables`);\r\n      \r\n      if (response.data && response.data.data) {\r\n        setTables(response.data.data);\r\n      } else {\r\n        throw new Error('Invalid data format received');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching tables:', error);\r\n      setError(error.message || 'Failed to load tables');\r\n      showErrorAlert('Failed to load tables');\r\n      setTables([]); // Set empty array on error\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fetch confirmed reservations for the selected date\r\n  const fetchConfirmedReservations = async (date, time) => {\r\n    try {\r\n      const response = await axios.get(`${import.meta.env.VITE_API}/user/restaurant/confirmed-reservations`, {\r\n        params: {\r\n          date: date.toISOString(),\r\n          time: time\r\n        }\r\n      });\r\n      \r\n      if (response.data.success) {\r\n        setConfirmedReservations(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching confirmed reservations:', error);\r\n      toast.error('Error checking table availability');\r\n    }\r\n  };\r\n\r\n  // Update confirmed reservations when date or time changes\r\n  useEffect(() => {\r\n    if (selectedDate && selectedTime) {\r\n      fetchConfirmedReservations(selectedDate, selectedTime);\r\n    }\r\n  }, [selectedDate, selectedTime]);\r\n\r\n  useEffect(() => {\r\n    fetchTables();\r\n  }, []);\r\n\r\n  const getLocationIcon = (location) => {\r\n    switch (location) {\r\n      case 'Indoor':\r\n        return <FaBuilding className=\"location-icon indoor\" />;\r\n      case 'Outdoor':\r\n        return <FaUmbrella className=\"location-icon outdoor\" />;\r\n      case 'Balcony':\r\n        return <FaChair className=\"location-icon balcony\" />;\r\n      default:\r\n        return <FaMapMarkerAlt className=\"location-icon\" />;\r\n    }\r\n  };\r\n\r\n  const handleReservation = async (tableId) => {\r\n    try {\r\n      const selectedTable = tables.find(t => t._id === tableId);\r\n      \r\n      const result = await Swal.fire({\r\n        title: 'Confirm Reservation',\r\n        html: `\r\n          <div class=\"reservation-confirmation\">\r\n            <p><strong>Table:</strong> ${selectedTable.tableNumber}</p>\r\n            <p><strong>Date:</strong> ${selectedDate.toLocaleDateString()}</p>\r\n            <p><strong>Time:</strong> ${selectedTime}</p>\r\n            <p><strong>Guests:</strong> ${guests}</p>\r\n            <p><strong>Location:</strong> ${selectedTable.location}</p>\r\n          </div>\r\n        `,\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#4CAF50',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'Confirm Reservation',\r\n        cancelButtonText: 'Cancel',\r\n        customClass: {\r\n          popup: 'reservation-popup'\r\n        }\r\n      });\r\n\r\n      if (result.isConfirmed) {\r\n        const token = localStorage.getItem('token');\r\n        const decoded = jwtDecode(token);\r\n        console.log(guests)\r\n        const response = await axios.post(`${import.meta.env.VITE_API}/user/restaurant/table-reservations`, {\r\n          userId: decoded._id,\r\n          table_id: selectedTable._id,\r\n          tableNumber: selectedTable.tableNumber,\r\n          reservationDate: selectedDate,\r\n          numberOfGuests: guests,\r\n          specialRequests,\r\n          time: selectedTime\r\n        });\r\n\r\n        if (response.data.success) {\r\n          showSuccessAlert();\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Reservation error:', error);\r\n      showErrorAlert(error.response?.data?.message || 'Failed to make reservation');\r\n    }\r\n  };\r\n\r\n  const showSuccessAlert = () => {\r\n    Swal.fire({\r\n      title: 'Reservation Confirmed!',\r\n      html: `\r\n        <div class=\"success-animation\">\r\n          <div class=\"checkmark\">\r\n            <div class=\"check-icon\"></div>\r\n          </div>\r\n        </div>\r\n        <p>Your table has been successfully reserved.</p>\r\n      `,\r\n      icon: 'success',\r\n      timer: 3000,\r\n      showConfirmButton: false\r\n    });\r\n  };\r\n\r\n  const showErrorAlert = (message) => {\r\n    Swal.fire({\r\n      title: 'Oops...',\r\n      text: message,\r\n      icon: 'error',\r\n      customClass: {\r\n        popup: 'error-popup'\r\n      }\r\n    });\r\n  };\r\n\r\n  // Filter out tables that are already reserved\r\n  const getFilteredTables = () => {\r\n    if (!Array.isArray(tables)) return [];\r\n    \r\n    // First, get all available tables (not reserved)\r\n    const availableTables = tables.filter(table => {\r\n        if (!table) return false;\r\n        \r\n        const isReserved = confirmedReservations.some(\r\n            reservation => reservation.tableNumber === table.tableNumber\r\n        );\r\n        \r\n        const locationMatch = selectedLocation === 'all' || table.location === selectedLocation;\r\n        \r\n        return !isReserved && locationMatch && table.isAvailable;\r\n    });\r\n\r\n    // Find exact capacity matches\r\n    const exactMatches = availableTables.filter(table => table.capacity === guests);\r\n    \r\n    if (exactMatches.length > 0) {\r\n        // If we have exact matches, return only those\r\n        return exactMatches;\r\n    }\r\n    \r\n    // If no exact matches, find the tables with the smallest suitable capacity\r\n    const suitableTables = availableTables.filter(table => table.capacity > guests);\r\n    if (suitableTables.length > 0) {\r\n        // Find the minimum capacity that can accommodate the guests\r\n        const minCapacity = Math.min(...suitableTables.map(table => table.capacity));\r\n        // Return only tables with that minimum capacity\r\n        return suitableTables\r\n            .filter(table => table.capacity === minCapacity)\r\n            .sort((a, b) => a.capacity - b.capacity);\r\n    }\r\n    \r\n    // If no suitable tables found, return empty array\r\n    return [];\r\n  };\r\n\r\n  // Add a function to show capacity warning\r\n  const showCapacityWarning = (tableCapacity) => {\r\n    if (tableCapacity > guests) {\r\n        return (\r\n            <div className=\"capacity-warning\">\r\n                <small style={{ color: '#666', fontSize: '0.85em' }}>\r\n                    No {guests}-seat tables available. This {tableCapacity}-seat table is the next best available option.\r\n                </small>\r\n            </div>\r\n        );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const getTableIcon = (capacity) => {\r\n    // Return different table layouts based on capacity\r\n    const renderChairs = (count) => {\r\n      return Array(count).fill(0).map((_, index) => (\r\n        <GiWoodenChair \r\n          key={index} \r\n          className={`chair-icon chair-${index + 1}`}\r\n        />\r\n      ));\r\n    };\r\n\r\n    return (\r\n      <div className=\"table-layout\">\r\n        {capacity <= 4 ? (\r\n          <>\r\n            <div className=\"small-table\">\r\n              <GiRoundTable className=\"table-icon\" />\r\n            </div>\r\n            <div className=\"chairs-container\">\r\n              {renderChairs(capacity)}\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <div className=\"large-table\">\r\n              <MdTableRestaurant className=\"table-icon\" />\r\n            </div>\r\n            <div className=\"chairs-container large\">\r\n              {renderChairs(capacity)}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <div className='menunav'>\r\n      <Header title=\"Guest Information\" subtitle=\"Fill in guest details\" />\r\n    </div>\r\n    <div className=\"table-reservation-container\">\r\n      <h2 className=\"section-title\">\r\n        <MdTableBar /> Table Reservation\r\n      </h2>\r\n\r\n      {error && (\r\n        <div className=\"error-message\">\r\n          <p>{error}</p>\r\n          <button onClick={fetchTables}>Try Again</button>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"reservation-form\">\r\n        <div className=\"form-group date-group\">\r\n          <FaCalendarAlt className=\"form-icon\" />\r\n          <label>Select Date</label>\r\n          <DatePicker\r\n            selected={selectedDate}\r\n            onChange={date => setSelectedDate(date)}\r\n            minDate={new Date()}\r\n            className=\"date-picker\"\r\n            dateFormat=\"dd/MM/yyyy\"\r\n            popperPlacement=\"top-start\"\r\n            popperModifiers={[\r\n              {\r\n                name: \"offset\",\r\n                options: {\r\n                  offset: [0, 5],\r\n                },\r\n              },\r\n              {\r\n                name: \"preventOverflow\",\r\n                options: {\r\n                  boundary: \"viewport\",\r\n                  altAxis: true,\r\n                  padding: 8,\r\n                },\r\n              },\r\n            ]}\r\n            dayClassName={date => {\r\n              // Add custom classes for different date states\r\n              return date < new Date().setHours(0, 0, 0, 0)\r\n                ? 'react-datepicker__day--past'\r\n                : undefined;\r\n            }}\r\n            renderDayContents={(day, date) => {\r\n              return <span>{day}</span>;\r\n            }}\r\n            showPopperArrow={true}\r\n            calendarStartDay={1} \r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group time-group\">\r\n          <FaClock className=\"form-icon\" />\r\n          <label>Select Time</label>\r\n          <select \r\n            value={selectedTime}\r\n            onChange={(e) => setSelectedTime(e.target.value)}\r\n            className=\"time-select\"\r\n          >\r\n            <option value=\"\">Choose time</option>\r\n            {getTimeSlots().map(slot => (\r\n              <option \r\n                key={slot} \r\n                value={slot}\r\n              >\r\n                {slot}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"form-group guests-group\">\r\n          <FaUsers className=\"form-icon\" />\r\n          <label>Number of Guests</label>\r\n          <input\r\n            type=\"number\"\r\n            min=\"1\"\r\n            max=\"10\"\r\n            value={guests}\r\n            onChange={(e) => setGuests(parseInt(e.target.value))}\r\n            className=\"guests-input\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group location-group\">\r\n          <FaMapMarkerAlt className=\"form-icon\" />\r\n          <label>Preferred Location</label>\r\n          <select\r\n            value={selectedLocation}\r\n            onChange={(e) => setSelectedLocation(e.target.value)}\r\n            className=\"location-select\"\r\n          >\r\n            <option value=\"all\">All Locations</option>\r\n            <option value=\"Indoor\">Indoor</option>\r\n            <option value=\"Outdoor\">Outdoor</option>\r\n            <option value=\"Balcony\">Balcony</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"tables-grid\">\r\n        {getFilteredTables().map(table => (\r\n          <div key={table._id} className=\"table-card\">\r\n            <div className=\"table-header\">\r\n              <h3>Table {table.tableNumber}</h3>\r\n              {getLocationIcon(table.location)}\r\n            </div>\r\n            \r\n            <div className=\"table-visualization\">\r\n              {getTableIcon(table.capacity)}\r\n            </div>\r\n            \r\n            <div className=\"table-details\">\r\n              <p>\r\n                <FaUsers />\r\n                Capacity: {table.capacity} persons\r\n                {showCapacityWarning(table.capacity)}\r\n              </p>\r\n              <p>\r\n                <FaMapMarkerAlt />\r\n                Location: {table.location}\r\n              </p>\r\n            </div>\r\n\r\n            <textarea\r\n              placeholder=\"Special requests or notes...\"\r\n              value={specialRequests}\r\n              onChange={(e) => setSpecialRequests(e.target.value)}\r\n              className=\"special-requests\"\r\n            />\r\n\r\n            <button\r\n              className=\"reserve-btn\"\r\n              onClick={() => handleReservation(table._id)}\r\n              disabled={!selectedDate || !selectedTime}\r\n            >\r\n              Reserve Table\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {loading && (\r\n        <div className=\"loading-spinner\">\r\n          <div className=\"spinner\"></div>\r\n          <p>Loading available tables...</p>\r\n        </div>\r\n      )}\r\n\r\n      {!loading && !error && getFilteredTables().length === 0 && (\r\n        <div className=\"no-tables\">\r\n          <p>No tables available for {guests} guests</p>\r\n          <small>\r\n            Try adjusting the number of guests or selecting a different time/date\r\n          </small>\r\n        </div>\r\n      )}\r\n    </div>\r\n    <div className='footer'>\r\n      <Footer/>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TableReservation;\r\n","import React from 'react';\r\nimport './LoadingSpinner.css';\r\n\r\nconst LoadingSpinner = () => {\r\n  return (\r\n    <div className=\"spinner-container\">\r\n      <div className=\"spinner\">\r\n        <div className=\"spinner-inner\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingSpinner; ","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { format } from 'date-fns';\r\nimport { toast } from 'react-toastify';\r\nimport './MyTableReservation.css';\r\nimport { jwtDecode } from 'jwt-decode';\r\nimport LoadingSpinner from '../LoadingSpinner';\r\nimport Header from '../Header';\r\nimport Footer from '../footer';\r\nimport useAuth from '../../src/useAuth';  \r\n\r\n\r\nconst MyTableReservation = () => {\r\n  useAuth();\r\n  const [reservations, setReservations] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('upcoming');\r\n\r\n  useEffect(() => {\r\n    fetchReservations();\r\n  }, []);\r\n\r\n  const fetchReservations = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const decoded = jwtDecode(token);\r\n      \r\n      const response = await axios.get(`${import.meta.env.VITE_API}/user/restaurant/user-reservations/${decoded._id}`);\r\n      \r\n      if (response.data.success) {\r\n        setReservations(response.data.data);\r\n      }\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching reservations:', error);\r\n      setError('Failed to load reservations');\r\n      setLoading(false);\r\n      toast.error('Failed to load reservations');\r\n    }\r\n  };\r\n\r\n  const cancelReservation = async (reservationId) => {\r\n    try {\r\n      const response = await axios.put(`${import.meta.env.VITE_API}/user/restaurant/table-reservations/${reservationId}/cancel`);\r\n      \r\n      if (response.data.success) {\r\n        toast.success('Reservation cancelled successfully');\r\n        fetchReservations();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error cancelling reservation:', error);\r\n      toast.error('Failed to cancel reservation');\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    const colors = {\r\n      pending: 'text-yellow-600',\r\n      confirmed: 'text-green-600',\r\n      cancelled: 'text-red-600',\r\n      completed: 'text-gray-600'\r\n    };\r\n    return colors[status] || 'text-gray-600';\r\n  };\r\n\r\n  const filterReservations = (type) => {\r\n    const now = new Date();\r\n    return reservations.filter(reservation => {\r\n      const reservationDate = new Date(reservation.reservationDate);\r\n      if (type === 'upcoming') {\r\n        return reservationDate >= now && reservation.status !== 'cancelled';\r\n      } else {\r\n        return reservationDate < now || reservation.status === 'cancelled';\r\n      }\r\n    });\r\n  };\r\n\r\n  if (loading) return <LoadingSpinner />;\r\n  if (error) return <div className=\"error-message\">{error}</div>;\r\n\r\n  const filteredReservations = filterReservations(activeTab);\r\n\r\n  return (\r\n    <>\r\n    <div className='menunav'>\r\n      <Header title=\"Guest Information\" subtitle=\"Fill in guest details\" />\r\n    </div>\r\n    <div className=\"my-reservations-container\">\r\n      <h2 className=\"page-title\">My Table Reservations</h2>\r\n      \r\n      <div className=\"tabs\">\r\n        <button \r\n          className={`tab ${activeTab === 'upcoming' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('upcoming')}\r\n        >\r\n          Upcoming Reservations\r\n        </button>\r\n        <button \r\n          className={`tab ${activeTab === 'past' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('past')}\r\n        >\r\n          Past Reservations\r\n        </button>\r\n      </div>\r\n\r\n      {filteredReservations.length === 0 ? (\r\n        <div className=\"no-reservations\">\r\n          No {activeTab} reservations found\r\n        </div>\r\n      ) : (\r\n        <div className=\"reservations-grid\">\r\n          {filteredReservations.map((reservation) => (\r\n            <div key={reservation._id} className=\"reservation-card\">\r\n              <div className=\"card-header\">\r\n                <span className=\"reservation-id\">#{reservation._id.slice(-6)}</span>\r\n                <span className={`status ${getStatusColor(reservation.status)}`}>\r\n                  {reservation.status.charAt(0).toUpperCase() + reservation.status.slice(1)}\r\n                </span>\r\n              </div>\r\n              \r\n              <div className=\"card-body\">\r\n                <div className=\"info-row\">\r\n                  <i className=\"fas fa-calendar\"></i>\r\n                  <span>{format(new Date(reservation.reservationDate), 'MMM dd, yyyy')}</span>\r\n                </div>\r\n                <div className=\"info-row\">\r\n                  <i className=\"fas fa-clock\"></i>\r\n                  <span>{reservation.time}</span>\r\n                </div>\r\n                <div className=\"info-row\">\r\n                  <i className=\"fas fa-users\"></i>\r\n                  <span>{reservation.numberOfGuests} Guests</span>\r\n                </div>\r\n                <div className=\"info-row\">\r\n                  <i className=\"fas fa-chair\"></i>\r\n                  <span>Table {reservation.tableNumber}</span>\r\n                </div>\r\n                {reservation.specialRequests && (\r\n                  <div className=\"special-requests\">\r\n                    <p>Special Requests:</p>\r\n                    <p>{reservation.specialRequests}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {reservation.status === 'pending' && (\r\n                <div className=\"card-actions\">\r\n                  <button \r\n                    className=\"cancel-btn\"\r\n                    onClick={() => cancelReservation(reservation._id)}\r\n                  >\r\n                    Cancel Reservation\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n    <div className='footer'>\r\n      <Footer/>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MyTableReservation;\r\n","import React from 'react';\r\nimport { Routes, Route } from 'react-router-dom';\r\nimport PrivateRoute from './PrivateRoute';\r\n// import AdminRoute from './AdminRoute';\r\n\r\n// User Components\r\nimport MenuDisplay from '../../components/restaurant/MenuDisplay';\r\nimport CartManagement from '../../components/restaurant/CartManagement';\r\nimport OrderCheckout from '../../components/restaurant/OrderCheckout';\r\nimport OrderHistory from '../../components/restaurant/OrderHistory';\r\nimport TableReservation from '../../components/restaurant/TableReservation';\r\nimport MyTableReservation from '../../components/restaurant/MyTableReservation';\r\nimport ARView from '../../components/restaurant/ARView';\r\n\r\n// Admin Components\r\n// import RestaurantDashboard from '../../components/restaurant/admin/RestaurantDashboard';\r\n// import MenuManagement from '../../components/restaurant/admin/MenuManagement';\r\n// import TableManagement from '../../components/restaurant/admin/TableManagement';\r\n// import OrderManagement from '../../components/restaurant/admin/OrderManagement';\r\n// import ReservationManagement from '../../components/restaurant/admin/ReservationManagement';\r\n\r\nconst RestaurantRoutes = () => {\r\n  return (\r\n    <Routes>\r\n      {/* Public Routes */}\r\n      <Route path=\"menu\" element={<MenuDisplay />} />\r\n      <Route path=\"ar-view\" element={<ARView />} />\r\n\r\n      {/* Protected Routes */}\r\n      <Route element={<PrivateRoute />}>\r\n        <Route path=\"reservations\" element={<TableReservation />} />\r\n        <Route path=\"table-reservations\" element={<MyTableReservation />} />\r\n        <Route path=\"orders\" element={<OrderHistory />} />\r\n        <Route path=\"cart\" element={<CartManagement />} />\r\n      </Route>\r\n\r\n      {/* Admin Routes */}\r\n      {/* <Route element={<AdminRoute />}>\r\n        <Route path=\"admin\" element={<RestaurantDashboard />}>\r\n          <Route path=\"menu\" element={<MenuManagement />} />\r\n          <Route path=\"orders\" element={<OrderManagement />} />\r\n          <Route path=\"reservations\" element={<ReservationManagement />} />\r\n        </Route>\r\n      </Route> */}\r\n    </Routes>\r\n  );\r\n};\r\n\r\nexport default RestaurantRoutes; ","import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './Login.css';\r\n\r\nconst Login = () => {\r\n  const navigate = useNavigate();\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.post(\r\n        `${import.meta.env.VITE_API}/restaurant/admin/login`, \r\n        formData\r\n      );\r\n      \r\n      // Store the token and user info\r\n      localStorage.setItem('token', response.data.token);\r\n      localStorage.setItem('role', response.data.user.role);\r\n      \r\n      // Redirect to admin dashboard\r\n      navigate('/restaurant/admin');\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Login failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <div className=\"login-card\">\r\n        <h2>Login</h2>\r\n        {error && <div className=\"error-message\">{error}</div>}\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label>Email</label>\r\n            <input\r\n              type=\"email\"\r\n              value={formData.email}\r\n              onChange={(e) => setFormData({...formData, email: e.target.value})}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Password</label>\r\n            <input\r\n              type=\"password\"\r\n              value={formData.password}\r\n              onChange={(e) => setFormData({...formData, password: e.target.value})}\r\n              required\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\"login-button\">Login</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;","import { GoogleGenerativeAI } from \"@google/generative-ai\";\r\n\r\nconst cleanAndParseJSON = (text) => {\r\n  try {\r\n    // Remove markdown code block syntax if present\r\n    let cleanText = text.replace(/```json\\n?/g, '').replace(/```\\n?/g, '');\r\n    \r\n    // Remove any markdown formatting\r\n    cleanText = cleanText.replace(/\\*\\*/g, '');\r\n    \r\n    // Try to find JSON content between curly braces\r\n    const jsonMatch = cleanText.match(/\\{[\\s\\S]*\\}/);\r\n    if (jsonMatch) {\r\n      cleanText = jsonMatch[0];\r\n    }\r\n    \r\n    return JSON.parse(cleanText);\r\n  } catch (error) {\r\n    console.error('JSON parsing error:', error);\r\n    return {\r\n      error: true,\r\n      message: 'Failed to parse response',\r\n      rawText: text\r\n    };\r\n  }\r\n};\r\n\r\nexport const generateContent = async (prompt, apiKey) => {\r\n  try {\r\n    // Initialize the API\r\n    const genAI = new GoogleGenerativeAI(apiKey);\r\n    \r\n    try {\r\n      // Try with gemini-1.5-pro-latest first\r\n      const model = genAI.getGenerativeModel({ \r\n        model: \"gemini-1.5-pro-latest\",\r\n        generationConfig: {\r\n          temperature: 0.7,\r\n          topK: 40,\r\n          topP: 0.95,\r\n          maxOutputTokens: 2048,\r\n        }\r\n      });\r\n\r\n      const result = await model.generateContent({\r\n        contents: [{ parts: [{ text: prompt + \"\\nPlease ensure the response is in valid JSON format.\" }] }],\r\n      });\r\n\r\n      const response = await result.response;\r\n      const text = response.text();\r\n      return cleanAndParseJSON(text);\r\n      \r\n    } catch (error) {\r\n      // If 1.5 fails, fallback to gemini-pro\r\n      console.log('Falling back to gemini-pro');\r\n      const fallbackModel = genAI.getGenerativeModel({ \r\n        model: \"gemini-pro\",\r\n        generationConfig: {\r\n          temperature: 0.7,\r\n          topK: 40,\r\n          topP: 0.95,\r\n          maxOutputTokens: 2048,\r\n        }\r\n      });\r\n\r\n      const result = await fallbackModel.generateContent({\r\n        contents: [{ parts: [{ text: prompt + \"\\nPlease ensure the response is in valid JSON format.\" }] }],\r\n      });\r\n\r\n      const response = await result.response;\r\n      const text = response.text();\r\n      return cleanAndParseJSON(text);\r\n    }\r\n  } catch (error) {\r\n    console.error('Generation error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const generateContentWithImage = async (prompt, imageData, apiKey) => {\r\n  try {\r\n    const genAI = new GoogleGenerativeAI(apiKey);\r\n    \r\n    try {\r\n      // Try with gemini-1.5-pro-vision-latest first\r\n      const model = genAI.getGenerativeModel({ \r\n        model: \"gemini-1.5-pro-vision-latest\",\r\n        generationConfig: {\r\n          temperature: 0.7,\r\n          topK: 40,\r\n          topP: 0.95,\r\n          maxOutputTokens: 2048,\r\n        }\r\n      });\r\n\r\n      const result = await model.generateContent({\r\n        contents: [{\r\n          parts: [\r\n            { text: prompt },\r\n            {\r\n              inlineData: {\r\n                mimeType: \"image/jpeg\",\r\n                data: imageData\r\n              }\r\n            }\r\n          ]\r\n        }]\r\n      });\r\n\r\n      const response = await result.response;\r\n      const text = response.text();\r\n      return cleanAndParseJSON(text);\r\n      \r\n    } catch (error) {\r\n      // If 1.5 fails, fallback to gemini-pro-vision\r\n      console.log('Falling back to gemini-pro-vision');\r\n      const fallbackModel = genAI.getGenerativeModel({ \r\n        model: \"gemini-pro-vision\",\r\n        generationConfig: {\r\n          temperature: 0.7,\r\n          topK: 40,\r\n          topP: 0.95,\r\n          maxOutputTokens: 2048,\r\n        }\r\n      });\r\n\r\n      const result = await fallbackModel.generateContent({\r\n        contents: [{\r\n          parts: [\r\n            { text: prompt },\r\n            {\r\n              inlineData: {\r\n                mimeType: \"image/jpeg\",\r\n                data: imageData\r\n              }\r\n            }\r\n          ]\r\n        }]\r\n      });\r\n\r\n      const response = await result.response;\r\n      const text = response.text();\r\n      return cleanAndParseJSON(text);\r\n    }\r\n  } catch (error) {\r\n    console.error('Image generation error:', error);\r\n    throw error;\r\n  }\r\n}; ","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  Grid,\r\n  CircularProgress,\r\n  Chip,\r\n  TextField,\r\n  Button,\r\n  Alert,\r\n  Fade,\r\n  Grow,\r\n  Paper,\r\n  Rating,\r\n} from '@mui/material';\r\nimport {\r\n  Place,\r\n  AccessTime,\r\n  Language,\r\n  LocalActivity,\r\n  Restaurant,\r\n  Event,\r\n  AttachMoney,\r\n  Star,\r\n  Favorite,\r\n  LocalOffer,\r\n  Info,\r\n  Lightbulb,\r\n  DirectionsWalk,\r\n} from '@mui/icons-material';\r\nimport { styled } from '@mui/material/styles';\r\nimport { motion } from 'framer-motion';\r\nimport { generateContent } from '../../services/geminiAPI';\r\nimport Swal from 'sweetalert2';\r\n\r\n// Styled components\r\nconst StyledCard = styled(Card)(({ theme }) => ({\r\n  transition: 'transform 0.3s, box-shadow 0.3s',\r\n  '&:hover': {\r\n    transform: 'translateY(-5px)',\r\n    boxShadow: theme.shadows[8],\r\n  },\r\n  background: 'linear-gradient(145deg, #ffffff 0%, #f5f5f5 100%)',\r\n}));\r\n\r\nconst IconWrapper = styled(Box)(({ theme }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  color: theme.palette.primary.main,\r\n  marginBottom: theme.spacing(1),\r\n}));\r\n\r\nconst PriceChip = styled(Chip)(({ theme }) => ({\r\n  background: theme.palette.success.light,\r\n  color: theme.palette.success.contrastText,\r\n}));\r\n\r\nconst RatingChip = styled(Chip)(({ theme }) => ({\r\n  background: theme.palette.warning.light,\r\n  color: theme.palette.warning.contrastText,\r\n}));\r\n\r\n// Animation variants\r\nconst containerVariants = {\r\n  hidden: { opacity: 0 },\r\n  visible: {\r\n    opacity: 1,\r\n    transition: {\r\n      staggerChildren: 0.1\r\n    }\r\n  }\r\n};\r\n\r\nconst itemVariants = {\r\n  hidden: { y: 20, opacity: 0 },\r\n  visible: {\r\n    y: 0,\r\n    opacity: 1\r\n  }\r\n};\r\n\r\nconst TravelGuide = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [location, setLocation] = useState('');\r\n  const [nearbyPlaces, setNearbyPlaces] = useState(null);\r\n  const GEMINI_API_KEY = import.meta.env.VITE_GEMINI_API_KEY;\r\n\r\n  const getNearbyPlaces = async (location) => {\r\n    if (!location) {\r\n      setError('Please enter a location');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // First, try to get the correct location name\r\n      const correctionPrompt = `Given the location \"${location}\", return ONLY the correct location name as a JSON object with this structure: {\"correctedLocation\": \"correct name\"}. If it's already correct, return the same name. Example: for \"New Yrok\" return {\"correctedLocation\": \"New York\"}`;\r\n      \r\n      const correctionResult = await generateContent(correctionPrompt, GEMINI_API_KEY);\r\n      \r\n      if (correctionResult.error) {\r\n        throw new Error(correctionResult.message);\r\n      }\r\n\r\n      const correctedLocation = correctionResult.correctedLocation;\r\n\r\n      // If location was corrected, show a notification\r\n      if (correctedLocation.toLowerCase() !== location.toLowerCase()) {\r\n        Swal.fire({\r\n          icon: 'info',\r\n          title: 'Location Corrected',\r\n          text: `Showing results for \"${correctedLocation}\" instead of \"${location}\"`,\r\n          showConfirmButton: false,\r\n          timer: 2000\r\n        });\r\n        setLocation(correctedLocation); // Update the input field\r\n      }\r\n\r\n      // Now get the travel information with the corrected location\r\n      const prompt = `Act as a local tour guide and provide comprehensive information about ${correctedLocation}. \r\n                     Return ONLY a JSON object with the following structure:\r\n                     {\r\n                       \"nearbyAttractions\": [{\"name\": \"\", \"description\": \"\", \"type\": \"\", \"bestTime\": \"\", \"rating\": \"\", \"ticketPrice\": \"\", \"tips\": \"\"}],\r\n                       \"localFood\": [{\"name\": \"\", \"description\": \"\", \"where\": \"\", \"price\": \"\", \"mustTry\": boolean}],\r\n                       \"events\": [{\"name\": \"\", \"time\": \"\", \"description\": \"\", \"venue\": \"\"}],\r\n                       \"practicalInfo\": {\"bestTimeToVisit\": \"\", \"weather\": \"\", \"localTransport\": \"\", \"safety\": \"\"},\r\n                       \"culturalTips\": [\"\"],\r\n                       \"hiddenGems\": [{\"name\": \"\", \"description\": \"\", \"why\": \"\"}]\r\n                     }`;\r\n      \r\n      const result = await generateContent(prompt, GEMINI_API_KEY);\r\n      \r\n      if (result.error) {\r\n        throw new Error(result.message);\r\n      }\r\n      \r\n      setNearbyPlaces(result);\r\n    } catch (error) {\r\n      console.error('Error fetching places:', error);\r\n      setError('Failed to fetch location information. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ p: 3 }}>\r\n      <Fade in timeout={1000}>\r\n        <Typography variant=\"h4\" gutterBottom sx={{\r\n          textAlign: 'center',\r\n          color: 'primary.main',\r\n          fontWeight: 'bold',\r\n          mb: 4\r\n        }}>\r\n          <LocalActivity sx={{ mr: 1, verticalAlign: 'bottom' }} />\r\n          Travel Guide\r\n        </Typography>\r\n      </Fade>\r\n\r\n      <Grow in timeout={500}>\r\n        <StyledCard sx={{ mb: 3 }}>\r\n          <CardContent>\r\n            <Grid container spacing={2} alignItems=\"center\">\r\n              <Grid item xs={12} md={8}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Enter Location\"\r\n                  value={location}\r\n                  onChange={(e) => setLocation(e.target.value)}\r\n                  placeholder=\"e.g., Paris, France\"\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  onClick={() => getNearbyPlaces(location)}\r\n                  disabled={loading}\r\n                >\r\n                  Explore Location\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </CardContent>\r\n        </StyledCard>\r\n      </Grow>\r\n\r\n      {error && (\r\n        <Fade in>\r\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n            {error}\r\n          </Alert>\r\n        </Fade>\r\n      )}\r\n\r\n      {loading ? (\r\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"200px\">\r\n          <CircularProgress size={60} thickness={4} />\r\n        </Box>\r\n      ) : nearbyPlaces && (\r\n        <motion.div\r\n          variants={containerVariants}\r\n          initial=\"hidden\"\r\n          animate=\"visible\"\r\n        >\r\n          <Grid container spacing={3}>\r\n            {/* Nearby Attractions */}\r\n            <Grid item xs={12}>\r\n              <motion.div variants={itemVariants}>\r\n                <StyledCard>\r\n                  <CardContent>\r\n                    <IconWrapper>\r\n                      <LocalActivity sx={{ mr: 1 }} />\r\n                      <Typography variant=\"h5\">Nearby Attractions</Typography>\r\n                    </IconWrapper>\r\n                    <Grid container spacing={2}>\r\n                      {nearbyPlaces.nearbyAttractions.map((attraction, index) => (\r\n                        <Grid item xs={12} md={4} key={index}>\r\n                          <motion.div\r\n                            whileHover={{ scale: 1.02 }}\r\n                            whileTap={{ scale: 0.98 }}\r\n                          >\r\n                            <Paper elevation={3} sx={{ p: 2, height: '100%' }}>\r\n                              <Typography variant=\"h6\" color=\"primary\">\r\n                                {attraction.name}\r\n                              </Typography>\r\n                              <Typography variant=\"body2\" sx={{ mb: 2 }}>\r\n                                {attraction.description}\r\n                              </Typography>\r\n                              <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\r\n                                <PriceChip\r\n                                  icon={<AttachMoney />}\r\n                                  label={attraction.ticketPrice}\r\n                                  size=\"small\"\r\n                                />\r\n                                <RatingChip\r\n                                  icon={<Star />}\r\n                                  label={`${attraction.rating}/5`}\r\n                                  size=\"small\"\r\n                                />\r\n                              </Box>\r\n                            </Paper>\r\n                          </motion.div>\r\n                        </Grid>\r\n                      ))}\r\n                    </Grid>\r\n                  </CardContent>\r\n                </StyledCard>\r\n              </motion.div>\r\n            </Grid>\r\n\r\n            {/* Local Food */}\r\n            <Grid item xs={12} md={6}>\r\n              <StyledCard>\r\n                <CardContent>\r\n                  <IconWrapper>\r\n                    <Restaurant sx={{ mr: 1 }} />\r\n                    <Typography variant=\"h5\">Local Cuisine</Typography>\r\n                  </IconWrapper>\r\n                  {nearbyPlaces.localFood.map((food, index) => (\r\n                    <Box key={index} sx={{ mb: 3 }}>\r\n                      <Typography variant=\"h6\">{food.name}</Typography>\r\n                      <Typography variant=\"body2\" paragraph>\r\n                        {food.description}\r\n                      </Typography>\r\n                      <Typography variant=\"body2\">\r\n                        Where to try: {food.where}\r\n                      </Typography>\r\n                      <Typography variant=\"body2\">\r\n                        Price: {food.price}\r\n                      </Typography>\r\n                      {food.mustTry && (\r\n                        <Chip \r\n                          label=\"Must Try!\" \r\n                          color=\"primary\" \r\n                          size=\"small\" \r\n                          sx={{ mt: 1 }}\r\n                        />\r\n                      )}\r\n                    </Box>\r\n                  ))}\r\n                </CardContent>\r\n              </StyledCard>\r\n            </Grid>\r\n\r\n            {/* Events and Practical Info */}\r\n            <Grid item xs={12} md={6}>\r\n              <StyledCard sx={{ mb: 2 }}>\r\n                <CardContent>\r\n                  <IconWrapper>\r\n                    <Event sx={{ mr: 1 }} />\r\n                    <Typography variant=\"h5\">Upcoming Events</Typography>\r\n                  </IconWrapper>\r\n                  {nearbyPlaces.events.map((event, index) => (\r\n                    <Box key={index} sx={{ mb: 2 }}>\r\n                      <Typography variant=\"h6\">{event.name}</Typography>\r\n                      <Typography variant=\"body2\" color=\"textSecondary\">\r\n                        {event.time} at {event.venue}\r\n                      </Typography>\r\n                      <Typography variant=\"body2\">\r\n                        {event.description}\r\n                      </Typography>\r\n                    </Box>\r\n                  ))}\r\n                </CardContent>\r\n              </StyledCard>\r\n\r\n              <StyledCard>\r\n                <CardContent>\r\n                  <IconWrapper>\r\n                    <Info sx={{ mr: 1 }} />\r\n                    <Typography variant=\"h5\">Practical Information</Typography>\r\n                  </IconWrapper>\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    Best Time to Visit\r\n                  </Typography>\r\n                  <Typography paragraph>\r\n                    {nearbyPlaces.practicalInfo.bestTimeToVisit}\r\n                  </Typography>\r\n                  \r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    Weather\r\n                  </Typography>\r\n                  <Typography paragraph>\r\n                    {nearbyPlaces.practicalInfo.weather}\r\n                  </Typography>\r\n\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    Local Transport\r\n                  </Typography>\r\n                  <Typography paragraph>\r\n                    {nearbyPlaces.practicalInfo.localTransport}\r\n                  </Typography>\r\n\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    Safety Tips\r\n                  </Typography>\r\n                  <Typography>\r\n                    {nearbyPlaces.practicalInfo.safety}\r\n                  </Typography>\r\n                </CardContent>\r\n              </StyledCard>\r\n            </Grid>\r\n\r\n            {/* Hidden Gems */}\r\n            <Grid item xs={12}>\r\n              <StyledCard>\r\n                <CardContent>\r\n                  <IconWrapper>\r\n                    <Lightbulb sx={{ mr: 1 }} />\r\n                    <Typography variant=\"h5\">Hidden Gems</Typography>\r\n                  </IconWrapper>\r\n                  <Grid container spacing={2}>\r\n                    {nearbyPlaces.hiddenGems.map((gem, index) => (\r\n                      <Grid item xs={12} md={4} key={index}>\r\n                        <Paper elevation={3} sx={{ p: 2, height: '100%' }}>\r\n                          <Typography variant=\"h6\">{gem.name}</Typography>\r\n                          <Typography variant=\"body2\" paragraph>\r\n                            {gem.description}\r\n                          </Typography>\r\n                          <Typography variant=\"body2\" color=\"primary\">\r\n                            Why visit: {gem.why}\r\n                          </Typography>\r\n                        </Paper>\r\n                      </Grid>\r\n                    ))}\r\n                  </Grid>\r\n                </CardContent>\r\n              </StyledCard>\r\n            </Grid>\r\n\r\n            {/* Cultural Tips */}\r\n            <Grid item xs={12}>\r\n              <StyledCard>\r\n                <CardContent>\r\n                  <IconWrapper>\r\n                    <Favorite sx={{ mr: 1 }} />\r\n                    <Typography variant=\"h5\">Cultural Tips</Typography>\r\n                  </IconWrapper>\r\n                  <Grid container spacing={2}>\r\n                    {nearbyPlaces.culturalTips.map((tip, index) => (\r\n                      <Grid item xs={12} md={6} key={index}>\r\n                        <Typography>â€¢ {tip}</Typography>\r\n                      </Grid>\r\n                    ))}\r\n                  </Grid>\r\n                </CardContent>\r\n              </StyledCard>\r\n            </Grid>\r\n          </Grid>\r\n        </motion.div>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default TravelGuide;","import React, { useState } from 'react';\r\nimport {\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  Grid,\r\n  TextField,\r\n  Button,\r\n  CircularProgress,\r\n  Alert,\r\n  Chip,\r\n  Divider,\r\n} from '@mui/material';\r\nimport {\r\n  Train,\r\n  Flight,\r\n  DirectionsBus,\r\n  DirectionsCar,\r\n  AccessTime,\r\n  AttachMoney,\r\n  Warning,\r\n  Info,\r\n  LocationOn,\r\n} from '@mui/icons-material';\r\nimport { generateContent } from '../../services/geminiAPI';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst TransportInfo = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [from, setFrom] = useState('');\r\n  const [to, setTo] = useState('');\r\n  const [transportInfo, setTransportInfo] = useState(null);\r\n  const GEMINI_API_KEY = import.meta.env.VITE_GEMINI_API_KEY;\r\n\r\n  const getTransportInfo = async () => {\r\n    if (!from || !to) {\r\n      setError('Please enter both locations');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // First, correct both location names\r\n      const correctionPrompt = `Given the locations \"from: ${from}\" and \"to: ${to}\", return ONLY a JSON object with correct location names in this structure: {\"fromLocation\": \"correct from name\", \"toLocation\": \"correct to name\"}. If names are already correct, return the same names. Example: for \"New Yrok\" to \"Washingten\" return {\"fromLocation\": \"New York\", \"toLocation\": \"Washington\"}`;\r\n      \r\n      const correctionResult = await generateContent(correctionPrompt, GEMINI_API_KEY);\r\n      \r\n      if (correctionResult.error) {\r\n        throw new Error(correctionResult.message);\r\n      }\r\n\r\n      const correctedFrom = correctionResult.fromLocation;\r\n      const correctedTo = correctionResult.toLocation;\r\n\r\n      // Show correction notification if either location was corrected\r\n      if (correctedFrom.toLowerCase() !== from.toLowerCase() || \r\n          correctedTo.toLowerCase() !== to.toLowerCase()) {\r\n        Swal.fire({\r\n          icon: 'info',\r\n          title: 'Locations Corrected',\r\n          html: `Showing results for:<br>\r\n                ${from !== correctedFrom ? `<b>From:</b> \"${correctedFrom}\" (corrected from \"${from}\")<br>` : ''}\r\n                ${to !== correctedTo ? `<b>To:</b> \"${correctedTo}\" (corrected from \"${to}\")` : ''}`,\r\n          showConfirmButton: true,\r\n          timer: 3000\r\n        });\r\n        \r\n        // Update the input fields\r\n        setFrom(correctedFrom);\r\n        setTo(correctedTo);\r\n      }\r\n\r\n      // Get transport information with corrected locations\r\n      const prompt = `Act as a comprehensive transport guide and provide information about traveling from ${correctedFrom} to ${correctedTo}. \r\n                     Return ONLY a JSON object with the following structure:\r\n                     {\r\n                       \"flights\": [{\"duration\": \"\", \"priceRange\": \"\", \"airlines\": \"\", \"frequency\": \"\", \"bestTimeToBook\": \"\", \"terminalTips\": \"\"}],\r\n                       \"trains\": [{\"duration\": \"\", \"priceRange\": \"\", \"trainTypes\": \"\", \"frequency\": \"\", \"stationInfo\": \"\", \"amenities\": \"\"}],\r\n                       \"buses\": [{\"duration\": \"\", \"priceRange\": \"\", \"operators\": \"\", \"frequency\": \"\", \"comfort\": \"\", \"stops\": \"\"}],\r\n                       \"driving\": {\"duration\": \"\", \"distance\": \"\", \"routeHighlights\": [], \"roadConditions\": \"\", \"restStops\": \"\", \"tollInfo\": \"\"},\r\n                       \"generalTips\": [\"\"],\r\n                       \"seasonalInfo\": {\"peak\": \"\", \"offPeak\": \"\", \"weatherConsiderations\": \"\"}\r\n                     }`;\r\n      \r\n      const result = await generateContent(prompt, GEMINI_API_KEY);\r\n      \r\n      if (result.error) {\r\n        throw new Error(result.message);\r\n      }\r\n      \r\n      setTransportInfo(result);\r\n    } catch (error) {\r\n      console.error('Error fetching transport information:', error);\r\n      setError('Failed to fetch transport information. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ p: 3 }}>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Transport Guide\r\n      </Typography>\r\n\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Grid container spacing={2} alignItems=\"center\">\r\n            <Grid item xs={12} md={5}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"From\"\r\n                value={from}\r\n                onChange={(e) => setFrom(e.target.value)}\r\n                placeholder=\"e.g., London\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={5}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"To\"\r\n                value={to}\r\n                onChange={(e) => setTo(e.target.value)}\r\n                placeholder=\"e.g., Paris\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={2}>\r\n              <Button\r\n                fullWidth\r\n                variant=\"contained\"\r\n                onClick={getTransportInfo}\r\n                disabled={loading}\r\n                sx={{ height: '56px' }}\r\n              >\r\n                Search Routes\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {loading ? (\r\n        <Box display=\"flex\" justifyContent=\"center\">\r\n          <CircularProgress />\r\n        </Box>\r\n      ) : transportInfo && (\r\n        <Grid container spacing={3}>\r\n          {/* Flights Section */}\r\n          <Grid item xs={12} md={6}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h5\" gutterBottom sx={{ display: 'flex', alignItems: 'center' }}>\r\n                  <Flight sx={{ mr: 1 }} />\r\n                  Flights\r\n                </Typography>\r\n                {transportInfo.flights.map((flight, index) => (\r\n                  <Box key={index} sx={{ mb: 3 }}>\r\n                    <Typography variant=\"h6\">Option {index + 1}</Typography>\r\n                    <Grid container spacing={2}>\r\n                      <Grid item xs={6}>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">Duration</Typography>\r\n                        <Typography>{flight.duration}</Typography>\r\n                      </Grid>\r\n                      <Grid item xs={6}>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">Price Range</Typography>\r\n                        <Typography>{flight.priceRange}</Typography>\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">Airlines</Typography>\r\n                        <Typography>{flight.airlines}</Typography>\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">Frequency</Typography>\r\n                        <Typography>{flight.frequency}</Typography>\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Chip \r\n                          icon={<Info />} \r\n                          label={`Best Time to Book: ${flight.bestTimeToBook}`}\r\n                          sx={{ mr: 1, mb: 1 }}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Typography variant=\"body2\" sx={{ backgroundColor: '#f5f5f5', p: 1, borderRadius: 1 }}>\r\n                          ðŸ’¡ Terminal Tip: {flight.terminalTips}\r\n                        </Typography>\r\n                      </Grid>\r\n                    </Grid>\r\n                    {index < transportInfo.flights.length - 1 && <Divider sx={{ my: 2 }} />}\r\n                  </Box>\r\n                ))}\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n\r\n          {/* Trains Section */}\r\n          <Grid item xs={12} md={6}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h5\" gutterBottom sx={{ display: 'flex', alignItems: 'center' }}>\r\n                  <Train sx={{ mr: 1 }} />\r\n                  Trains\r\n                </Typography>\r\n                {transportInfo.trains.map((train, index) => (\r\n                  <Box key={index} sx={{ mb: 3 }}>\r\n                    <Typography variant=\"h6\">Option {index + 1}</Typography>\r\n                    <Grid container spacing={2}>\r\n                      <Grid item xs={6}>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">Duration</Typography>\r\n                        <Typography>{train.duration}</Typography>\r\n                      </Grid>\r\n                      <Grid item xs={6}>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">Price Range</Typography>\r\n                        <Typography>{train.priceRange}</Typography>\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">Train Types</Typography>\r\n                        <Typography>{train.trainTypes}</Typography>\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">Frequency</Typography>\r\n                        <Typography>{train.frequency}</Typography>\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">Station Info</Typography>\r\n                        <Typography>{train.stationInfo}</Typography>\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">Amenities</Typography>\r\n                        {train.amenities.split(',').map((amenity, i) => (\r\n                          <Chip \r\n                            key={i}\r\n                            label={amenity.trim()}\r\n                            size=\"small\"\r\n                            sx={{ mr: 1, mb: 1 }}\r\n                          />\r\n                        ))}\r\n                      </Grid>\r\n                    </Grid>\r\n                    {index < transportInfo.trains.length - 1 && <Divider sx={{ my: 2 }} />}\r\n                  </Box>\r\n                ))}\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n\r\n          {/* Buses Section */}\r\n          <Grid item xs={12} md={6}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h5\" gutterBottom sx={{ display: 'flex', alignItems: 'center' }}>\r\n                  <DirectionsBus sx={{ mr: 1 }} />\r\n                  Buses\r\n                </Typography>\r\n                {transportInfo.buses.map((bus, index) => (\r\n                  <Box key={index} sx={{ mb: 3 }}>\r\n                    <Typography variant=\"h6\">Option {index + 1}</Typography>\r\n                    <Grid container spacing={2}>\r\n                      <Grid item xs={6}>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">Duration</Typography>\r\n                        <Typography>{bus.duration}</Typography>\r\n                      </Grid>\r\n                      <Grid item xs={6}>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">Price Range</Typography>\r\n                        <Typography>{bus.priceRange}</Typography>\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">Operators</Typography>\r\n                        <Typography>{bus.operators}</Typography>\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">Frequency</Typography>\r\n                        <Typography>{bus.frequency}</Typography>\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">Comfort Level</Typography>\r\n                        <Typography>{bus.comfort}</Typography>\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\">Stops</Typography>\r\n                        <Typography>{bus.stops}</Typography>\r\n                      </Grid>\r\n                    </Grid>\r\n                    {index < transportInfo.buses.length - 1 && <Divider sx={{ my: 2 }} />}\r\n                  </Box>\r\n                ))}\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n\r\n          {/* Driving Section */}\r\n          <Grid item xs={12} md={6}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h5\" gutterBottom sx={{ display: 'flex', alignItems: 'center' }}>\r\n                  <DirectionsCar sx={{ mr: 1 }} />\r\n                  Driving\r\n                </Typography>\r\n                <Grid container spacing={2}>\r\n                  <Grid item xs={6}>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\">Duration</Typography>\r\n                    <Typography>{transportInfo.driving.duration}</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\">Distance</Typography>\r\n                    <Typography>{transportInfo.driving.distance}</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\">Route Highlights</Typography>\r\n                    {transportInfo.driving.routeHighlights.map((highlight, index) => (\r\n                      <Chip\r\n                        key={index}\r\n                        icon={<LocationOn />}\r\n                        label={highlight}\r\n                        sx={{ mr: 1, mb: 1 }}\r\n                      />\r\n                    ))}\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\">Road Conditions</Typography>\r\n                    <Typography>{transportInfo.driving.roadConditions}</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\">Rest Stops</Typography>\r\n                    <Typography>{transportInfo.driving.restStops}</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\">Toll Information</Typography>\r\n                    <Typography>{transportInfo.driving.tollInfo}</Typography>\r\n                  </Grid>\r\n                </Grid>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n\r\n          {/* General Tips */}\r\n          <Grid item xs={12}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h5\" gutterBottom>\r\n                  Travel Tips\r\n                </Typography>\r\n                <Grid container spacing={2}>\r\n                  {transportInfo.generalTips.map((tip, index) => (\r\n                    <Grid item xs={12} md={6} key={index}>\r\n                      <Typography sx={{ display: 'flex', alignItems: 'center' }}>\r\n                        <Info sx={{ mr: 1, color: 'primary.main' }} />\r\n                        {tip}\r\n                      </Typography>\r\n                    </Grid>\r\n                  ))}\r\n                </Grid>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n\r\n          {/* Seasonal Information */}\r\n          <Grid item xs={12}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h5\" gutterBottom>\r\n                  Seasonal Information\r\n                </Typography>\r\n                <Grid container spacing={3}>\r\n                  <Grid item xs={12} md={4}>\r\n                    <Typography variant=\"h6\">Peak Season</Typography>\r\n                    <Typography>{transportInfo.seasonalInfo.peak}</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={12} md={4}>\r\n                    <Typography variant=\"h6\">Off-Peak Season</Typography>\r\n                    <Typography>{transportInfo.seasonalInfo.offPeak}</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={12} md={4}>\r\n                    <Typography variant=\"h6\">Weather Considerations</Typography>\r\n                    <Typography>{transportInfo.seasonalInfo.weatherConsiderations}</Typography>\r\n                  </Grid>\r\n                </Grid>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default TransportInfo;","import React, { useState } from 'react';\r\nimport {\r\n  Container,\r\n  Paper,\r\n  Typography,\r\n  Tabs,\r\n  Tab,\r\n  Box,\r\n  Fade,\r\n  Divider,\r\n} from '@mui/material';\r\nimport {\r\n  Place,\r\n  DirectionsTransit,\r\n  ExploreOutlined,\r\n} from '@mui/icons-material';\r\nimport { styled } from '@mui/material/styles';\r\nimport { motion } from 'framer-motion';\r\nimport TravelGuide from '../TravelGuide/TravelGuide';\r\nimport TransportInfo from '../TravelGuide/TransportInfo';\r\nimport Header from '../../../components/Header';\r\nimport './Guide.css';\r\nimport useAuth from '../../useAuth';\r\n\r\n\r\n\r\n// Styled Components\r\nconst StyledPaper = styled(Paper)(({ theme }) => ({\r\n  padding: theme.spacing(4),\r\n  marginBottom: theme.spacing(4),\r\n  background: 'linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)',\r\n  borderRadius: theme.spacing(2),\r\n  boxShadow: '0 8px 32px rgba(0,0,0,0.1)',\r\n  transition: 'transform 0.3s ease-in-out',\r\n  '&:hover': {\r\n    transform: 'translateY(-5px)',\r\n  },\r\n}));\r\n\r\nconst StyledTabs = styled(Tabs)(({ theme }) => ({\r\n  '& .MuiTabs-indicator': {\r\n    height: 3,\r\n    borderRadius: 1.5,\r\n  },\r\n  '& .MuiTab-root': {\r\n    minHeight: 64,\r\n    fontSize: '1rem',\r\n    textTransform: 'none',\r\n    fontWeight: 500,\r\n    transition: 'all 0.3s',\r\n    '&:hover': {\r\n      color: theme.palette.primary.main,\r\n      opacity: 1,\r\n    },\r\n    '&.Mui-selected': {\r\n      color: theme.palette.primary.main,\r\n    },\r\n  },\r\n}));\r\n\r\nconst TabPanel = ({ children, value, index, ...other }) => (\r\n  <div\r\n    role=\"tabpanel\"\r\n    hidden={value !== index}\r\n    id={`travel-tabpanel-${index}`}\r\n    aria-labelledby={`travel-tab-${index}`}\r\n    {...other}\r\n  >\r\n    {value === index && (\r\n      <Fade in timeout={500}>\r\n        <Box sx={{ pt: 3 }}>{children}</Box>\r\n      </Fade>\r\n    )}\r\n  </div>\r\n);\r\n\r\nconst Guide = () => {\r\n  useAuth();\r\n  const [activeTab, setActiveTab] = useState(0);\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setActiveTab(newValue);\r\n  };\r\n\r\n  // Animation variants\r\n  const containerVariants = {\r\n    hidden: { opacity: 0, y: 20 },\r\n    visible: {\r\n      opacity: 1,\r\n      y: 0,\r\n      transition: {\r\n        duration: 0.6,\r\n        ease: \"easeOut\"\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <div className='menunav'>\r\n      <Header title=\"Guest Information\" subtitle=\"Fill in guest details\" />\r\n    </div>\r\n    <Container maxWidth=\"xl\">\r\n      <Divider sx={{ my: 4 }} />\r\n      \r\n      <motion.div\r\n        initial=\"hidden\"\r\n        animate=\"visible\"\r\n        variants={containerVariants}\r\n      >\r\n        <StyledPaper elevation={3}>\r\n          <Box sx={{ textAlign: 'center', mb: 4 }}>\r\n            <ExploreOutlined \r\n              sx={{ \r\n                fontSize: 40, \r\n                color: 'primary.main',\r\n                mb: 2\r\n              }} \r\n            />\r\n            <Typography \r\n              variant=\"h4\" \r\n              component=\"h2\"\r\n              sx={{\r\n                fontWeight: 600,\r\n                background: 'linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)',\r\n                WebkitBackgroundClip: 'text',\r\n                WebkitTextFillColor: 'transparent'\r\n              }}\r\n            >\r\n              Travel Information\r\n            </Typography>\r\n          </Box>\r\n\r\n          <StyledTabs\r\n            value={activeTab}\r\n            onChange={handleTabChange}\r\n            variant=\"fullWidth\"\r\n            centered\r\n            sx={{ borderBottom: 1, borderColor: 'divider' }}\r\n          >\r\n            <Tab \r\n              icon={<Place />} \r\n              label=\"Tourist Spots\" \r\n              sx={{ \r\n                display: 'flex',\r\n                flexDirection: 'row',\r\n                alignItems: 'center',\r\n                '& .MuiSvgIcon-root': {\r\n                  mr: 1\r\n                }\r\n              }}\r\n            />\r\n            <Tab \r\n              icon={<DirectionsTransit />} \r\n              label=\"Transport\"\r\n              sx={{ \r\n                display: 'flex',\r\n                flexDirection: 'row',\r\n                alignItems: 'center',\r\n                '& .MuiSvgIcon-root': {\r\n                  mr: 1\r\n                }\r\n              }}\r\n            />\r\n          </StyledTabs>\r\n\r\n          <TabPanel value={activeTab} index={0}>\r\n            <TravelGuide />\r\n          </TabPanel>\r\n\r\n          <TabPanel value={activeTab} index={1}>\r\n            <TransportInfo />\r\n          </TabPanel>\r\n        </StyledPaper>\r\n      </motion.div>\r\n    </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Guide; ","import React, { useState, useRef, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport QrScanner from 'qr-scanner';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Paper,\r\n  Alert,\r\n  CircularProgress,\r\n  Button,\r\n  Stack,\r\n} from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport axios from 'axios';\r\n\r\nconst StyledPaper = styled(Paper)(({ theme }) => ({\r\n  padding: theme.spacing(3),\r\n  marginBottom: theme.spacing(3),\r\n  background: 'linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%)',\r\n  borderRadius: theme.spacing(2),\r\n  boxShadow: '0 8px 32px rgba(0,0,0,0.1)',\r\n}));\r\n\r\nconst QRScanner = () => {\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(null);\r\n  const [scanner, setScanner] = useState(null);\r\n  const videoRef = useRef(null);\r\n  const fileInputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    initializeScanner();\r\n    return () => {\r\n      if (scanner) {\r\n        scanner.stop();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const initializeScanner = async () => {\r\n    try {\r\n      const newScanner = new QrScanner(\r\n        videoRef.current,\r\n        async result => {\r\n          await handleScanResult(result.data);\r\n        },\r\n        {\r\n          preferredCamera: 'environment',\r\n          highlightScanRegion: true,\r\n          highlightCodeOutline: true,\r\n        }\r\n      );\r\n      \r\n      setScanner(newScanner);\r\n      await newScanner.start();\r\n    } catch (err) {\r\n      setError('Failed to start camera. Please ensure camera permissions are granted.');\r\n      console.error('Scanner initialization error:', err);\r\n    }\r\n  };\r\n\r\n  const handleScanResult = async (qrData) => {\r\n    if (!loading) {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      try {\r\n        const response = await axios.post(\r\n          `${import.meta.env.VITE_API}/user/qr/process`,\r\n          {\r\n            qrData: qrData,\r\n            timestamp: new Date().toISOString()\r\n          },\r\n          {\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            }\r\n          }\r\n        );\r\n        \r\n        if (response.data.success) {\r\n          setSuccess(response.data.message);\r\n          playSound('success');\r\n          if (scanner) {\r\n            scanner.stop();\r\n          }\r\n          \r\n          // Navigate to home after 2 seconds\r\n          setTimeout(() => {\r\n            navigate('/');\r\n          }, 2000);\r\n        } else {\r\n          throw new Error(response.data.message || 'Failed to process QR code');\r\n        }\r\n      } catch (err) {\r\n        console.error('QR Processing Error:', err);\r\n        setError(\r\n          err.response?.data?.message || \r\n          err.message || \r\n          'Failed to process QR code. Please try again.'\r\n        );\r\n        playSound('error');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async (event) => {\r\n    const file = event.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const result = await QrScanner.scanImage(file);\r\n      await handleScanResult(result);\r\n    } catch (error) {\r\n      setError('Could not detect QR code in image. Please try another image.');\r\n      playSound('error');\r\n    } finally {\r\n      setLoading(false);\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n    }\r\n  };\r\n\r\n  const playSound = (type) => {\r\n    const audio = new Audio(`/sounds/${type}.mp3`);\r\n    audio.play().catch(console.error);\r\n  };\r\n\r\n  const resetScanner = async () => {\r\n    setError(null);\r\n    setSuccess(null);\r\n    if (scanner) {\r\n      await scanner.start();\r\n    }\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <StyledPaper>\r\n        <Typography variant=\"h5\" gutterBottom align=\"center\">\r\n          QR Code Scanner\r\n        </Typography>\r\n\r\n        <Box sx={{ mb: 3 }}>\r\n          <video \r\n            ref={videoRef}\r\n            style={{ \r\n              width: '100%',\r\n              borderRadius: '8px',\r\n              maxHeight: '350px',\r\n              objectFit: 'cover'\r\n            }}\r\n          />\r\n          <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" sx={{ mt: 1 }}>\r\n            Position the QR code within the frame\r\n          </Typography>\r\n        </Box>\r\n\r\n        <Box sx={{ textAlign: 'center', mb: 3 }}>\r\n          <input\r\n            ref={fileInputRef}\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={handleFileUpload}\r\n            style={{ display: 'none' }}\r\n            id=\"qr-file-input\"\r\n          />\r\n          <label htmlFor=\"qr-file-input\">\r\n            <Button\r\n              variant=\"outlined\"\r\n              component=\"span\"\r\n              sx={{ mx: 1 }}\r\n            >\r\n              Upload Image\r\n            </Button>\r\n          </label>\r\n        </Box>\r\n\r\n        {loading && (\r\n          <Stack alignItems=\"center\" spacing={2} sx={{ my: 3 }}>\r\n            <CircularProgress />\r\n            <Typography>Processing QR Code...</Typography>\r\n          </Stack>\r\n        )}\r\n\r\n        {error && (\r\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        {success && (\r\n          <Alert severity=\"success\" sx={{ mb: 2 }}>\r\n            {success}\r\n            <Typography variant=\"body2\" sx={{ mt: 1 }}>\r\n              Redirecting to home page...\r\n            </Typography>\r\n          </Alert>\r\n        )}\r\n\r\n        {(error || success) && (\r\n          <Box sx={{ textAlign: 'center', mt: 2 }}>\r\n            <Button \r\n              variant=\"contained\" \r\n              onClick={resetScanner}\r\n              color=\"primary\"\r\n            >\r\n              Scan Again\r\n            </Button>\r\n          </Box>\r\n        )}\r\n      </StyledPaper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default QRScanner;","import React,{useState} from \"react\"\nimport Signupin from './Signupin'\nimport Home from './home.jsx'\nimport Public from \"./Public.jsx\"\nimport { BrowserRouter,Routes,Route} from \"react-router-dom\"\nimport ManagerPanel from \"./ManagerPanel.jsx\"\nimport Rooms from \"./Rooms.jsx\"\nimport RoomInfo from \"./RoomInfo.jsx\"\nimport List from \"./List.jsx\"\nimport MyBookings from \"../components/Mybookings/MyBookings.jsx\"\nimport GuestDetailsForm from \"./GuestDetailsForm.jsx\"\nimport ReserveRoom from \"./Roomreserve.jsx\"\nimport MyProfile from \"../components/profile/MyProfile.jsx\"\nimport BookingDetails from '../components/bookingdetails/BookingDetails.jsx'\nimport SeeRoomDetails from \"./SeeRoomDetails.jsx\"\nimport SavedGuest from \"../components/savedguest/savedguest.jsx\"\nimport RestaurantRoutes from \"./routes/RestaurantRoutes.jsx\";\nimport Login from './Login.jsx';\nimport Guide from \"./components/Guide/Guide.jsx\";\nimport QRScanner from \"../src/components/QRSystem/QRScanner.jsx\";\n\nfunction App(){\n\n      return(\n         <BrowserRouter>\n            <Routes>\n            <Route path='/' element={ <Home /> }></Route> \n            <Route path='/signup' element={ <Signupin /> }></Route>\n            <Route path='/managerPanel' element={ <ManagerPanel /> }></Route>\n            <Route path='/public' element={ <Public /> }></Route> \n            <Route path='/rooms' element={ <Rooms /> }></Route> \n            <Route path='/roominfo' element={ <RoomInfo /> }></Route> \n            <Route path='/list' element={ <List /> }></Route> \n            <Route path='/guestdetails' element={ <GuestDetailsForm /> }></Route> \n            <Route path='/reserveroom' element={ <ReserveRoom /> }></Route> \n            <Route path=\"/my-bookings\" element={<MyBookings />} />\n            <Route path=\"/myprofile\" element={<MyProfile />} />\n            <Route path=\"/booking-details/:bookingId\" element={<BookingDetails />} />\n            <Route path=\"/roomdetails\" element={<SeeRoomDetails />} />\n            <Route path=\"/saved-guests\" element={<SavedGuest />} />\n            <Route path=\"/restaurant/*\" element={<RestaurantRoutes />} />\n            <Route path=\"/restaurent_login\" element={<Login />} /> \n            <Route path=\"/guide\" element={<Guide />} />\n            <Route path=\"/qrscanner\" element={<QRScanner />} />\n            \n            </Routes>\n         </BrowserRouter> \n      )\n }\n\n export default App;","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App.jsx'\n\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n)\n"],"names":["firebaseConfig","firebaseApp","initializeApp","LoginAuth","history","useNavigate","useEffect","auth","getAuth","googleProvider","GoogleAuthProvider","Signupin","axios","signUpMode","setSignUpMode","useState","otp","setOtp","isOtpSent","setIsOtpSent","isOtpVerified","setIsOtpVerified","verifytoken","settoken","showForgotPassword","setShowForgotPassword","otpSent","setOtpSent","otpVerified","setOtpVerified","resetPasswordData","setResetPasswordData","useFaceLogin","setUseFaceLogin","faceEmail","setFaceEmail","isProcessing","setIsProcessing","prompt","setPrompt","videoRef","useRef","streamRef","handleForgotPassword","e","res","Swal","err","handleVerifyOtp","handleResetPassword","handleResetPasswordChange","handleSignUpClick","handleSignInClick","datas","setdatas","formData","setFormData","focus","setFocus","handleChange","name","value","navigate","handleSubmit","handleOtpSubmit","handleLogin","signInWithGoogle","signInWithPopup","result","user","fields","_a","_b","_c","_d","error","MODEL_URL","faceapi.nets","track","handleFaceLogin","stream","resolve","loadingSwal","detection","attempts","maxAttempts","faceapi.detectSingleFace","faceapi.TinyFaceDetectorOptions","canvas","verificationData","val","response","errorMessage","jsx","jsxs","Fragment","formatDate","date","day","month","year","Checkin","searchdata","guestPopupVisible","setGuestPopupVisible","bookingDetails","setBookingDetails","minCheckOutDate","setMinCheckOutDate","handleCheckInChange","prevDetails","nextDay","formattedNextDay","handleCheckOutChange","toggleGuestPopup","handleAdultChange","increment","handleChildrenChange","handleSearch","DatePicker","logo$1","Header","dropdownOpen","setDropdownOpen","token","menuBtn","navLinks","menuBtnIcon","toggleMenu","isOpen","scrollRevealOption","ScrollReveal","handleLogout","setUser","handleUser","displayName","handleMouseEnter","handleMouseLeave","handleDropdownClick","path","logo","FaUtensils","genAI","GoogleGenerativeAI","API_BASE_URL","fetchApi","endpoint","fetchHotelData","rooms","restaurant","facilities","packages","generateSystemPrompt","hotelData","room","category","item","facility","pkg","formatResponse","text","contextData","menuByCategory","items","inc","generateResponse","userMessage","systemPrompt","chat","getQuerySpecificData","formattedResponse","options","getDynamicOptions","message","menu","defaultOptions","Chatbot","setIsOpen","showWelcomePopup","setShowWelcomePopup","messages","setMessages","FaHotel","MdRoomService","FaPhoneAlt","inputMessage","setInputMessage","isTyping","setIsTyping","setError","messagesEndRef","inputRef","scrollToBottom","timer","handleSendMessage","newUserMessage","prev","typingDelay","botResponse","handleOptionClick","option","handleKeyPress","FaRobot","FaTimes","index","optIndex","section","idx","point","i","info","FaPaperPlane","about","room1","facebook","instagram","youtube","Gallery","images","visibleImages","setVisibleImages","handleSeeMore","image","Home","setRooms","showChatbot","setShowChatbot","handleSeeDetails","availableRooms","chatbotTimer","handleScroll","Public","alert","bell","bills","budget$1","card","check","empty_check","gears","home","plane","plus","report","search","wallet","wealth","person_one","person_two","person_three","person_four","iconsImgs","budget","personsImgs","navigationLinks","transactions","reportData","subscriptions","savings","SidebarContext","createContext","PropTypes","Sidebar","activeLinkIdx","sidebarClass","setSidebarClass","isSidebarOpen","useContext","navigationLink","ContentTop","toggleSidebar","Cards","Transactions","transaction","Report","Budget","Subscriptions","subscription","Savings","saving","Loans","Financial","ContentMain","Content","ManagerPanel","Footer","currentYear","FaPhone","FaEnvelope","FaMapMarkerAlt","Link","FaFacebookF","FaInstagram","FaYoutube","FaTwitter","getRecommendations","userId","searchCriteria","Rooms","useLocation","roomNeed","setRoomNeed","selectedRoomType","setSelectedRoomType","priceRange","setPriceRange","filteredRooms","setFilteredRooms","recommendedRooms","setRecommendedRooms","userPreferences","setUserPreferences","checkrooms","roomsNeeded","roomsAvailable","fetchRecommendations","recommendations","groupByRoomType","groupedRooms","rooms2","groupedRooms2","calculateRequiredRooms","roomtype","roomsOfType","totalAdults","totalChildren","sampleRoom","roomsNeededForAdults","roomsNeededForChildren","totalRoomsNeeded","selectedRooms","randomIndex","handleRoomBooking","roomAllocation","getRoomTypes","handlePriceRangeChange","event","newValue","handleRoomTypeChange","filtered","isRecommended","rec","RecommendationExplanation","preferences","Box","Typography","RoomCard","FilterSection","FormControl","InputLabel","Select","MenuItem","type","Slider","RoomInfo","slideNumber","setSlideNumber","open","setOpen","state","roomdatas","allocation","dateCalculation","useMemo","checkOut","checkIn","differenceInTime","differenceInDays","rate","roomCalculation","allowedAdults","allowedChildren","requestedAdults","requestedChildren","roomsForAdults","roomsForChildren","totalRoomsRequired","totalRate","handleBook","photos","photo","handleOpen","handleMove","direction","totalImages","newSlideNumber","CloseIcon","FontAwesomeIcon","faCircleArrowLeft","faCircleArrowRight","faLocationDot","amenity","SearchItem","List","location","destination","searchDestination","setSearchDestination","searchDate","setSearchDate","openDate","setOpenDate","searchOptions","setSearchOptions","format","DateRange","useAuth","MyBookings","bookings","setBookings","displayCount","setDisplayCount","loading","setLoading","searchQuery","setSearchQuery","filteredBookings","setFilteredBookings","booking","checkInDate","checkOutDate","searchLower","handleBookingClick","worker","initTesseract","createWorker","terminateWorker","verifyDocument","file","documentType","documentNumber","imageData","fileToImage","validateDocument","reject","reader","cleanText","validateAadhar","validatePassport","validateDrivingLicense","validatePanCard","number","aadharRegex","hasNumber","matchesPattern","passportRegex","panRegex","dlRegex","documentOptions","GuestDetailsForm","adultsCount","childrenCount","totlrates","totldays","preview","setPreview","today","fiveYearsAgo","todays","yesterday","Years","maxDate","minDate","adults","setAdults","children","setChildren","nameRegex","emailRegex","dobRegex","proofNumberRegex","selectedGuest","setSelectedGuest","selectedGuestIds","setSelectedGuestIds","newGuestDetails","setNewGuestDetails","userid","previousGuest","setPreviousGuest","isVerifying","setIsVerifying","verificationStatus","setVerificationStatus","validateField","phone","regex","isRepeating","datePart","validateForm","isValid","newAdults","adult","errors","handleSaveDetailsChange","isChecked","prevAdults","updatedAdults","prevChildren","updatedChildren","newChildren","child","handleFormSubmit","guestData","_","handleFileUpload","guest","filePreviewUrl","verificationResult","updateGuestDocument","handlePreviousGuestClick","prevIds","id","existingIndex","a","c","renderPreviousGuest","Avatar","CheckCircleIcon","renderGuestFields","guests","setGuestState","Paper","Grid","TextField","FormControlLabel","Checkbox","CheckBoxOutlineBlankIcon","CheckBoxIcon","Button","CircularProgress","removeGuest","Chip","WarningIcon","prevGuests","addGuest","ReserveRoom","razerkeyid","razersecret","roomDetails","adultDetails","childrenDetails","script","handleBookNow","totalAmount","reservationId","reservationDetails","paymentId","payLoad","doc","jsPDF","currentY","checkPageOverflow","descriptionLines","yOffset","addressLines","deleteReservation","razorpayInstance","formatAddress","address","Divider","MyProfile","editMode","setEditMode","changePasswordMode","setChangePasswordMode","selectedImage","setSelectedImage","theme","useTheme","userData","setUserData","profileData","setProfileData","setErrors","passwordData","setPasswordData","passwordErrors","setPasswordErrors","isGoogleUser","setIsGoogleUser","isCameraOpen","setIsCameraOpen","webcamRef","isFaceModelLoading","setIsFaceModelLoading","hasFaceEnabled","setHasFaceEnabled","fetchProfileData","useCallback","data","decodedToken","jwtDecode","handleUpdateClick","validateInput","birthDate","age","m","handleInputChange","prevErrors","prevData","handleSave","newErrors","key","handlePasswordChange","validatePassword","password","handlePasswordInputChange","handlePasswordSave","handleImageUpload","handleFaceCapture","willProceed","frames","requiredFrames","blinkDetected","headMovementDetected","progressSwal","frame","detectFace","landmarks","descriptor","metrics","calculateFaceMetrics","validateFrameCollection","validationError","processedData","processFaceData","saveFaceData","img","calculateEyeAspectRatio","calculateHeadPose","calculateFaceSymmetry","analyzeSkinTexture","descriptorConsistency","calculateDescriptorConsistency","movementNaturalness","analyzeMovementNaturalness","selectBestFrame","best","current","currentQuality","calculateFrameQuality","bestQuality","weights","qualityScore","eyeScore","headPoseScore","bestFrame","calculateLivenessScore","generateDepthMap","calculateQualityScore","calculateSpoofingScore","calculateTextureConsistency","scores","calculateBlinkNaturalness","calculateMovementSmoothing","blinkScore","blinkCount","lastEAR","currentEAR","blinkTransition","depthPoints","points","depth","calculateDepth","getEyeAspectRatio","eye","p1","p2","p3","p4","p5","p6","verticalDist1","verticalDist2","horizontalDist","leftEye","rightEye","leftEAR","rightEAR","nose","jawOutline","yaw","calculateYaw","pitch","calculatePitch","roll","calculateRoll","nosePoint","leftJaw","rightJaw","leftDist","rightDist","noseTop","noseTip","jawCenter","verticalDist","expectedDist","calculateSymmetryScore","centerX","totalDiff","pairs","left","right","totalSimilarity","comparisons","similarity","calculateCosineSimilarity","descriptor1","descriptor2","dotProduct","norm1","norm2","naturalMovement","movement","landmarks1","landmarks2","landmarks3","total","handleDisableFaceLogin","IconButton","AddAPhotoIcon","FormHelperText","CameraAltIcon","Dialog","DialogTitle","DialogContent","Webcam","DialogActions","StyledCard","styled","Card","QRGenerator","qrData","setQrData","showQR","setShowQR","reservationData","setReservationData","fetchReservationDetails","user_id","config","generateQRCode","downloadQRCode","svg","svgData","ctx","pngFile","downloadLink","Container","motion","Alert","QRCodeSVG","BookingDetails","bookingId","useParams","currentDocument","setCurrentDocument","modalType","setModalType","currentImageIndex","setCurrentImageIndex","zoomLevel","setZoomLevel","refresh","setRefresh","hotelRating","setHotelRating","roomRating","setRoomRating","feedback","setFeedback","feedbackSubmitted","setFeedbackSubmitted","adultCount","childCount","modalAnimation","useSpring","handleOpenModal","content","handleCloseModal","handleNextImage","prevIndex","handlePrevImage","handleZoomIn","handleZoomOut","reservation","bill","isCancellationAllowed","handleCancelBooking","handleFeedbackSubmit","cancellationDate","daysUntilCheckIn","paymentStatus","CancelIcon","guestRoleHeading","animated","guestIndex","PendingIcon","Rating","StarIcon","Modal","ZoomInIcon","ZoomOutIcon","SeeRoomDetails","SavedGuest","savedGuests","setSavedGuests","filteredGuests","setFilteredGuests","isModalOpen","setIsModalOpen","isEditing","setIsEditing","editedGuest","setEditedGuest","fullScreenImage","setFullScreenImage","footerRef","phoneRegex","useLayoutEffect","footer","lastScrollY","footerHeight","viewportHeight","documentHeight","currentScrollY","maxScroll","scrollPercentage","footerVisibleHeight","handleResize","handleGuestClick","handleEditClick","handleSaveEdit","handleDeleteGuest","guestId","EditIcon","DeleteIcon","PrivateRoute","Outlet","Navigate","ARView","onClose","menuItems","containerRef","rendererRef","sceneRef","cameraRef","controlsRef","modelsRef","dragRef","THREE.Plane","THREE.Raycaster","THREE.Vector2","THREE.Vector3","isLoading","setIsLoading","arItems","setArItems","availableItems","setAvailableItems","menuItem","showItemSelector","setShowItemSelector","selectedItemIndex","setSelectedItemIndex","ua","loadModel","loader","GLTFLoader","modelPath","gltf","model","container","THREE.Group","label","createLabel","updateLabel","animate","handleDeviceMotion","acceleration","THREE.MathUtils","scale","scene","THREE.Scene","camera","THREE.PerspectiveCamera","renderer","THREE.WebGLRenderer","ambientLight","THREE.AmbientLight","directionalLight","THREE.DirectionalLight","controls","OrbitControls","width","height","handleMouseDown","handleMouseMove","handleMouseUp","handleTouchStart","handleTouchMove","handleTouchEnd","initCamera","video","constraints","handleRetry","addItemToAR","itemCount","spacing","row","col","newItem","context","roundRect","texture","THREE.CanvasTexture","material","THREE.SpriteMaterial","sprite","THREE.Sprite","modelBox","THREE.Box3","modelHeight","x","y","radius","scaleItem","factor","currentScale","newScale","newItems","rect","intersects","cameraDirection","modelIndex","touch","requestDeviceMotionPermission","hasMultipleItems","FloatingMenu","FaPlus","FaMinus","MenuDisplay","addToCart","setMenuItems","categories","setCategories","selectedCategory","setSelectedCategory","searchTerm","setSearchTerm","dishInfo","setDishInfo","isInfoLoading","setIsInfoLoading","selectedDishName","setSelectedDishName","showAR","setShowAR","selectedARItem","setSelectedARItem","isProcessingAR","setIsProcessingAR","isRecognizing","setIsRecognizing","recognitionError","setRecognitionError","imageInputRef","menuResponse","categoryResponse","filteredItems","matchesCategory","matchesSearch","getUserIdFromToken","handleAddToCart","cartItem","generateContent","apiKey","parseError","fallbackText","getDishInfo","dishName","GEMINI_API_KEY","handleClosePopup","InfoPopup","MdRestaurantMenu","FaGlobeAmericas","FaListUl","ing","spice","FaHeartbeat","vitamin","GiCookingPot","FaLeaf","GiMeat","FaExclamationTriangle","handleViewInAR","handleFoodRecognition","recognizedFood","matchingItems","FaShoppingCart","FaSearch","FaSpinner","FaCamera","FaInfoCircle","FaCube","CartManagement","cartItems","setCartItems","specialInstructions","setSpecialInstructions","showInstructions","setShowInstructions","orderType","setOrderType","dineInPreferences","setDineInPreferences","tableReservations","setTableReservations","selectedReservation","setSelectedReservation","isLoadingReservations","setIsLoadingReservations","bookedRooms","setBookedRooms","selectedRoom","setSelectedRoom","selectedRoomId","setSelectedRoomId","selectedRoomReservationId","setSelectedRoomReservationId","isLoadingRooms","setIsLoadingRooms","fetchCartItems","updateQuantity","cartItemId","newQuantity","removeFromCart","calculateSubtotal","calculateTax","calculateTotal","loadRazorpayScript","handleRoomSelection","roomNumber","selectedBooking","handleCheckout","orderData","toggleInstructions","itemId","generateTimeSlots","slots","hour","now","upcomingReservations","FaDrumstickBite","_e","_f","FaTrash","time","Loader","dateString","hours","minutes","ampm","hours12","OrderHistory","orders","setOrders","filter","setFilter","fetchOrders","getStatusColor","status","filteredOrders","order","getOrderTypeIcon","FaTable","FaShoppingBag","FaMotorcycle","FaConciergeBell","getOrderTypeLabel","handleCancelOrder","orderId","FaHistory","FaChair","FaCalendarAlt","FaClock","FaUsers","FaMoneyBill","TableReservation","tables","setTables","selectedDate","setSelectedDate","selectedTime","setSelectedTime","setGuests","selectedLocation","setSelectedLocation","specialRequests","setSpecialRequests","confirmedReservations","setConfirmedReservations","getTimeSlots","currentDate","selectedDateStr","isToday","currentHour","currentMinutes","fetchTables","showErrorAlert","fetchConfirmedReservations","toast","getLocationIcon","FaBuilding","FaUmbrella","handleReservation","tableId","selectedTable","t","decoded","showSuccessAlert","getFilteredTables","availableTables","table","isReserved","locationMatch","exactMatches","suitableTables","minCapacity","b","showCapacityWarning","tableCapacity","getTableIcon","capacity","renderChairs","count","GiWoodenChair","GiRoundTable","MdTableRestaurant","MdTableBar","slot","LoadingSpinner","MyTableReservation","reservations","setReservations","activeTab","setActiveTab","fetchReservations","cancelReservation","filterReservations","reservationDate","filteredReservations","RestaurantRoutes","Routes","Route","Login","cleanAndParseJSON","jsonMatch","IconWrapper","PriceChip","RatingChip","containerVariants","itemVariants","TravelGuide","setLocation","nearbyPlaces","setNearbyPlaces","getNearbyPlaces","correctionPrompt","correctionResult","correctedLocation","Fade","LocalActivity","Grow","CardContent","attraction","AttachMoney","Star","Restaurant","food","Event","Info","Lightbulb","gem","Favorite","tip","TransportInfo","from","setFrom","to","setTo","transportInfo","setTransportInfo","getTransportInfo","correctedFrom","correctedTo","Flight","flight","Train","train","DirectionsBus","bus","DirectionsCar","highlight","LocationOn","StyledPaper","StyledTabs","Tabs","TabPanel","other","Guide","handleTabChange","ExploreOutlined","Tab","Place","DirectionsTransit","QRScanner","success","setSuccess","scanner","setScanner","fileInputRef","initializeScanner","newScanner","QrScanner","handleScanResult","playSound","resetScanner","Stack","App","BrowserRouter","ReactDOM","React"],"mappings":"quEAQA,MAAMA,GAAiB,CACrB,OAAQ,0CACR,WAAY,oCACZ,UAAW,oBACX,cAAe,gCACf,kBAAmB,gBACnB,MAAO,6CACP,cAAe,cACjB,EAGaC,GAAcC,GAAcF,EAAc,ECfjDG,GAAY,IAAM,CACtB,MAAMC,EAAUC,KAEhBC,EAAAA,UAAU,IAAM,CACA,aAAa,QAAQ,OAAO,GAGxCF,EAAQ,GAAG,CAGb,EACC,CAACA,CAAO,CAAC,CACd,ECNMG,GAAOC,GAAQP,EAAW,EAC1BQ,GAAiB,IAAIC,GAE3B,SAASC,IAAW,CACRR,KACVS,GAAM,SAAS,gBAAkB,GACjC,KAAM,CAACC,EAAYC,CAAa,EAAIC,WAAS,EAAK,EAC5C,CAACC,EAAKC,CAAM,EAAIF,WAAS,EAAE,EAC3B,CAACG,EAAWC,CAAY,EAAIJ,WAAS,EAAK,EAC1C,CAACK,EAAeC,CAAgB,EAAIN,WAAS,EAAK,EAClD,CAACO,EAAaC,CAAQ,EAAIR,WAAS,EAAK,EAExC,CAACS,EAAoBC,CAAqB,EAAIV,WAAS,EAAK,EAC9D,CAACW,EAASC,CAAU,EAAIZ,WAAS,EAAK,EACtC,CAACa,EAAaC,CAAc,EAAId,WAAS,EAAK,EAC9C,CAACe,EAAmBC,CAAoB,EAAIhB,WAAS,CAAE,WAAY,GAAI,IAAK,GAAI,YAAa,GAAI,gBAAiB,EAAI,CAAA,EAEtH,CAACiB,EAAcC,CAAe,EAAIlB,WAAS,EAAK,EAChD,CAACmB,EAAWC,CAAY,EAAIpB,WAAS,EAAE,EACvC,CAACqB,GAAcC,EAAe,EAAItB,WAAS,EAAK,EAChD,CAACuB,GAAQC,EAAS,EAAIxB,WAAS,EAAE,EACjCyB,GAAWC,SAAO,IAAI,EACtBC,GAAYD,SAAO,IAAI,EAC2B1B,EAAAA,SAAS,CAAC,EAChBA,EAAAA,SAAS,IAAI,EACjBA,EAAAA,SAAS,EAAK,EAEtD,MAAA4B,EAAwBC,GAAM,CAClCA,EAAE,eAAe,EACjBhC,GAAM,KAAK,iCAAwC,CAAE,MAAOkB,EAAkB,UAAY,CAAA,EACvF,KAAYe,GAAA,CACPA,EAAI,SAAW,KACjBlB,EAAW,EAAI,EACfmB,EAAK,KAAK,yBAAyB,GAG9BA,EAAA,KAAKD,EAAI,KAAK,OAAO,CAC5B,CACD,EACA,SAAa,QAAQ,IAAIE,CAAG,CAAC,CAAA,EAI5BC,GAAmBJ,GAAM,CAC7BA,EAAE,eAAe,EACjBhC,GAAM,KAAK,+BAAsC,CAAE,MAAOkB,EAAkB,WAAY,IAAKA,EAAkB,GAAK,CAAA,EACjH,KAAYe,GAAA,CACPA,EAAI,SAAW,KACjBhB,EAAe,EAAI,EACnBiB,EAAK,KAAK,4BAA4B,EAC7BvB,EAAAsB,EAAI,KAAK,KAAK,EACvB,WAAWvB,CAAW,GAIjBwB,EAAA,KAAKD,EAAI,KAAK,OAAO,CAC5B,CACD,EACA,SAAa,QAAQ,IAAIE,CAAG,CAAC,CAAA,EAG5BE,GAAuBL,GAAM,CAE7B,GADJA,EAAE,eAAe,EACbd,EAAkB,cAAgBA,EAAkB,gBAAiB,CACvEgB,EAAK,KAAK,yBAAyB,EACnC,MACF,CACAlC,GAAM,KAAK,uCAA8C,CAAE,MAAOkB,EAAkB,WAAY,SAAUA,EAAkB,YAAY,MAAMR,CAAA,CAAa,EACxJ,KAAYuB,GAAA,CACPA,EAAI,SAAW,KACjBC,EAAK,KAAK,8BAA8B,EACxCrB,EAAsB,EAAK,EAC3BE,EAAW,EAAK,EAChBE,EAAe,EAAK,GAGfiB,EAAA,KAAKD,EAAI,KAAK,OAAO,CAC5B,CACD,EACA,SAAa,QAAQ,IAAIE,CAAG,CAAC,CAAA,EAK5BG,EAA6BN,GAAM,CAClBb,EAAA,CAAE,GAAGD,EAAmB,CAACc,EAAE,OAAO,IAAI,EAAGA,EAAE,OAAO,KAAA,CAAO,CAAA,EAGxEO,EAAoB,IAAM,CAC9BrC,EAAc,EAAI,CAAA,EAGdsC,EAAoB,IAAM,CAC9BtC,EAAc,EAAK,CAAA,EAEf,CAACuC,EAAMC,CAAQ,EAAEvC,EAAA,SAAS,CAAE,CAAA,EAC9B,CAACwC,EAAUC,CAAW,EAAIzC,WAAS,CACrC,UAAW,GACX,MAAO,GACP,SAAU,GACV,UAAW,GACX,UAAW,GACX,aAAc,EAAA,CAEjB,EAEI,CAAC0C,EAAOC,CAAQ,EAAE3C,WAAS,CAC5B,aAAc,GACd,SAAU,GACV,YAAa,GACb,aAAc,GACd,aAAc,GACd,gBAAiB,GACjB,eAAgB,GAChB,mBAAoB,EAAA,CACvB,EAKK4C,EAAcf,GAAI,CACd,MAAAgB,EAAKhB,EAAE,OAAO,KACdiB,EAAMjB,EAAE,OAAO,MACTY,EAAA,CACR,GAAGD,EAAU,CAACK,CAAI,EAAIC,CAAA,CACzB,CAAA,EAECC,EAASzD,KAiBT0D,EAAgBnB,GAAM,CAC1BA,EAAE,eAAe,EAEXhC,GAAA,KAAK,iCAAwC2C,CAAQ,EACxD,KAAYV,GAAA,CACH,QAAA,IAAIA,EAAI,KAAK,QAAQ,EAC7BS,EAAS,CAAC,GAAGT,EAAI,KAAK,QAAS,CAAA,EAC3BA,EAAI,KAAK,UAAY,2BAEvB1B,EAAa,EAAI,EAKf0B,EAAI,KAAK,UAAY,yBACvBC,EAAK,KAAK,yBAAyB,CAErC,CACD,EACA,SAAa,QAAQ,IAAIC,CAAG,CAAC,CAAA,EAG5BiB,EAAkB,IAAM,CAG5BV,EAAS,CAAC,GAAGD,EAAO,IAAArC,CAAW,CAAA,EAC/B,QAAQ,IAAIqC,CAAK,EACXzC,GAAA,KAAK,mCAA0CyC,CAAK,EACvD,KAAYR,GAAA,CACPA,EAAI,SAAW,KAEjBxB,EAAiB,EAAI,EACrBP,EAAc,EAAK,EACnBgC,EAAK,KAAK,sCAAsC,GACzCD,EAAI,SAAW,IACtBC,EAAK,KAAK,QAAQD,EAAI,KAAK,QAAQ,OAAO,EAG1CC,EAAK,KAAK,gCAAgC,CAC5C,CACD,EACA,SAAa,QAAQ,IAAIC,CAAG,CAAC,CAAA,EAG5BkB,EAAarB,GAAI,CACnBA,EAAE,eAAe,EACXhC,GAAA,KAAK,mCAAyC,CAAC,GAAG2C,CAAS,CAAA,EAChE,KAAYV,GAAA,CAAS,QAAA,IAAIA,EAAI,IAAI,EAE3BA,EAAI,KAAK,UAAY,WACtB,aAAa,QAAQ,YAAaA,EAAI,KAAK,IAAI,EAC/C,aAAa,QAAQ,SAAUA,EAAI,KAAK,EAAE,EAC1C,aAAa,QAAQ,QAASA,EAAI,KAAK,KAAK,EAC5C,aAAa,QAAQ,cAAcA,EAAI,KAAK,WAAW,EACrDiB,EAAS,GAAG,GAGThB,EAAA,KAAKD,EAAI,IAAI,CACpB,CACH,EACA,SAAa,QAAQ,IAAIE,CAAG,CAAC,CAAA,EAQ5BmB,GAAmB,IAAM,CAC3BC,GAAgB5D,GAAME,EAAc,EACjC,KAAM2D,GAAW,CACG1D,GAAmB,qBAAqB0D,CAAM,EACxC,YACzB,MAAMC,EAAOD,EAAO,KAEdE,GAAS,CACb,KAAMD,EAAK,aAAa,CAAC,EAAE,YAC3B,MAAOA,EAAK,aAAa,CAAC,EAAE,MAC5B,SAAU,KACV,OAAQA,EAAK,aAAa,CAAC,EAAE,QAAA,EAMzBzD,GAAA,KAAK,4CAAmD0D,EAAM,EAAE,KAAMzB,GAAQ,cAC9E,GAAA,CACE,GAAAA,EAAI,SAAW,IAAK,CACtB,aAAa,QAAQ,QAASA,EAAI,KAAK,KAAK,EAE5C,MAAMwB,GAAO,CACX,MAAME,EAAA1B,EAAI,KAAK,OAAT,YAAA0B,EAAe,KACrB,OAAOC,GAAA3B,EAAI,KAAK,OAAT,YAAA2B,GAAe,MACtB,QAAQC,EAAA5B,EAAI,KAAK,OAAT,YAAA4B,EAAe,IACvB,aAAaC,EAAA7B,EAAI,KAAK,OAAT,YAAA6B,EAAe,WAAA,EAGjB,aAAA,QAAQ,YAAaL,GAAK,KAAK,EAC/B,aAAA,QAAQ,SAAUA,GAAK,MAAM,EAC7B,aAAA,QAAQ,cAAcA,GAAK,WAAW,EAE9CvB,EAAA,KAAKD,EAAI,KAAK,GAAG,EACtBiB,EAAS,GAAG,CAAA,MAIPhB,EAAA,KAAKD,EAAI,KAAK,GAAG,EACtBiB,EAAS,SAAS,QAGba,GAAO,CACd,QAAQ,IAAIA,EAAK,CAEnB,CAAA,CACD,EAED7B,EAAK,KAAK,iCAAiC,CAAA,CAC5C,EACA,MAAO6B,GAAU,CACX7B,EAAA,KAAM6B,EAAM,OAAO,CAAA,CAEzB,CAAA,EAGPrE,EAAAA,UAAU,MACe,SAAY,CAC7B,GAAA,CACF,MAAMsE,EAAY,UAClB,MAAM,QAAQ,IAAI,CAChBC,GAAa,iBAAiB,YAAYD,CAAS,EACnDC,GAAa,kBAAkB,YAAYD,CAAS,EACpDC,GAAa,mBAAmB,YAAYD,CAAS,CAAA,CACtD,QACMD,EAAO,CACN,QAAA,MAAM,6BAA8BA,CAAK,CACnD,CAAA,KAKK,IAAM,CACPjC,GAAU,SACFA,GAAA,QAAQ,YAAY,QAAiBoC,GAAAA,EAAM,MAAM,CAC7D,GAED,CAAE,CAAA,EAEC,MAAAC,GAAkB,MAAOnC,GAAM,YAEnC,GADAA,EAAE,eAAe,EACb,CAAAR,GAEJ,IAAI,CAACF,EAAW,CACdY,EAAK,KAAK,CACR,KAAM,UACN,MAAO,iBACP,KAAM,oDAAA,CACP,EACD,MACF,CAEI,GAAA,CACFT,GAAgB,EAAI,EAGpB,MAAM2C,EAAS,MAAM,UAAU,aAAa,aAAa,CACvD,MAAO,CACL,MAAO,IACP,OAAQ,IACR,WAAY,MACd,CAAA,CACD,EAEDxC,GAAS,QAAQ,UAAYwC,EACvB,MAAA,IAAI,QAAmBC,IAAAzC,GAAS,QAAQ,iBAAmB,IAAMyC,GAAA,CAAS,EAChFzC,GAAS,QAAQ,OAGX,MAAA0C,EAAcpC,EAAK,KAAK,CAC5B,MAAO,oBACP,KAAM,2CACN,kBAAmB,GACnB,kBAAmB,GACnB,QAAS,IAAM,CACbA,EAAK,YAAY,CACnB,CAAA,CACD,EAGD,IAAIqC,GAAY,KACZC,EAAW,EACf,MAAMC,EAAc,GAEb,KAAA,CAACF,IAAaC,EAAWC,GAC9BF,GAAY,MAAMG,GAChB9C,GAAS,QACT,IAAI+C,EAAgC,EACpC,kBAAkB,EAAE,qBAEjBJ,KACHC,IACA,MAAM,IAAI,QAAQH,IAAW,WAAWA,GAAS,GAAG,CAAC,GAIzD,GAAI,CAACE,GACG,MAAA,IAAI,MAAM,yEAAyE,EAIrF,MAAAK,GAAS,SAAS,cAAc,QAAQ,EACvCA,GAAA,MAAQhD,GAAS,QAAQ,WACzBgD,GAAA,OAAShD,GAAS,QAAQ,YACrBgD,GAAO,WAAW,IAAI,EAC9B,UAAUhD,GAAS,QAAS,EAAG,EAAGgD,GAAO,MAAOA,GAAO,MAAM,EAGjE,MAAMC,GAAmB,CACvB,MAAOvD,EACP,eAAgB,MAAM,KAAKiD,GAAU,UAAU,EAAE,IAAIO,IAAO,OAAOA,GAAI,QAAQ,CAAC,CAAC,CAAC,EAClF,MAAOF,GAAO,UAAU,aAAc,EAAG,CAAA,EAIrCG,GAAW,MAAM/E,GAAM,KAC3B,yCACA6E,GACA,CACE,QAAS,CACP,eAAgB,kBAClB,CACF,CAAA,EAGE,GAAAE,GAAS,KAAK,QAChB,aAAa,QAAQ,YAAaA,GAAS,KAAK,KAAK,EACrD,aAAa,QAAQ,SAAUA,GAAS,KAAK,GAAG,EAChD,aAAa,QAAQ,QAASA,GAAS,KAAK,KAAK,EACjD,aAAa,QAAQ,cAAeA,GAAS,KAAK,WAAW,EAE7D,MAAM7C,EAAK,KAAK,CACd,KAAM,UACN,MAAO,mBACP,KAAM,gBACN,MAAO,KACP,kBAAmB,EAAA,CACpB,EAEDgB,EAAS,GAAG,MAEZ,OAAM,IAAI,MAAM6B,GAAS,KAAK,SAAW,qBAAqB,QAGzDhB,EAAO,CACN,QAAA,MAAM,oBAAqBA,CAAK,EACxC,MAAMiB,IAAepB,GAAAD,EAAAI,EAAM,WAAN,YAAAJ,EAAgB,OAAhB,YAAAC,EAAsB,UACvBG,EAAM,SACN,2BAEpB7B,EAAK,KAAK,CACR,KAAM,QACN,MAAO,sBACP,KAAM8C,EACN,OAAQ,iEAAA,CACT,CAAA,QACD,EACInB,GAAAjC,GAAS,UAAT,MAAAiC,GAAkB,YACXjC,GAAA,QAAQ,UAAU,UAAU,EAAE,QAAiBsC,GAAAA,EAAM,KAAA,CAAM,EACpEtC,GAAS,QAAQ,UAAY,MAE/BH,GAAgB,EAAK,CACvB,EAAA,gBA4SG,MAAI,CAAA,UAAW,aAAaxB,EAAa,eAAiB,EAAE,GAC3D,SAAA,CAAAgF,EAAAA,IAAC,OAAI,UAAU,kBACb,SAACC,EAAA,KAAA,MAAA,CAAI,UAAU,gBACd,SAAA,CAACtE,EA6FCqE,EAAAA,IAAA,OAAA,CAAK,UAAU,eACb,SAACnE,EAUGE,EAWDkE,EAAAA,KAAAC,EAAA,SAAA,CAAA,SAAA,OAAC,KAAA,CAAG,UAAU,QAAQ,SAAc,iBAAA,EACnCD,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,IAAA,CAAE,UAAU,cAAc,EAC1BA,EAAAA,IAAA,QAAA,CAAM,KAAK,WAAW,KAAK,cAAc,QAAQ,6EAAyE,YAAY,eAAe,MAAO/D,EAAkB,YAAa,SAAUoB,EAA4B,OAAQ,IAAIQ,EAAS,CAAC,GAAGD,EAAM,eAAgB,EAAK,CAAA,EAAG,MAAOA,EAAM,eAAe,SAAY,EAAA,SAAQ,GAAC,EACzUoC,EAAAA,IAAA,QAAK,SAA+F,kGAAA,CAAA,EACvG,QAAO,KAAG,EAAA,EACTC,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,IAAA,CAAE,UAAU,cAAc,EAC1BA,EAAA,IAAA,QAAA,CAAM,KAAK,WAAW,KAAK,kBAAkB,QAAS/D,EAAkB,YAAa,YAAY,mBAAmB,MAAOA,EAAkB,gBAAiB,SAAUoB,EAA4B,OAAQ,IAAIQ,EAAS,CAAC,GAAGD,EAAM,mBAAoB,EAAI,CAAC,EAAG,MAAOA,EAAM,mBAAmB,SAAA,EAAY,SAAQ,GAAC,EACpToC,EAAAA,IAAA,QAAK,SAAqB,wBAAA,CAAA,EAC7B,EACAA,EAAAA,IAAC,SAAM,KAAK,SAAS,MAAM,iBAAiB,UAAU,YAAY,QAAS5C,EAAA,CAAqB,CAAA,CAAA,CAClG,EArBE6C,EAAA,KAAAC,EAAA,SAAA,CAAA,SAAA,OAAC,KAAA,CAAG,UAAU,QAAQ,SAAU,aAAA,EAC/BD,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,IAAA,CAAE,UAAU,aAAa,QACzB,QAAA,CAAM,KAAK,OAAO,KAAK,MAAM,YAAY,YAAY,MAAO/D,EAAkB,IAAK,SAAUoB,EAA2B,SAAQ,GAAC,CAAA,EACpI,EACA2C,EAAAA,IAAC,SAAM,KAAK,SAAS,MAAM,aAAa,UAAU,YAAY,QAAS7C,EAAA,CAAiB,GAC1F,EAfE8C,EAAAA,KAAAC,EAAA,SAAA,CAAA,SAAA,OAAC,KAAA,CAAG,UAAU,QAAQ,SAAe,kBAAA,EACpCD,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,IAAA,CAAE,UAAU,kBAAkB,QAC9B,QAAA,CAAM,KAAK,QAAQ,KAAK,aAAa,YAAY,mBAAmB,MAAO/D,EAAkB,WAAY,SAAUoB,EAA2B,SAAQ,GAAC,CAAA,EAC1J,EACA2C,EAAAA,IAAC,SAAM,KAAK,SAAS,MAAM,WAAW,UAAU,YAAY,QAASlD,CAAA,CAAsB,CAAA,CAC7F,CAAA,CAwBA,CAEJ,SAhIC,OAAK,CAAA,UAAU,eAAe,SAAUX,EAAe+C,GAAkBd,EACxE,SAAA,OAAC,KAAA,CAAG,UAAU,QAAQ,SAAO,UAAA,EAC5BjC,EACE8D,EAAA,KAAA,MAAI,CAAA,UAAU,uBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,IAAA,CAAE,UAAU,kBAAkB,EAC/BA,EAAA,IAAC,QAAA,CACC,KAAK,QACL,YAAY,mBACZ,MAAO3D,EACP,SAAWU,GAAMT,EAAaS,EAAE,OAAO,KAAK,EAC5C,SAAQ,EAAA,CACV,CAAA,EACF,EAEAiD,EAAA,IAAC,QAAA,CACC,IAAKrD,GACL,SAAQ,GACR,YAAW,GACX,MAAK,GACL,MAAO,CACL,MAAO,QACP,OAAQ,QACR,aAAc,OACd,aAAc,OACd,OAAQ,oBACR,UAAW,aACX,QAASJ,GAAe,QAAU,MACpC,CAAA,CACF,EAECE,UACE,MAAI,CAAA,UAAU,iBACZ,SACHA,GAAA,EAGFuD,EAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU,YACV,SAAUzD,GAET,YAAe,gBAAkB,YAAA,CACpC,EAEAyD,EAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU,kBACV,QAAS,IAAM5D,EAAgB,EAAK,EACpC,SAAUG,GACX,SAAA,sBAAA,CAED,GACF,EAGE0D,EAAAA,KAAAC,EAAA,SAAA,CAAA,SAAA,CAACD,EAAAA,KAAA,MAAA,CAAI,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,IAAA,CAAE,UAAU,kBAAkB,EAC9BA,EAAAA,IAAA,QAAA,CAAM,GAAG,QAAQ,KAAK,QAAQ,KAAK,YAAY,YAAY,QAAQ,MAAOtC,EAAS,UAAW,SAAUI,EAAc,OAAQ,IAAID,EAAS,CAAC,GAAGD,EAAM,aAAc,EAAK,CAAA,EAAG,MAAOA,EAAM,aAAa,SAAY,EAAA,SAAQ,GAAC,EAC1NoC,EAAAA,IAAA,QAAK,SAAsB,yBAAA,CAAA,EAC9B,EACCC,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,IAAA,CAAE,UAAU,cAAc,EAC1BA,EAAA,IAAA,QAAA,CAAM,GAAG,WAAW,KAAK,WAAW,KAAK,eAAe,QAAQ,6EAAyE,YAAY,WAAW,MAAOtC,EAAS,aAAc,SAAUI,EAAc,OAAQ,IAAID,EAAS,CAAC,GAAGD,EAAM,gBAAiB,EAAI,CAAC,EAAG,MAAOA,EAAM,gBAAgB,SAAA,EAAY,SAAQ,GAAC,EAChUoC,EAAAA,IAAA,QAAK,SAA+F,kGAAA,CAAA,EACvG,EACCA,EAAAA,IAAA,KAAE,UAAU,kBAAkB,QAAS,IAAMpE,EAAsB,EAAI,EAAG,SAAgB,kBAAA,CAAA,EAC3FoE,EAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU,kBACV,QAAS,IAAM5D,EAAgB,EAAI,EACnC,MAAO,CAAE,UAAW,OAAQ,gBAAgB,SAAS,EACtD,SAAA,oBAAA,CAED,CAAA,EACF,EAGF4D,EAAA,IAAC,QAAA,CACC,KAAK,SACL,GAAG,QACH,MAAO7D,EAAe,cAAgB,QACtC,UAAU,WAAA,CACZ,QAEC,MAAI,CAAA,UAAU,eACb,SAAC6D,EAAAA,IAAA,KAAE,KAAK,IAAI,UAAU,cAAc,QAAS3B,GAC3C,SAAA2B,MAAC,KAAE,UAAU,eAAA,CAAgB,CAC/B,CAAA,EACF,CAAA,CAAA,CACF,SAwCC,OAAK,CAAA,OAAO,IAAI,SAAU9B,EAAc,UAAU,eACvD,SAAA,OAAC,KAAA,CAAG,UAAU,QAAQ,SAAO,UAAA,EAE3B7C,EAgCC4E,EAAAA,KAAA,MACC,CAAA,SAAA,OAAC,KAAA,CAAG,UAAU,WAAW,SAAgC,mCAAA,EACxDA,EAAAA,KAAA,MAAI,CAAA,UAAU,cACf,SAAA,CAACD,EAAAA,IAAA,IAAA,CAAE,UAAU,cAAc,EAC3BA,EAAA,IAAC,QAAA,CACC,KAAK,OACL,YAAY,YACZ,MAAO7E,EACP,SAAW4B,GAAM3B,EAAO2B,EAAE,OAAO,KAAK,CAAA,CACxC,CAAA,EACA,EACAiD,EAAA,IAAC,SAAA,CAAO,KAAK,SAAS,UAAU,MAC/B,QAAS7B,EAAiB,SAAA,YAAA,CAE3B,CAAA,EACF,EA7CE8B,EAAAA,KAAAC,EAAA,SAAA,CAAA,SAAA,CAACD,EAAAA,KAAA,MAAA,CAAI,UAAU,yBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,IAAA,CAAE,UAAU,cAAc,EAC1BA,EAAA,IAAA,QAAA,CAAM,KAAK,OAAO,QAAQ,cAAc,UAAU,QAAQ,KAAK,YAAY,YAAY,YAAY,MAAO,SAAS,UAAW,SAAUlC,EAAc,OAAQ,IAAID,EAAS,CAAC,GAAGD,EAAM,aAAc,EAAI,CAAC,EAAG,MAAOA,EAAM,aAAa,SAAA,EAAY,SAAQ,GAAA,EACzPoC,EAAAA,IAAA,QAAK,SAA8B,iCAAA,CAAA,EACtC,EAECC,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,IAAA,CAAE,UAAU,kBAAkB,EAC9BA,EAAAA,IAAA,QAAA,CAAM,KAAK,QAAQ,KAAK,QAAQ,UAAU,QAAS,YAAY,QAAQ,MAAO,SAAS,MAAO,SAAUlC,EAAc,OAAQ,IAAID,EAAS,CAAC,GAAGD,EAAM,SAAU,EAAK,CAAA,EAAG,MAAOA,EAAM,SAAS,SAAY,EAAA,SAAQ,GAAA,EACjNoC,EAAAA,IAAA,QAAK,SAAmB,sBAAA,CAAA,EAC3B,EACCC,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,IAAA,CAAE,UAAU,cAAc,EAC1BA,EAAA,IAAA,QAAA,CAAM,KAAK,WAAW,UAAU,QAAQ,KAAK,WAAW,QAAQ,6EAAyE,YAAY,WAAW,MAAO,SAAS,SAAU,SAAUlC,EAAc,OAAQ,IAAID,EAAS,CAAC,GAAGD,EAAM,YAAa,EAAI,CAAC,EAAG,MAAOA,EAAM,YAAY,SAAA,EAAY,SAAQ,GAAA,EACnToC,EAAAA,IAAA,QAAK,SAAkG,qGAAA,CAAA,EAC1G,EAGCC,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,IAAA,CAAE,UAAU,cAAc,QAC1B,QAAA,CAAM,KAAK,WAAW,UAAU,QAAQ,KAAK,YAAY,QAAStC,EAAS,SAAU,YAAY,mBAAmB,MAAO,SAAS,UAAW,SAAUI,EAAc,OAAQ,IAAID,EAAS,CAAC,GAAGD,EAAM,aAAc,EAAK,CAAA,EAAG,MAAOA,EAAM,aAAa,SAAA,EAAY,SAAQ,GAAA,EAC1QoC,EAAAA,IAAA,QAAK,SAAqB,wBAAA,CAAA,EAC7B,CAAA,EACA,QAGC,QAAM,CAAA,KAAK,SAAS,UAAU,MAAM,MAAM,UAAU,GACzD,QAqBD,IAAA,CAAE,UAAU,cAAc,SAAgC,mCAAA,QAC1D,MAAI,CAAA,UAAU,eACb,SAACA,EAAAA,IAAA,KAAE,KAAK,IAAI,UAAU,cAAc,QAAS3B,GAC3C,SAAA2B,MAAC,KAAE,UAAU,eAAA,CAAgB,CAC/B,CAAA,EACF,CAAA,EACF,CAAA,CAAA,CACI,CAAA,CACF,EAECC,EAAAA,KAAA,MAAI,CAAA,UAAU,mBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,mBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,UACf,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAsB,yBAAA,EACvBA,EAAAA,IAAA,MAAG,SAAS,YAAA,EACZA,EAAAA,IAAA,KAAE,SAGH,qEAAA,EACAA,EAAAA,IAAC,UAAO,UAAU,kBAAkB,QAAS1C,EAAmB,GAAG,cAAc,SAEjF,SAAA,CAAA,CAAA,EACF,QACC,MAAI,CAAA,IAAI,cAAc,UAAU,QAAQ,IAAI,GAAG,CAAA,EAClD,EACC2C,EAAAA,KAAA,MAAI,CAAA,UAAU,oBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,UACf,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAsB,yBAAA,EACvBA,EAAAA,IAAA,MAAG,SAAU,aAAA,EACbA,EAAAA,IAAA,KAAE,SAGH,qEAAA,EACAA,EAAAA,IAAC,UAAO,UAAU,kBAAkB,QAASzC,EAAmB,GAAG,cAAc,SAEjF,SAAA,CAAA,CAAA,EACF,QACC,MAAI,CAAA,IAAI,mBAAmB,UAAU,QAAQ,IAAI,GAAG,CAAA,EACvD,CAAA,EACF,GACF,CAEJ,CCn7BA,MAAM4C,GAAcC,GAAS,CACvB,GAAA,CAACA,EAAa,MAAA,GACZ,MAAAC,EAAMD,EAAK,QAAQ,EAAE,WAAW,SAAS,EAAG,GAAG,EAC/CE,GAASF,EAAK,WAAa,GAAG,SAAS,EAAE,SAAS,EAAG,GAAG,EACxDG,EAAOH,EAAK,cAClB,MAAO,GAAGC,CAAG,IAAIC,CAAK,IAAIC,CAAI,EAChC,EAEA,SAASC,GAAQ,CAAE,WAAAC,GAAc,CAC/B,MAAMxC,EAAWzD,KACX,CAACkG,EAAmBC,CAAoB,EAAIzF,WAAS,EAAK,EAC1D,CAAC0F,EAAgBC,CAAiB,EAAI3F,WAAS,CACnD,YAAa,KACb,aAAc,KACd,OAAQ,EACR,SAAU,CAAA,CACX,EACK,CAAC4F,EAAiBC,CAAkB,EAAI7F,WAAS,EAAE,EAEzDT,EAAAA,UAAU,IAAM,CACVgG,GAAc,OAAO,KAAKA,CAAU,EAAE,OAAS,IACzC,QAAA,IAAI,uBAAwBA,CAAU,EAC5BI,EAAA,CAChB,GAAGJ,EACH,YAAaA,EAAW,YAAc,IAAI,KAAKA,EAAW,WAAW,EAAI,KACzE,aAAcA,EAAW,aAAe,IAAI,KAAKA,EAAW,YAAY,EAAI,IAAA,CAC7E,EACH,EACC,CAACA,CAAU,CAAC,MAEG,KAAK,EAAE,cAAc,MAAM,GAAG,EAAE,CAAC,EAE7C,MAAAO,EAAuBZ,GAAS,CACpCS,EAAkCI,IAAA,CAChC,GAAGA,EACH,YAAab,EACb,aAAca,EAAY,cAAgBA,EAAY,cAAgBb,EAAO,KAAOa,EAAY,YAChG,EAAA,EAEI,MAAAC,EAAU,IAAI,KAAKd,CAAI,EAC7Bc,EAAQ,QAAQA,EAAQ,QAAQ,EAAI,CAAC,EACrC,MAAMC,EAAmBD,EAAQ,YAAA,EAAc,MAAM,GAAG,EAAE,CAAC,EAC3DH,EAAmBI,CAAgB,EAGnCN,EAAkCI,IAAA,CAChC,GAAGA,EACH,YAAab,EACb,aAAcc,CACd,EAAA,CAAA,EAGEE,EAAwBhB,GAAS,CACrCS,EAAkCI,IAAA,CAChC,GAAGA,EACH,aAAcb,CACd,EAAA,CAAA,EAGEiB,EAAmB,IAAM,CAC7BV,EAAqB,CAACD,CAAiB,CAAA,EAGnCY,EAAqBC,GAAc,CACvCV,EAAmBI,IAAiB,CAClC,GAAGA,EACH,OAAQA,EAAY,OAASM,CAC7B,EAAA,CAAA,EAGEC,EAAwBD,GAAc,CAC1CV,EAAmBI,IAAiB,CAClC,GAAGA,EACH,SAAUA,EAAY,SAAWM,CACjC,EAAA,CAAA,EAGEE,EAAgB1E,GAAM,CAC1BA,EAAE,eAAe,EACjBkB,EAAS,SAAU,CAAE,MAAO,CAAE,KAAM2C,GAAkB,CAAA,EAItD,OAAAX,EAAA,KAAC,UAAQ,CAAA,UAAU,wCACjB,SAAA,CAAAA,EAAA,KAAC,OAAK,CAAA,OAAO,GAAG,UAAU,gBACxB,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,eACb,SAAA,CAAAD,MAAC,OAAK,CAAA,SAAAA,EAAA,IAAC,IAAE,CAAA,UAAU,oBAAqB,CAAA,EAAI,SAC3C,MACC,CAAA,SAAA,CAACA,EAAA,IAAA,QAAA,CAAM,QAAQ,WAAW,SAAQ,WAAA,EAClCA,EAAA,IAAC0B,GAAA,CACC,SAAUd,EAAe,YACzB,SAAUI,EACV,YAAa,KACb,WAAW,aACX,gBAAgB,aAChB,UAAU,oCACV,GAAG,WACH,YACEhB,EAAA,IAAC,QAAA,CACC,KAAK,OACL,GAAG,WACH,MAAOY,EAAe,YAAcT,GAAWS,EAAe,WAAW,EAAI,GAC7E,SAAQ,EAAA,CACV,CAAA,CAEJ,CAAA,EACF,CAAA,EACF,EACAX,EAAAA,KAAC,MAAI,CAAA,UAAU,eACb,SAAA,CAAAD,MAAC,OAAK,CAAA,SAAAA,EAAA,IAAC,IAAE,CAAA,UAAU,oBAAqB,CAAA,EAAI,SAC3C,MACC,CAAA,SAAA,CAACA,EAAA,IAAA,QAAA,CAAM,QAAQ,YAAY,SAAS,YAAA,EACpCA,EAAA,IAAC0B,GAAA,CACC,SAAUd,EAAe,aACzB,SAAUQ,EACV,QAASR,EAAe,YAAc,IAAI,KAAKA,EAAe,YAAY,QAAY,EAAA,KAAQ,EAAI,IAAI,KACtG,WAAW,aACX,gBAAgB,aACf,UAAU,qCACX,YACEZ,EAAA,IAAC,QAAA,CACC,KAAK,OACL,GAAG,YACH,MAAOY,EAAe,aAAeT,GAAWS,EAAe,YAAY,EAAI,GAC/E,SAAQ,EAAA,CACV,CAAA,CAEJ,CAAA,EACF,CAAA,EACF,EACAX,EAAAA,KAAC,MAAI,CAAA,UAAU,eACb,SAAA,CAAAD,MAAC,OAAK,CAAA,SAAAA,EAAA,IAAC,IAAE,CAAA,UAAU,cAAe,CAAA,EAAI,SACrC,MACC,CAAA,SAAA,CAACA,EAAA,IAAA,QAAA,CAAM,QAAQ,QAAQ,SAAK,QAAA,EAC5BA,EAAA,IAAC,QAAA,CACC,KAAK,OACL,YAAa,WAAWY,EAAe,MAAM,eAAeA,EAAe,QAAQ,GACnF,KAAK,QACL,GAAG,QACH,SAAQ,GACR,QAASS,CAAA,CACX,CAAA,EACF,CAAA,EACF,EACCrB,EAAA,IAAA,MAAA,CAAI,UAAU,0BACb,SAACA,EAAAA,IAAA,SAAA,CAAO,UAAU,MAAM,QAASyB,EAAc,GAAG,aAAa,iBAAM,CAAA,EACvE,CAAA,EACF,EAECf,SACE,MAAI,CAAA,UAAU,eACb,SAACT,EAAAA,KAAA,MAAA,CAAI,UAAU,iBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,cACb,SAAA,CAAAD,EAAAA,IAAC,QAAK,SAAM,QAAA,CAAA,EACZA,EAAAA,IAAC,SAAO,CAAA,QAAS,IAAMsB,EAAkB,EAAE,EAAG,SAAUV,EAAe,QAAU,EAAG,SAAC,GAAA,CAAA,EACrFZ,EAAAA,IAAC,OAAM,CAAA,SAAAY,EAAe,MAAO,CAAA,QAC5B,SAAO,CAAA,QAAS,IAAMU,EAAkB,CAAC,EAAG,SAAC,IAAA,CAAA,EAChD,EACArB,EAAAA,KAAC,MAAI,CAAA,UAAU,cACb,SAAA,CAAAD,EAAAA,IAAC,QAAK,SAAQ,UAAA,CAAA,EACdA,EAAAA,IAAC,SAAO,CAAA,QAAS,IAAMwB,EAAqB,EAAE,EAAG,SAAUZ,EAAe,UAAY,EAAG,SAAC,GAAA,CAAA,EAC1FZ,EAAAA,IAAC,OAAM,CAAA,SAAAY,EAAe,QAAS,CAAA,QAC9B,SAAO,CAAA,QAAS,IAAMY,EAAqB,CAAC,EAAG,SAAC,IAAA,CAAA,EACnD,QACC,SAAO,CAAA,UAAU,eAAe,QAASH,EAAkB,SAAG,MAAA,CAAA,CAAA,CACjE,CACF,CAAA,EAEDrB,EAAA,IAAA,MAAA,CAAI,MAAO,CAAE,MAAO,MAAO,SAAU,OAAQ,UAAW,MAAO,EAC9D,SAACA,MAAA,IAAA,CAAE,+DAAoD,CAAA,EACzD,CACF,CAAA,CAAA,CAEJ,CCpLA,MAAe2B,GAAA,4BCWd,SAASC,IAAS,CACf,MAAM3D,EAAWzD,KACX,CAACqH,EAAcC,CAAe,EAAI5G,WAAS,EAAK,EAChD6G,EAAM,aAAa,QAAQ,OAAO,EACA7G,EAAAA,SAAS,EAAK,EAEtDT,EAAAA,UAAU,IAAM,CACR,MAAAuH,EAAU,SAAS,eAAe,UAAU,EAC5CC,EAAW,SAAS,eAAe,WAAW,EAC9CC,EAAcF,EAAQ,cAAc,GAAG,EAEvCG,EAAa,IAAM,CACdF,EAAA,UAAU,OAAO,MAAM,EAChC,MAAMG,EAASH,EAAS,UAAU,SAAS,MAAM,EACjDC,EAAY,aAAa,YAAaE,EAAS,gBAAkB,cAAc,CAAA,EAGzEJ,EAAA,iBAAiB,QAASG,CAAU,EACnCF,EAAA,iBAAiB,QAAS,IAAM,CAC9BA,EAAA,UAAU,OAAO,MAAM,EACpBC,EAAA,aAAa,YAAa,cAAc,CAAA,CACrD,EAED,MAAMG,EAAqB,CACzB,SAAU,OACV,OAAQ,SACR,SAAU,GAAA,EAGC,OAAAC,GAAA,EAAE,OAAO,uBAAwB,CAC5C,GAAGD,CAAA,CACJ,EAEYC,GAAA,EAAE,OAAO,wBAAyB,CAC7C,GAAGD,EACH,MAAO,GAAA,CACR,EAEYC,GAAA,EAAE,OAAO,oBAAqB,CACzC,GAAGD,EACH,OAAQ,MAAA,CACT,EAEYC,GAAA,EAAE,OAAO,sCAAuC,CAC3D,GAAGD,EACH,MAAO,GAAA,CACR,EAEYC,GAAA,EAAE,OAAO,mCAAoC,CACxD,GAAGD,EACH,MAAO,GAAA,CACR,EAEYC,GAAA,EAAE,OAAO,wCAAyC,CAC7D,GAAGD,EACH,MAAO,IAAA,CACR,EAEYC,GAAA,EAAE,OAAO,cAAe,CACnC,GAAGD,EACH,MAAO,GAAA,CACR,EAEYC,GAAA,EAAE,OAAO,cAAe,CACnC,GAAGD,EACH,SAAU,GAAA,CACX,EAEYC,GAAA,EAAE,OAAO,oBAAqB,CACzC,GAAGD,EACH,SAAU,IACV,OAAQ,OAAA,CACT,EAIM,IAAM,CACHL,EAAA,oBAAoB,QAASG,CAAU,EACtCF,EAAA,oBAAoB,QAAS,IAAM,CAAA,CAAE,CAAA,CAElD,EAAG,CAAE,CAAA,EACLlH,GAAM,SAAS,gBAAkB,GACjC,MAAMwH,EAAe,IAAM,CACnBxH,GAAA,KAAK,mCAAyC,EACjD,KAAYiC,GAAA,CACPA,EAAI,SAAW,MACjB,aAAa,WAAW,WAAW,EACnC,aAAa,WAAW,OAAO,EAC/B,aAAa,WAAW,QAAQ,EAChC,aAAa,WAAW,aAAa,EAErCiB,EAAS,SAAS,EACpB,CACD,EACA,MAAaf,GAAA,CACJ,QAAA,MAAM,qBAAsBA,CAAG,CAAA,CACxC,CAAA,EAEC,CAACsB,EAAMgE,CAAO,EAAItH,WAAS,EAAE,EAC7BuH,EAAYC,GAAc,CAC3BA,EACDF,EAAQE,CAAW,EAGnBzE,EAAS,SAAS,CACpB,EAIFxD,EAAAA,UAAU,IAAM,CACR,MAAAiI,EAAc,aAAa,QAAQ,aAAa,EAClDA,EACFD,EAAWC,CAAW,EAGtBF,EAAQ,EAAE,CAGd,EAAG,CAAE,CAAA,EAGL,MAAMG,EAAmB,IAAM,CAC7Bb,EAAgB,EAAI,CAAA,EAGhBc,EAAmB,IAAM,CAC7Bd,EAAgB,EAAK,CAAA,EAIjBe,EAAsB,CAAC9F,EAAG+F,IAAS,CACvC/F,EAAE,eAAe,EACjBkB,EAAS6E,CAAI,EACbhB,EAAgB,EAAK,CAAA,EAmHvB,aAAC,MAGG,CAAA,SAAC7B,EAAAA,KAAA,MACC,CAAA,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,WACb,SAAA,CAAAD,MAAC,MAAI,CAAA,UAAU,OACb,SAAAA,EAAA,IAAC,KAAE,KAAK,QAAQ,SAACA,EAAAA,IAAA,MAAA,CAAI,IAAK+C,GAAM,IAAI,OAAO,QAAS,IAAI,CAAC9E,EAAS,GAAG,CAAA,CAAG,CAAA,CAAE,CAAA,EAG5E,EACC+B,EAAAA,IAAA,MAAI,CAAA,UAAU,iBAAiB,GAAG,WACjC,SAACA,EAAAA,IAAA,IAAA,CAAE,UAAU,cAAA,CAAe,EAC9B,CAAA,EACF,SACC,KAAA,CAAG,UAAU,aAAa,GAAG,YAC5B,SAAA,CAAAA,MAAC,MAAG,SAACA,EAAA,IAAA,IAAA,CAAE,KAAK,QAAQ,QAAS,IAAI,CAAC/B,EAAS,GAAG,CAAA,EAAI,eAAI,CAAA,EAAI,QACzD,KAAG,CAAA,SAAA+B,EAAA,IAAC,KAAE,KAAK,SAAS,QAAS,IAAI,CAAC/B,EAAS,GAAG,CAAA,EAAI,gBAAK,CAAA,EAAI,QAC3D,KAAG,CAAA,SAAA+B,EAAA,IAAC,KAAE,KAAK,WAAW,QAAS,IAAI,CAAC/B,EAAS,GAAG,CAAA,EAAI,mBAAQ,CAAA,EAAI,QAChE,KAAG,CAAA,SAAA+B,EAAA,IAAC,KAAE,KAAK,WAAW,QAAS,IAAI,CAAC/B,EAAS,GAAG,CAAA,EAAI,kBAAO,CAAA,EAAI,QAC/D,KAAG,CAAA,SAAA+B,EAAA,IAAC,KAAE,KAAK,WAAW,QAAS,IAAI,CAAC/B,EAAS,GAAG,CAAA,EAAI,kBAAO,CAAA,EAAI,EAChEgC,EAAA,KAAC,KAAA,CACC,UAAU,WACV,aAAc0C,EACd,aAAcC,EAEd,SAAA,QAAC,IAAE,CAAA,KAAK,IAAI,UAAU,kBACpB,SAAA,CAAC5C,EAAAA,IAAAgD,GAAA,CAAW,UAAU,WAAW,EAAE,aAAA,EACrC,SACC,MAAI,CAAA,UAAW,oBAAoBnB,EAAe,OAAS,EAAE,GAE9D,SAAA,CAAC7B,EAAAA,IAAA,IAAA,CAAE,KAAK,mBAAmB,QAAUjD,GAAM8F,EAAoB9F,EAAG,kBAAkB,EAAG,SAEvF,YAAA,EACCgF,EAGG9B,OAAAC,EAAAA,SAAA,CAAA,SAAA,OAAC,IAAE,CAAA,KAAK,mBAAmB,GAAG,OAAO,QAAUnD,GAAM8F,EAAoB9F,EAAG,kBAAkB,EAAG,SAEjG,UAAA,QACC,IAAA,CAAE,KAAK,2BAA2B,QAAUA,GAAM8F,EAAoB9F,EAAG,0BAA0B,EAAG,GAAG,aAAa,SAE3H,aAAA,EACKiD,EAAAA,IAAA,IAAE,CAAA,KAAK,qBAAqB,QAAUjD,GAAM8F,EAAoB9F,EAAG,oBAAoB,EAAG,SAE3F,YAAA,QACC,IAAA,CAAE,KAAK,iCAAiC,QAAUA,GAAM8F,EAAoB9F,EAAG,gCAAgC,EAAG,GAAG,oBAAoB,SAE1I,oBAAA,CAAA,EACF,EACE,IAAA,EAGL,CAAA,CAAA,CAkBD,EACCyB,EACGwB,EAAAA,IAAAE,EAAA,SAAA,CAEE,gBAAC,KAAA,CAAG,UAAU,WACR,SAAA,QAAC,IAAE,CAAA,KAAK,GAAG,UAAU,WAAW,SAAA,CAAA,OAAK1B,CAAA,EAAK,EACrCyB,EAAAA,KAAA,MAAI,CAAA,UAAU,mBACb,SAAA,OAAC,IAAA,CAAE,KAAK,aAAa,SAAuB,0BAAA,QACvC,IAAA,CAAE,KAAK,aAAa,SAAO,UAAA,QAC3B,IAAA,CAAE,KAAK,SAAS,SAAK,QAAA,QACpB,IAAE,CAAA,KAAK,eAAe,GAAG,cAAc,SAAW,cAAA,QAClD,IAAA,CAAE,KAAK,gBAAgB,SAAY,eAAA,QACnC,IAAE,CAAA,KAAK,GAAG,QAASsC,EAAc,SAAM,SAAA,CAAA,EAC/C,CAAA,CACT,CAAA,CACL,CAAA,EAICvC,EAAA,IAAA,KAAA,CACA,SAACA,EAAA,IAAA,IAAE,CAAA,KAAK,GAAG,QAAS,IAAM/B,EAAS,SAAS,EAAI,iBAAM,CAAA,EACvD,CAAA,EAyBJ,EACD+B,EAAAA,IAAA,UAAO,UAAU,eAAe,QAAS,IAAM/B,EAAS,QAAQ,EAAG,SAAQ,UAAA,CAAA,CAAA,CAC5E,CAAA,CAEJ,CAAA,CAEJ,CC3XA,MAAMgF,GAAQ,IAAIC,GAAmB,yCAAmC,EAClEC,GAAe,wBAGfC,GAAW,MAAOC,GAAa,CAC/B,GAAA,CACF,MAAMvD,EAAW,MAAM,MAAM,GAAGqD,EAAY,QAAQE,CAAQ,EAAE,EAC1D,GAAA,CAACvD,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAEnD,OAAA,MAAMA,EAAS,aACfhB,EAAO,CACd,eAAQ,MAAM,kBAAkBuE,CAAQ,IAAKvE,CAAK,EAC3C,IACT,CACF,EAGMwE,GAAiB,SAAY,CAC7B,GAAA,CACI,KAAA,CAACC,EAAOC,EAAYC,EAAYC,CAAQ,EAAI,MAAM,QAAQ,IAAI,CAClEN,GAAS,QAAQ,EACjBA,GAAS,aAAa,EACtBA,GAAS,WAAW,EACpBA,GAAS,UAAU,CAAA,CACpB,EAED,GAAI,CAACG,GAAS,CAACC,GAAc,CAACC,GAAc,CAACC,EACrC,MAAA,IAAI,MAAM,qCAAqC,EAGhD,MAAA,CACL,MAAAH,EACA,WAAAC,EACA,WAAAC,EACA,SAAAC,CAAA,QAEK5E,EAAO,CACN,cAAA,MAAM,6BAA8BA,CAAK,EAC3C,IAAI,MAAM,mCAAmC,CACrD,CACF,EAGM6E,GAAuB,SAAY,CACnC,GAAA,CACI,MAAAC,EAAY,MAAMN,KAChB,eAAA,IAAI,YAAYM,CAAS,EAC1B;AAAA;AAAA;AAAA,EAGTA,EAAU,MAAM,IAAYC,GAAA;AAAA,IAC1BA,EAAK,QAAQ,MAAMA,EAAK,IAAI;AAAA,IAC5BA,EAAK,WAAW;AAAA,oBACAA,EAAK,aAAa;AAAA,sBAChBA,EAAK,eAAe;AAAA,eAC3BA,EAAK,SAAS;AAAA,YACjBA,EAAK,OAAS,cAAgB,gBAAgB;AAAA,CACzD,EAAE,KAAK;AAAA,CAAI,CAAC;AAAA;AAAA;AAAA,IAGTD,EAAU,WAAW,IAAI;AAAA,WAClBA,EAAU,WAAW,KAAK;AAAA,oBACjBA,EAAU,WAAW,OAAS,UAAY,WAAW;AAAA,wBACjDA,EAAU,WAAW,YAAY;AAAA,eAC1CA,EAAU,WAAW,eAAe;AAAA;AAAA;AAAA,EAGjDA,EAAU,WAAW,KAAK,IAAgBE,GAAA;AAAA,EAC1CA,EAAS,YAAY;AAAA,EACrBA,EAAS,MAAM,IAAIC,GAAQ,KAAKA,EAAK,IAAI,KAAKA,EAAK,KAAK,GAAG,EAAE,KAAK;AAAA,CAAI,CAAC;AAAA,CACxE,EAAE,KAAK;AAAA,CAAI,CAAC;AAAA;AAAA;AAAA,EAGXH,EAAU,WAAW,IAAgBI,GAAA;AAAA,IACnCA,EAAS,IAAI;AAAA,WACNA,EAAS,eAAe,IAAI,MAAMA,EAAS,eAAe,KAAK;AAAA,YAC9DA,EAAS,MAAM;AAAA,CAC1B,EAAE,KAAK;AAAA,CAAI,CAAC;AAAA;AAAA;AAAA,EAGXJ,EAAU,SAAS,IAAWK,GAAA;AAAA,IAC5BA,EAAI,IAAI,KAAKA,EAAI,MAAM,QAAQ,GAAGA,EAAI,MAAM,MAAM;AAAA,IAClDA,EAAI,WAAW;AAAA,IACfA,EAAI,aAAe,cAAgB,YAAY;AAAA,CAClD,EAAE,KAAK;AAAA,CAAI,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDAgBFnF,EAAO,CACN,eAAA,MAAM,kCAAmCA,CAAK,EAC/C,IACT,CACF,EAEMoF,GAAiB,CAACC,EAAMC,IAAgB,aAExC,GAAAD,EAAK,SAAS,MAAM,GAAKA,EAAK,SAAS,MAAM,GAAKA,EAAK,SAAS,YAAY,EAAG,CACjF,MAAME,EAAiB,CAAA,EACV,OAAA3F,EAAA0F,GAAA,YAAAA,EAAA,OAAA,MAAA1F,EAAM,QAAoBoF,GAAA,CACrCO,EAAeP,EAAS,YAAY,EAAIA,EAAS,MAAM,IAAaC,IAAA,CAClE,KAAMA,EAAK,KACX,MAAOA,EAAK,MACZ,YAAaA,EAAK,YAClB,aAAcA,EAAK,aACnB,WAAYA,EAAK,YAAc,SAC/B,gBAAiBA,EAAK,iBAAmB,YACzC,EAAA,CAAA,GAGG,CACL,KAAM,MACN,QAASI,EACT,cAAe,CACb,eAAgB,CACd,OAAMC,GAAA,YAAAA,EAAa,OAAQ,wBAAwB,GACnD,aAAYA,GAAA,YAAAA,EAAa,QAAS,oBAAoB,GACtD,oBAAmBA,GAAA,YAAAA,EAAa,kBAAmB,IAAI,WACvD,mBAAkBA,GAAA,YAAAA,EAAa,eAAgB,+BAAgC,EACjF,EACA,KAAM,OAAO,QAAQC,CAAc,EAAE,IAAI,CAAC,CAACP,EAAUQ,CAAK,KAAO,CAC/D,SAAAR,EACA,MAAOQ,EAAM,IAAaP,IAAA,CACxB,KAAMA,EAAK,KACX,MAAOA,EAAK,MACZ,YAAaA,EAAK,YAClB,OAAQ,CACNA,EAAK,aAAe,SAAW,aAC/B,OAAOA,EAAK,UAAU,GACtB,MAAMA,EAAK,eAAe,EAC5B,CAAA,EACA,CAAA,EACF,CACJ,EACA,QAAS,CACP,CAAE,KAAM,gBAAiB,KAAM,IAAK,EACpC,CAAE,KAAM,iBAAkB,KAAM,IAAK,EACrC,CAAE,KAAM,qBAAsB,KAAM,IAAK,CAC3C,CAAA,CAEJ,CAGA,OAAII,EAAK,SAAS,MAAM,GAAKA,EAAK,SAAS,eAAe,EACjD,CACL,KAAM,MACN,QAASA,EACT,eAAexF,EAAAyF,GAAA,YAAAA,EAAa,QAAb,YAAAzF,EAAoB,IAAakF,IAAA,CAC9C,MAAOA,EAAK,SACZ,OAAQ,CACN,cAAcA,EAAK,IAAI,SACvB,iBAAiBA,EAAK,WAAW,GACjC,aAAaA,EAAK,OAAS,YAAc,cAAc,GACvD,mBAAmBA,EAAK,aAAa,GACrC,qBAAqBA,EAAK,eAAe,GACzC,cAAcA,EAAK,SAAS,EAC9B,CAAA,GACA,EAKFM,EAAK,SAAS,UAAU,GAAKA,EAAK,SAAS,WAAW,EACjD,CACL,KAAM,MACN,QAASA,EACP,eAAevF,EAAAwF,GAAA,YAAAA,EAAa,aAAb,YAAAxF,EAAyB,IAAiBoF,IAAA,CACzD,MAAOA,EAAS,KAChB,OAAQ,CACN,YAAYA,EAAS,eAAe,IAAI,MAAMA,EAAS,eAAe,KAAK,GAC3E,cAAcA,EAAS,MAAM,GAC7B,MAAMA,EAAS,QAAQ,KAAO,EAAI,UAAUA,EAAS,QAAQ,IAAI,IAAIA,EAAS,QAAQ,IAAI,GAAK,eAAe,GAC9G,MAAMA,EAAS,WAAW,EAC5B,CAAA,GACA,EAKFG,EAAK,SAAS,SAAS,GAAKA,EAAK,SAAS,MAAM,EAC3C,CACL,KAAM,MACN,QAASA,EACT,eAAetF,EAAAuF,GAAA,YAAAA,EAAa,WAAb,YAAAvF,EAAuB,IAAYoF,IAAA,CAChD,MAAOA,EAAI,KACX,OAAQ,CACN,cAAcA,EAAI,MAAM,MAAM,GAC9B,gBAAgBA,EAAI,SAAS,IAAI,UAAUA,EAAI,SAAS,MAAM,UAC9D,aAAaA,EAAI,aAAe,YAAc,UAAU,GACxDA,EAAI,SAAW,qBAAqBA,EAAI,SAAS,UAAU,QAAU,GACrE,MAAMA,EAAI,WAAW,GACrB,iBAAiBA,EAAI,WAAW,IAAIM,GAAOA,EAAI,IAAI,EAAE,KAAK,IAAI,CAAC,EAAA,EAC/D,OAAO,OAAO,CAAA,GAChB,EAIC,CACL,KAAM,MACN,QAASJ,CAAA,CAEb,EAEaK,GAAmB,MAAOC,GAAgB,CACjD,GAAA,CACI,MAAAC,EAAe,MAAMf,KAC3B,GAAI,CAACe,EACG,MAAA,IAAI,MAAM,kCAAkC,EAI9C,MAAAC,EADQ1B,GAAM,mBAAmB,CAAE,MAAO,aAAc,EAC3C,UAAU,CAC3B,QAAS,CACP,CACE,KAAM,OACN,MAAO,CAAC,CAAE,KAAM,4CAA6C,CAC/D,EACA,CACE,KAAM,QACN,MAAO,CAAC,CAAE,KAAMyB,EAAc,CAChC,CACF,EACA,iBAAkB,CAChB,YAAa,GACb,gBAAiB,GACnB,CAAA,CACD,EAEKN,EAAc,MAAMQ,GAAqBH,CAAW,EAGpDN,GADW,MADF,MAAMQ,EAAK,YAAY,CAAC,CAAE,KAAMF,CAAa,CAAA,CAAC,GAC/B,UACR,OAGhBI,EAAoBX,GAAeC,EAAMC,CAAW,EAGpDU,EAAU,MAAMC,GAAkBN,EAAaL,CAAW,EAC5D,OAAAU,EAAQ,OAAS,IACnBD,EAAkB,QAAUC,GAGvBD,QACA/F,EAAO,CACN,eAAA,MAAM,oBAAqBA,CAAK,EACjC,CACL,KAAM,MACN,QAAS,yGACT,QAAS,CACP,CAAE,KAAM,oBAAqB,KAAM,IAAK,EACxC,CAAE,KAAM,YAAa,KAAM,IAAK,CAClC,CAAA,CAEJ,CACF,EAGM8F,GAAuB,MAAOH,GAAgB,CAC5C,MAAAO,EAAUP,EAAY,cAExB,GAAA,CACE,GAAAO,EAAQ,SAAS,MAAM,GAAKA,EAAQ,SAAS,MAAM,GAAKA,EAAQ,SAAS,YAAY,EAAG,CACpF,MAAAxB,EAAa,MAAMJ,GAAS,aAAa,EACzC6B,EAAO,MAAM7B,GAAS,OAAO,EAC5B,MAAA,CACL,GAAGI,EACH,KAAAyB,CAAA,CAEJ,CACA,OAAID,EAAQ,SAAS,MAAM,GAAKA,EAAQ,SAAS,MAAM,EAC9C,MAAM5B,GAAS,QAAQ,EAE5B4B,EAAQ,SAAS,UAAU,GAAKA,EAAQ,SAAS,KAAK,GAAKA,EAAQ,SAAS,MAAM,EAC7E,MAAM5B,GAAS,WAAW,EAE/B4B,EAAQ,SAAS,SAAS,GAAKA,EAAQ,SAAS,MAAM,GAAKA,EAAQ,SAAS,OAAO,EAC9E,MAAM5B,GAAS,UAAU,EAE3B,WACAtE,EAAO,CACN,eAAA,MAAM,gCAAiCA,CAAK,EAC7C,IACT,CACF,EAGMiG,GAAoB,MAAON,EAAaL,IAAgB,CACtD,MAAAY,EAAUP,EAAY,cACtBS,EAAiB,CACrB,CAAE,KAAM,aAAc,KAAM,IAAK,EACjC,CAAE,KAAM,kBAAmB,KAAM,KAAM,EACvC,CAAE,KAAM,iBAAkB,KAAM,IAAK,EACrC,CAAE,KAAM,mBAAoB,KAAM,IAAK,CAAA,EAGrC,OAACd,EAGDY,EAAQ,SAAS,MAAM,GAAKA,EAAQ,SAAS,MAAM,EAC9C,CACL,CAAE,KAAM,qBAAsB,KAAM,IAAK,EACzC,CAAE,KAAM,kBAAmB,KAAM,KAAM,EACvC,CAAE,KAAM,aAAc,KAAM,IAAK,EACjC,CAAE,KAAM,WAAY,KAAM,GAAI,CAAA,EAI9BA,EAAQ,SAAS,MAAM,GAAKA,EAAQ,SAAS,MAAM,GAAKA,EAAQ,SAAS,YAAY,EAChF,CACL,CAAE,KAAM,iBAAkB,KAAM,IAAK,EACrC,CAAE,KAAM,gBAAiB,KAAM,IAAK,EACpC,CAAE,KAAM,kBAAoB,KAAM,OAAQ,EAC1C,CAAE,KAAM,qBAAsB,KAAM,IAAK,CAAA,EAItCE,EArBkBA,CAsB3B,ECrUMC,GAAU,IAAM,CACpB,KAAM,CAAC/C,EAAQgD,CAAS,EAAIlK,WAAS,EAAK,EACpC,CAACmK,EAAkBC,CAAmB,EAAIpK,WAAS,EAAI,EACvD,CAACqK,EAAUC,CAAW,EAAItK,WAAS,CACvC,CACE,KAAM,MACN,QAAS,qFACT,QAAS,CACP,CAAE,KAAM,eAAgB,KAAM8E,EAAAA,IAACyF,KAAQ,CAAG,EAC1C,CAAE,KAAM,aAAc,KAAMzF,EAAAA,IAACgD,KAAW,CAAG,EAC3C,CAAE,KAAM,WAAY,KAAMhD,EAAAA,IAAC0F,KAAc,CAAG,EAC5C,CAAE,KAAM,aAAc,KAAM1F,EAAAA,IAAC2F,KAAW,CAAG,CAC7C,CACF,CAAA,CACD,EACK,CAACC,EAAcC,CAAe,EAAI3K,WAAS,EAAE,EAC7C,CAAC4K,EAAUC,CAAW,EAAI7K,WAAS,EAAK,EACxC,CAAC4D,EAAOkH,CAAQ,EAAI9K,WAAS,IAAI,EACjC+K,EAAiBrJ,SAAO,IAAI,EAC5BsJ,EAAWtJ,SAAO,IAAI,EAEtBuJ,EAAiB,IAAM,QAC3BzH,EAAAuH,EAAe,UAAf,MAAAvH,EAAwB,eAAe,CAAE,SAAU,QAAU,EAAA,EAG/DjE,EAAAA,UAAU,IAAM,CACC0L,GAAA,EACd,CAACZ,CAAQ,CAAC,EAEb9K,EAAAA,UAAU,IAAM,CACV2H,GAAU8D,EAAS,SACrBA,EAAS,QAAQ,OACnB,EACC,CAAC9D,CAAM,CAAC,EAGX3H,EAAAA,UAAU,IAAM,CACd,GAAI4K,EAAkB,CACd,MAAAe,EAAQ,WAAW,IAAM,CAC7Bd,EAAoB,EAAK,GACxB,GAAM,EACF,MAAA,IAAM,aAAac,CAAK,CACjC,CAAA,EACC,CAACf,CAAgB,CAAC,EAEf,MAAAgB,EAAoB,MAAO5B,GAAgB,CAC3C,GAAA,CAACA,EAAY,KAAA,EAAQ,OAEzBuB,EAAS,IAAI,EACb,MAAMM,EAAiB,CACrB,KAAM,OACN,QAAS7B,CAAA,EAGXe,EAAoBe,GAAA,CAAC,GAAGA,EAAMD,CAAc,CAAC,EAC7CT,EAAgB,EAAE,EAClBE,EAAY,EAAI,EAEZ,GAAA,CAEF,MAAMS,EAAc,KAAK,IAAI,IAAM/B,EAAY,OAAS,EAAE,EAC1D,MAAM,IAAI,QAAQrF,IAAW,WAAWA,GAASoH,CAAW,CAAC,EAGvD,MAAAC,EAAc,MAAMjC,GAAiBC,CAAW,EACtDe,EAAoBe,IAAA,CAAC,GAAGA,GAAME,CAAW,CAAC,QACnC3H,EAAO,CACN,QAAA,MAAM,iBAAkBA,CAAK,EACrCkH,EAAS,+CAA+C,EAC5CR,EAAAe,GAAQ,CAAC,GAAGA,EAAM,CAC5B,KAAM,MACN,QAAS,sFACT,QAAS,CACP,CAAE,KAAM,eAAgB,KAAMvG,EAAAA,IAACyF,KAAQ,CAAG,EAC1C,CAAE,KAAM,aAAc,KAAMzF,EAAAA,IAACgD,KAAW,CAAG,EAC3C,CAAE,KAAM,WAAY,KAAMhD,EAAAA,IAAC0F,KAAc,CAAG,EAC5C,CAAE,KAAM,aAAc,KAAM1F,EAAAA,IAAC2F,KAAW,CAAG,CAC7C,CACD,CAAA,CAAC,CAAA,QACF,CACAI,EAAY,EAAK,CACnB,CAAA,EAGIW,EAAqBC,GAAW,CACpCN,EAAkBM,EAAO,IAAI,CAAA,EAGzBC,EAAkB7J,GAAM,CACxBA,EAAE,MAAQ,SAAW,CAACA,EAAE,UAAY6I,EAAa,SACnD7I,EAAE,eAAe,EACjBsJ,EAAkBT,CAAY,EAChC,EAIA,OAAA3F,EAAA,KAAC,MAAI,CAAA,UAAU,oBACZ,SAAA,CAAAoF,GAAoB,CAACjD,GACnBnC,EAAA,KAAA,MAAA,CAAI,UAAU,gBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,kBACb,SAAA,CAACD,EAAAA,IAAA6G,GAAA,CAAQ,UAAU,cAAe,CAAA,EAClC7G,EAAAA,IAAC,KAAE,SAAoC,sCAAA,CAAA,EACvCA,EAAA,IAAC,SAAA,CACC,UAAU,gBACV,QAAS,IAAMsF,EAAoB,EAAK,EACxC,aAAW,wBAEX,eAACwB,GAAQ,EAAA,CAAA,CACX,CAAA,EACF,EACA9G,EAAAA,IAAC,MAAI,CAAA,UAAU,eAAgB,CAAA,CAAA,EACjC,EAGFA,EAAA,IAAC,SAAA,CACC,UAAW,kBAAkBoC,EAAS,OAAS,EAAE,IAAI0D,EAAW,SAAW,EAAE,GAC7E,QAAS,IAAM,CACbV,EAAU,CAAChD,CAAM,EACjBkD,EAAoB,EAAK,CAC3B,EACA,aAAYlD,EAAS,aAAe,YAEnC,SAASA,EAAApC,EAAAA,IAAC8G,GAAQ,CAAA,CAAA,QAAMD,GAAQ,EAAA,CAAA,CACnC,EAECzE,GACCnC,EAAA,KAAC,MAAI,CAAA,UAAU,iBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,iBACb,SAAA,CAACD,EAAAA,IAAA6G,GAAA,CAAQ,UAAU,oBAAqB,CAAA,EACxC5G,EAAAA,KAAC,MAAI,CAAA,UAAU,cACb,SAAA,CAAAD,EAAAA,IAAC,MAAG,SAAoB,sBAAA,CAAA,EACvBA,EAAA,IAAA,OAAA,CAAK,UAAU,SAAS,SAAM,SAAA,CAAA,EACjC,CAAA,EACF,EAECC,EAAA,KAAA,MAAA,CAAI,UAAU,mBAAmB,KAAK,MACpC,SAAA,CAASsF,EAAA,IAAI,CAACP,EAAS+B,IACtB9G,EAAA,KAAC,MAAA,CAEC,UAAW,WAAW+E,EAAQ,IAAI,GAClC,MAAO,CAAE,eAAgB,GAAG+B,EAAQ,EAAG,GAAI,EAE3C,SAAA,CAAC9G,EAAAA,KAAA,MAAA,CAAI,UAAU,kBACZ,SAAA,CAAA+E,EAAQ,OAAS,OAAUhF,EAAAA,IAAA6G,GAAA,CAAQ,UAAU,eAAe,EAC7D7G,EAAAA,IAAC,IAAG,CAAA,SAAAgF,EAAQ,OAAQ,CAAA,CAAA,EACtB,EACCA,EAAQ,SACPhF,EAAAA,IAAC,MAAI,CAAA,UAAU,kBACZ,SAAAgF,EAAQ,QAAQ,IAAI,CAAC2B,EAAQK,IAC5B/G,EAAA,KAAC,SAAA,CAEC,QAAS,IAAMyG,EAAkBC,CAAM,EACvC,UAAU,gBAET,SAAA,CAAOA,EAAA,KACR3G,EAAAA,IAAC,OAAM,CAAA,SAAA2G,EAAO,IAAK,CAAA,CAAA,CAAA,EALdK,CAOR,CAAA,EACH,EAEDhC,EAAQ,eACNhF,MAAA,MAAA,CAAI,UAAU,iBACZ,SAAA,MAAM,QAAQgF,EAAQ,aAAa,EAClCA,EAAQ,cAAc,IAAI,CAACiC,EAASC,IACjCjH,EAAA,KAAA,MAAA,CAAc,UAAU,eACvB,SAAA,CAACD,EAAAA,IAAA,KAAA,CAAI,WAAQ,KAAM,CAAA,EAClBA,EAAA,IAAA,KAAA,CACE,SAAQiH,EAAA,OAAO,IAAI,CAACE,GAAOC,KACzBpH,EAAA,IAAA,KAAA,CAAY,SAAJmH,EAAA,EAAAC,EAAU,CACpB,EACH,CANQ,CAAA,EAAAF,CAOV,CACD,EACClC,EAAQ,cAAc,eACxB/E,EAAA,KAAC,MAAI,CAAA,UAAU,kBACb,SAAA,CAAAD,MAAC,MAAI,CAAA,UAAU,kBACZ,SAAAgF,EAAQ,cAAc,eAAe,IAAI,CAACqC,EAAMH,IAC9ClH,EAAA,IAAA,IAAA,CAAa,SAANqH,CAAA,EAAAH,CAAW,CACpB,EACH,EACClH,EAAA,IAAA,MAAA,CAAI,UAAU,gBACZ,WAAQ,cAAc,KAAK,IAAI,CAACiH,EAASC,IACvCjH,EAAA,KAAA,MAAA,CAAc,UAAU,eACvB,SAAA,CAACD,EAAAA,IAAA,KAAA,CAAI,WAAQ,QAAS,CAAA,EACrBA,EAAA,IAAA,KAAA,CACE,SAAQiH,EAAA,MAAM,IAAI,CAAClD,GAAMqD,KACvBpH,EAAA,IAAA,KAAA,CAAY,SAAJ+D,EAAA,EAAAqD,EAAS,CACnB,EACH,CAAA,GANQF,CAOV,CACD,EACH,CAAA,CACF,CAAA,EACE,KACN,CAAA,CAAA,EAxDGH,CAAA,CA2DR,EACAjB,SACE,MAAI,CAAA,UAAU,qBACb,SAAC7F,EAAAA,KAAA,MAAA,CAAI,UAAU,mBACb,SAAA,CAAAD,EAAA,IAAC,OAAK,EAAA,QACL,OAAK,EAAA,QACL,OAAK,EAAA,CAAA,CAAA,CACR,CACF,CAAA,EAEDlB,GACCkB,EAAA,IAAC,MAAI,CAAA,UAAU,gBACZ,SACHlB,EAAA,EAEFkB,EAAAA,IAAC,MAAI,CAAA,IAAKiG,CAAgB,CAAA,CAAA,EAC5B,EAEAhG,EAAAA,KAAC,MAAI,CAAA,UAAU,gBACb,SAAA,CAAAD,EAAA,IAAC,QAAA,CACC,IAAKkG,EACL,KAAK,OACL,MAAON,EACP,SAAW7I,GAAM8I,EAAgB9I,EAAE,OAAO,KAAK,EAC/C,WAAY6J,EACZ,YAAY,uBACZ,aAAW,aACX,SAAUd,CAAA,CACZ,EACA9F,EAAA,IAAC,SAAA,CACC,QAAS,IAAMqG,EAAkBT,CAAY,EAC7C,UAAU,cACV,SAAU,CAACA,EAAa,KAAA,GAAUE,EAClC,aAAW,eAEX,eAACwB,GAAa,EAAA,CAAA,CAChB,CAAA,EACF,CAAA,EACF,CAEJ,CAAA,CAAA,CAEJ,ECrPevE,GAAA,6BCAAwE,GAAA,6BCAAC,GAAA,8BCAAC,GAAA,6mCCAAC,GAAA,iCCAAC,GAAA,62CCGTC,GAAU,IAAM,CACpB,MAAMC,EAAS,CACb,uDACA,wDACA,uDACA,sDACA,sDACA,sDACA,sDACA,sDACA,qDAAA,EAGI,CAACC,EAAeC,CAAgB,EAAI7M,WAAS,CAAC,EAE9C8M,EAAgB,IAAM,CACTD,EAACxB,GAASA,EAAO,CAAC,CAAA,EAGrC,OACGtG,EAAAA,KAAA,UAAA,CAAQ,UAAU,UAAU,GAAG,UAC9B,SAAA,CAACD,EAAA,IAAA,IAAA,CAAE,UAAU,qBAAqB,SAAO,UAAA,EACxCA,EAAA,IAAA,KAAA,CAAG,UAAU,kBAAkB,SAAqC,wCAAA,EACpEA,EAAA,IAAA,MAAA,CAAI,UAAU,UACZ,SAAO6H,EAAA,MAAM,EAAGC,CAAa,EAAE,IAAI,CAACG,EAAOlB,IAC1C/G,EAAA,IAAC,MAAI,CAAA,UAAU,gBACb,SAAAA,EAAA,IAAC,MAAI,CAAA,IAAKiI,EAAO,IAAK,iBAAiBlB,EAAQ,CAAC,EAAA,CAAI,CADlB,EAAAA,CAEpC,CACD,EACH,EACCe,EAAgBD,EAAO,QACvB7H,EAAA,IAAC,MAAI,CAAA,UAAU,qBACf,SAAAA,EAAAA,IAAC,SAAO,CAAA,UAAU,MAAM,QAASgI,EAAe,SAAA,UAEhD,CAAA,EACF,CAED,CAAA,CAAA,CAEJ,ECxBA,SAASE,IAAO,CAGd,MAAMjK,EAAWzD,KACX,CAAC+I,EAAO4E,CAAQ,EAAIjN,EAAA,SAAS,CAAE,CAAA,EAC/B,CAACkN,EAAaC,CAAc,EAAInN,WAAS,EAAK,EAE9CoN,EAAoBzE,GAAS,CAEjC5F,EAAS,eAAgB,CACrB,MAAO,CACH,SAAU4F,CACd,CAAA,CACH,CAAA,EAGHpJ,OAAAA,EAAAA,UAAU,IAAM,CACR,MAAAuH,EAAU,SAAS,eAAe,UAAU,EAC5CC,EAAW,SAAS,eAAe,WAAW,EAC9CC,EAAcF,EAAQ,cAAc,GAAG,EAEvCG,EAAa,IAAM,CACdF,EAAA,UAAU,OAAO,MAAM,EAChC,MAAMG,EAASH,EAAS,UAAU,SAAS,MAAM,EACjDC,EAAY,aAAa,YAAaE,EAAS,gBAAkB,cAAc,CAAA,EAGzEJ,EAAA,iBAAiB,QAASG,CAAU,EACnCF,EAAA,iBAAiB,QAAS,IAAM,CAC9BA,EAAA,UAAU,OAAO,MAAM,EACpBC,EAAA,aAAa,YAAa,cAAc,CAAA,CACrD,EAED,MAAMG,EAAqB,CACzB,SAAU,OACV,OAAQ,SACR,SAAU,GAAA,EAGCC,GAAA,EAAE,OAAO,uBAAwB,CAC5C,GAAGD,CAAA,CACJ,EAEYC,GAAA,EAAE,OAAO,wBAAyB,CAC7C,GAAGD,EACH,MAAO,GAAA,CACR,EAEYC,GAAA,EAAE,OAAO,oBAAqB,CACzC,GAAGD,EACH,OAAQ,MAAA,CACT,EAEYC,GAAA,EAAE,OAAO,sCAAuC,CAC3D,GAAGD,EACH,MAAO,GAAA,CACR,EAEYC,GAAA,EAAE,OAAO,mCAAoC,CACxD,GAAGD,EACH,MAAO,GAAA,CACR,EAEYC,GAAA,EAAE,OAAO,wCAAyC,CAC7D,GAAGD,EACH,MAAO,IAAA,CACR,EAEYC,GAAA,EAAE,OAAO,cAAe,CACnC,GAAGD,EACH,MAAO,GAAA,CACR,EAEYC,GAAA,EAAE,OAAO,cAAe,CACnC,GAAGD,EACH,SAAU,GAAA,CACX,EAEYC,GAAA,EAAE,OAAO,oBAAqB,CACzC,GAAGD,EACH,SAAU,IACV,OAAQ,OAAA,CACT,EAGKtH,GAAA,KAAK,0CAAgD,EAC5D,KAAYiC,GAAA,CACP,GAAAA,EAAI,SAAW,IAAK,CACtB,KAAM,CAAE,eAAAuL,EAAgB,QAAAvD,GAAYhI,EAAI,KAEhC,QAAA,IAAIA,EAAI,IAAI,EAEhBuL,EAAe,SAAW,EAC5B,QAAQ,IAAI,qBAAqB,GAEjC,QAAQ,IAAIvD,CAAO,EACnBmD,EAASI,CAAc,EAE3B,CAAA,CACD,EACA,MAAarL,GAAA,CACJ,QAAA,MAAM,QAASA,CAAG,CAAA,CAC3B,CACD,EAAG,CAAE,CAAA,EACLzC,EAAAA,UAAU,IAAM,CAER,MAAA+N,EAAe,WAAW,IAAM,CACpCH,EAAe,EAAI,GAClB,GAAI,EAEA,MAAA,IAAM,aAAaG,CAAY,CACxC,EAAG,CAAE,CAAA,EAEL/N,EAAAA,UAAU,IAAM,CAEd,MAAMgO,EAAe,IAAM,CACF,OAAO,QACT,IACnBJ,EAAe,EAAK,EAEpBA,EAAe,EAAI,CACrB,EAGK,cAAA,iBAAiB,SAAUI,CAAY,EACvC,IAAM,OAAO,oBAAoB,SAAUA,CAAY,CAChE,EAAG,CAAE,CAAA,EAIFxI,EAAA,KAAA,MAAI,CAAA,UAAU,iBACb,SAAA,CAACA,EAAAA,KAAA,SAAA,CAAO,UAAU,SAChB,SAAA,CAAAD,EAAA,IAAC4B,GAAO,EAAA,SACP,MAAA,CAAI,UAAU,uCAAuC,GAAG,OACvD,SAAA,CAAC5B,EAAAA,IAAA,KAAE,SAA0B,6BAAA,SAC5B,KAAG,CAAA,SAAA,CAAA,8BAAsB,KAAG,EAAA,EAAE,UAAQA,EAAAA,IAAA,QAAK,SAAK,QAAA,EAAO,GAAA,EAAC,CAAA,EAC3D,CAAA,EAIF,QACCQ,GAAQ,EAAA,SAER,UAAA,CAAQ,UAAU,sCAAsC,GAAG,QAC1D,SAAA,CAACR,EAAAA,IAAA,MAAA,CAAI,UAAU,eACb,SAAAA,EAAA,IAAC,OAAI,IAAKuH,GAAO,IAAI,OAAA,CAAQ,EAC/B,EACCtH,EAAAA,KAAA,MAAI,CAAA,UAAU,iBACb,SAAA,OAAC,IAAA,CAAE,UAAU,qBAAqB,SAAQ,WAAA,QACzC,KAAA,CAAG,UAAU,kBAAkB,SAA6B,gCAAA,QAC5D,IAAA,CAAE,UAAU,uBAAuB,SAKpC,mNAAA,EACCD,EAAAA,IAAA,OAAI,UAAU,aACb,eAAC,SAAO,CAAA,UAAU,MAAM,SAAA,WAAA,CAAS,EACnC,CAAA,EACF,CAAA,EACF,EAECC,EAAAA,KAAA,UAAQ,CAAA,UAAU,qCACvB,SAAA,OAAC,IAAA,CAAE,UAAU,qBAAqB,SAAe,kBAAA,QAChD,KAAA,CAAG,UAAU,kBAAkB,SAAyC,4CAAA,QAExE,MAAA,CAAI,UAAU,aAEZ,WAAM,OAAS,EACdsD,EAAM,IAAKM,GACR5D,EAAA,KAAA,MAAA,CAAI,UAAU,aACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,oBAEb,SAAA,CAAAD,EAAA,IAAC,MAAA,CAAI,IAAM6D,EAAK,QAAUA,EAAK,OAAO,OAAS,EAC3C,iCAAuCA,EAAK,OAAO,CAAC,CAAC,GACrD2D,GACF,IAAK3D,EAAK,QAAA,CACZ,EACC5D,EAAAA,KAAA,MAAI,CAAA,UAAU,oBACb,SAAA,CAAAD,MAAC,OAAK,CAAA,SAAAA,EAAA,IAAC,IAAE,CAAA,UAAU,eAAgB,CAAA,EAAI,QACtC,OAAK,CAAA,SAAAA,EAAA,IAAC,IAAE,CAAA,UAAU,eAAgB,CAAA,EAAI,QACtC,OAAK,CAAA,SAAAA,EAAA,IAAC,IAAE,CAAA,UAAU,qBAAsB,CAAA,EAAI,CAAA,EAC/C,CAAA,EACF,EACCC,EAAAA,KAAA,MAAI,CAAA,UAAU,sBACb,SAAA,OAAC,KAAA,CAAI,WAAK,SAAS,QAClB,IAAG,CAAA,SAAA4D,EAAK,YAAY,SACpB,KAAG,CAAA,SAAA,CAAA,wBAAe,OAAK,CAAA,SAAA,CAAA,IAAEA,EAAK,KAAK,QAAA,EAAM,CAAA,EAAO,EAChD7D,EAAAA,IAAA,UAAO,UAAU,MAAM,QAAS,IAAMsI,EAAiBzE,CAAI,EAAG,SAAW,aAAA,CAAA,CAAA,EAC5E,CAAA,GAnB+BA,EAAK,GAoBtC,CACD,EAEA7D,EAAAA,IAAA,IAAA,CAAE,6BAAkB,CAAA,EAEzB,CAAA,EACF,QAGO,UAAA,CAAQ,UAAU,UAAU,GAAG,UAC9B,SAACA,MAAA,MAAA,CAAI,UAAU,wCACb,SAACC,EAAA,KAAA,MAAA,CAAI,UAAU,mBACb,SAAA,OAAC,IAAA,CAAE,UAAU,qBAAqB,SAAQ,WAAA,QACzC,KAAA,CAAG,UAAU,kBAAkB,SAAyB,4BAAA,EACxDA,EAAAA,KAAA,KAAG,CAAA,UAAU,gBACZ,SAAA,CAAAA,OAAC,KACC,CAAA,SAAA,CAAAD,MAAC,OAAK,CAAA,SAAAA,EAAA,IAAC,IAAE,CAAA,UAAU,qBAAsB,CAAA,EAAI,EAAO,qBAAA,EAEtD,SACC,KACC,CAAA,SAAA,CAAAA,MAAC,OAAK,CAAA,SAAAA,EAAA,IAAC,IAAE,CAAA,UAAU,kBAAmB,CAAA,EAAI,EAAO,uBAAA,EAEnD,SACC,KACC,CAAA,SAAA,CAAAA,MAAC,OAAK,CAAA,SAAAA,EAAA,IAAC,IAAE,CAAA,UAAU,mBAAoB,CAAA,EAAI,EAAO,iBAAA,EAEpD,SACC,KACC,CAAA,SAAA,CAAAA,MAAC,OAAK,CAAA,SAAAA,EAAA,IAAC,IAAE,CAAA,UAAU,eAAgB,CAAA,EAAI,EAAO,uBAAA,EAEhD,CAAA,EACF,CAAA,CACF,CAAA,CACF,CAAA,EACF,QAEC,UAAQ,CAAA,UAAU,uCACjB,SAACC,EAAA,KAAA,MAAA,CAAI,UAAU,kBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,eACb,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAG,MAAA,EACNA,EAAAA,IAAA,KAAE,SAAoB,uBAAA,CAAA,EACzB,EACCC,EAAAA,KAAA,MAAI,CAAA,UAAU,eACb,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAI,OAAA,EACPA,EAAAA,IAAA,KAAE,SAAkB,qBAAA,CAAA,EACvB,EACCC,EAAAA,KAAA,MAAI,CAAA,UAAU,eACb,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAI,OAAA,EACPA,EAAAA,IAAA,KAAE,SAAe,kBAAA,CAAA,EACpB,CAAA,CAAA,CACF,CAAA,CACF,QAcC4H,GAAQ,EAAA,SAER,SAAA,CAAO,UAAU,SAAS,GAAG,UAC5B,SAAA,CAAC3H,EAAAA,KAAA,MAAA,CAAI,UAAU,uCACb,SAAA,OAAC,MAAI,CAAA,UAAU,cACb,eAAC,MAAI,CAAA,UAAU,OACf,SAACD,MAAA,IAAE,CAAA,KAAK,QAAQ,QAAS,IAAI,CAAC/B,EAAS,GAAG,CAAI,EAAA,SAAC+B,EAAAA,IAAA,MAAI,CAAA,IAAK+C,GAAM,IAAI,MAAO,CAAA,EAAE,CAAA,CAC3E,EAEF,EACC9C,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAW,cAAA,QACd,KAAG,CAAA,UAAU,gBACd,SAACA,EAAAA,IAAA,KAAG,CAAA,eAAC,IAAE,CAAA,KAAK,QAAQ,QAAS,IAAI,CAAC/B,EAAS,GAAG,GAAI,SAAI,OAAA,CAAA,CAAI,EAC1D,CAAA,EACF,EACCgC,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAY,eAAA,QACf,KAAG,CAAA,UAAU,gBACd,SAACA,EAAAA,IAAA,KAAG,CAAA,eAAC,IAAE,CAAA,KAAK,GAAG,QAAS,IAAI,CAAC/B,EAAS,QAAQ,GAAI,SAAY,eAAA,CAAA,CAAI,EAClE,CAAA,EACF,EACCgC,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAU,aAAA,EACbA,EAAA,IAAA,KAAA,CAAG,UAAU,gBACZ,SAACA,EAAAA,IAAA,KAAA,CAAG,eAAC,IAAA,CAAE,KAAK,IAAI,SAAoB,sBAAA,CAAA,CAAI,CAAA,EAC1C,EACCC,EAAAA,KAAA,MAAI,CAAA,UAAU,kBACb,SAAA,CAACD,EAAAA,IAAA,IAAA,CAAE,KAAK,IAAI,SAAAA,EAAA,IAAC,OAAI,IAAKyH,GAAU,IAAI,UAAA,CAAW,EAAE,EAChDzH,EAAAA,IAAA,IAAE,CAAA,KAAK,IAAI,SAAAA,EAAA,IAAC,OAAI,IAAK0H,GAAW,IAAI,WAAA,CAAY,EAAE,EAClD1H,EAAAA,IAAA,IAAE,CAAA,KAAK,IAAI,SAAAA,EAAA,IAAC,OAAI,IAAK2H,GAAS,IAAI,SAAA,CAAU,EAAE,CAAA,EACjD,CAAA,EACF,CAAA,EACF,QACC,MAAA,CAAI,UAAU,cAAc,SAE7B,6DAAA,CAAA,EACF,EAECS,GACEpI,EAAA,IAAA,MAAA,CAAI,UAAU,kBACb,SAAAA,MAACmF,IAAQ,CAAA,EACX,GAEJ,CAEJ,CC7TC,SAASuD,IAAS,CAEf,OAAA1I,EAAA,IAAC,OAAI,SAEL,QAAA,CAAA,CAEJ,CCRA,MAAe2I,GAAA,u+ECAAC,GAAA,27BCAAC,GAAA,itDCAAC,GAAA,24ECAAC,GAAA,qkCCAAC,GAAA,shCCAAC,GAAA,4hBCAAC,GAAA,u/DCAAC,GAAA,gvFCAAlE,GAAA,gOCAAmE,GAAA,4oBCAAC,GAAA,0XCAAC,GAAA,ioCCAAC,GAAA,+gCCAA/K,GAAA,+1BCAAgL,GAAA,o9BCAAC,GAAA,2mECAAC,GAAA,kCCAAC,GAAA,kCCAAC,GAAA,oCCAAC,GAAA,mCCyBFC,GAAY,CACrB,MAAAnB,GAAO,KAAAC,GAAM,MAAAC,GAAOkB,OAAAA,GAAQ,KAAAhB,GAAM,MAAAC,GAAO,YAAAC,GAAa,MAAAC,GAAO,KAAAC,GAAM,KAAAlE,GAAM,MAAAmE,GAAO,KAAAC,GAAM,OAAAC,GAAQ,OAAAC,GAAQ,KAAA/K,GAAM,OAAAgL,GAAQ,OAAAC,EACxH,EAEaO,GAAc,CACvB,WAAAN,GAAY,WAAAC,GAAY,aAAAC,GAAc,YAAAC,EAC1C,EC5BaI,GAAkB,CAC3B,CAAE,GAAI,EAAG,MAAO,OAAQ,MAAOH,GAAU,IAAM,EAC/C,CAAE,GAAI,EAAG,MAAO,SAAU,MAAOA,GAAU,MAAQ,EACnD,CAAE,GAAI,EAAG,MAAO,eAAgB,MAAOA,GAAU,KAAO,EACxD,CAAE,GAAI,EAAG,MAAO,gBAAiB,MAAOA,GAAU,MAAQ,EAC1D,CAAE,GAAI,EAAG,MAAO,QAAS,MAAOA,GAAU,KAAO,EACjD,CAAE,GAAI,EAAG,MAAO,UAAW,MAAOA,GAAU,MAAQ,EACpD,CAAE,GAAI,EAAG,MAAO,UAAW,MAAOA,GAAU,MAAQ,EACpD,CAAE,GAAI,EAAG,MAAO,mBAAoB,MAAOA,GAAU,MAAQ,EAC7D,CAAE,GAAI,EAAG,MAAO,UAAW,MAAOA,GAAU,IAAM,EAClD,CAAE,GAAI,GAAI,MAAO,WAAY,MAAOA,GAAU,KAAO,CACzD,EAEaI,GAAe,CACxB,CACI,GAAI,GACJ,KAAM,eACN,MAAOF,GAAY,YACnB,KAAM,WACN,OAAQ,IACX,EACD,CACI,GAAI,GACJ,KAAM,mBACN,MAAOA,GAAY,aACnB,KAAM,WACN,OAAQ,GACX,EACD,CACI,GAAI,GACJ,KAAM,YACN,MAAOA,GAAY,WACnB,KAAM,WACN,OAAQ,GACX,CACL,EAEaG,GAAa,CACtB,CACI,GAAI,GACJ,MAAO,MACP,OAAQ,GACR,OAAQ,IACX,EACD,CACI,GAAI,GACJ,MAAO,MACP,OAAQ,GACR,OAAQ,EACX,EACD,CACI,GAAI,GACJ,MAAO,MACP,OAAQ,GACR,OAAQ,IACX,EACD,CACI,GAAI,GACJ,MAAO,MACP,OAAQ,GACR,OAAQ,IACX,EACD,CACI,GAAI,GACJ,MAAO,MACP,OAAQ,GACR,OAAQ,IACX,CACL,EAEaJ,GAAS,CAClB,CACI,GAAI,GACJ,MAAO,gBACP,KAAM,YACN,OAAQ,IACX,EACD,CACI,GAAI,GACJ,MAAO,eACP,KAAM,YACN,OAAQ,IACX,EACD,CACI,GAAI,GACJ,MAAO,YACP,KAAM,YACN,OAAQ,GACX,EACD,CACI,GAAI,GACJ,MAAO,gBACP,KAAM,KACN,OAAQ,GACX,EACD,CACI,GAAI,GACJ,MAAO,gBACP,KAAM,KACN,OAAQ,GACX,CACL,EAEaK,GAAgB,CACzB,CACI,GAAI,GACJ,MAAO,WACP,SAAU,WACV,OAAQ,GACX,EACD,CACI,GAAI,GACJ,MAAO,UACP,SAAU,WACV,OAAQ,GACX,EACD,CACI,GAAI,GACJ,MAAO,OACP,SAAU,WACV,OAAQ,GACX,CACL,EAEaC,GAAU,CACnB,CACI,GAAI,GACJ,MAAOL,GAAY,WACnB,cAAe,KACf,MAAO,qBACP,WAAY,WACZ,YAAa,GAChB,CACL,EChIaM,GAAiBC,EAAAA,cAAc,CAAA,CAAE,EAiBhCC,GAAU,KClBxB,MAAMC,GAAU,IAAM,CACpB,KAAM,CAACC,CAAa,EAAIxP,EAAA,SAAS,CAAC,EAC5B,CAACyP,EAAcC,CAAe,EAAI1P,WAAS,EAAE,EAC7C,CAAE,cAAA2P,CAAA,EAAkBC,EAAA,WAAWR,EAAc,EAEnD7P,OAAAA,EAAAA,UAAU,IAAM,CAEZmQ,EADCC,EACe,iBAEA,EAFgB,CAGlC,EACC,CAACA,CAAa,CAAC,EAGf5K,EAAA,KAAA,MAAA,CAAI,UAAY,WAAW0K,CAAY,GACtC,SAAA,CAAC1K,EAAAA,KAAA,MAAA,CAAI,UAAU,YACX,SAAA,CAACD,EAAA,IAAA,MAAA,CAAI,UAAU,yBACX,SAACA,EAAAA,IAAA,MAAA,CAAI,IAAMgK,GAAY,WAAa,IAAI,eAAA,CAAgB,CAC5D,CAAA,EACChK,EAAA,IAAA,OAAA,CAAK,UAAU,YAAY,SAAS,YAAA,CAAA,EACzC,EAEAA,EAAA,IAAC,MAAI,CAAA,UAAU,aACX,SAAAA,EAAAA,IAAC,KAAG,CAAA,UAAU,WAEV,SAAAiK,GAAgB,IAAKc,GACnB/K,EAAAA,IAAC,KAAG,CAAA,UAAU,WACZ,SAAAC,EAAA,KAAC,IAAE,CAAA,KAAK,IAAI,UAAY,YAAa8K,EAAe,KAAOL,EAAgB,SAAW,IAAK,GACvF,SAAA,CAAC1K,EAAAA,IAAA,MAAA,CAAI,IAAM+K,EAAe,MAAQ,UAAU,gBAAgB,IAAQA,EAAe,KAAQ,CAAA,EAC1F/K,EAAA,IAAA,OAAA,CAAK,UAAU,gBAAkB,WAAe,MAAO,CAAA,CAC5D,CAAA,CAJ+B,EAAA+K,EAAe,EAKhD,CACD,EAEL,CACJ,CAAA,CACF,CAAA,CAAA,CAEJ,ECxCMC,GAAa,IAAM,CACvB,KAAM,CAAE,cAAAC,CAAA,EAAkBH,EAAA,WAAWR,EAAc,EAEjD,OAAArK,EAAA,KAAC,MAAI,CAAA,UAAU,mBACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,mBACX,SAAA,CAAAD,MAAC,UAAO,KAAK,SAAS,UAAU,kBAAkB,QAAS,IAAMiL,EAC7D,EAAA,SAAAjL,MAAC,OAAI,IAAM8J,GAAU,KAAO,IAAI,EAAG,CAAA,EACvC,EACC9J,EAAA,IAAA,KAAA,CAAG,UAAU,oBAAoB,SAAI,OAAA,CAAA,EAC1C,EACAC,EAAAA,KAAC,MAAI,CAAA,UAAU,mBACX,SAAA,CAAAD,EAAA,IAAC,SAAO,CAAA,KAAK,SAAS,UAAU,6BAC5B,SAAAA,EAAAA,IAAC,MAAI,CAAA,IAAM8J,GAAU,OAAS,IAAI,EAAG,CAAA,EACzC,EACA7J,EAAAA,KAAC,SAAO,CAAA,UAAU,mCACd,SAAA,CAACD,EAAAA,IAAA,MAAA,CAAI,IAAM8J,GAAU,IAAO,CAAA,EAC5B9J,EAAAA,IAAC,OAAK,CAAA,UAAU,sBAAuB,CAAA,CAAA,EAC3C,CAAA,EACJ,CACJ,CAAA,CAAA,CAEJ,ECvBMkL,GAAQ,IAEVjL,EAAA,KAAC,MAAI,CAAA,UAAU,oCACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,eACX,SAAA,CAACD,EAAA,IAAA,KAAA,CAAG,UAAU,oBAAoB,SAAK,QAAA,EACvCA,EAAAA,IAAC,UAAO,UAAU,oBACd,eAAC,MAAI,CAAA,IAAM8J,GAAU,IAAA,CAAO,CAChC,CAAA,CAAA,EACJ,EACA7J,EAAAA,KAAC,MAAI,CAAA,UAAU,kBACX,SAAA,CAAAD,EAAAA,IAAC,KAAE,SAAO,SAAA,CAAA,EACTA,EAAA,IAAA,MAAA,CAAI,UAAU,WAAW,SAAQ,WAAA,EAClCC,EAAAA,KAAC,MAAI,CAAA,UAAU,eACX,SAAA,CAACD,EAAA,IAAA,OAAA,CAAK,UAAU,kBAAkB,SAAe,kBAAA,EACjDA,EAAAA,IAAC,QAAK,SAAI,MAAA,CAAA,CAAA,EACd,EACAC,EAAAA,KAAC,MAAI,CAAA,UAAU,oBACX,SAAA,CAAAA,OAAC,MACG,CAAA,SAAA,CAACD,EAAA,IAAA,IAAA,CAAE,UAAU,kCAAkC,SAAO,UAAA,EACrDA,EAAA,IAAA,IAAA,CAAE,UAAU,0BAA0B,SAAK,QAAA,CAAA,EAChD,EACAC,EAAAA,KAAC,MAAI,CAAA,UAAU,YACX,SAAA,CAACD,EAAAA,IAAA,MAAA,CAAI,UAAU,aAAc,CAAA,EAC7BA,EAAAA,IAAC,MAAI,CAAA,UAAU,aAAc,CAAA,CAAA,EACjC,CAAA,EACJ,CAAA,EACJ,CACJ,CAAA,CAAA,EC1BEmL,GAAe,IAEjBlL,EAAA,KAAC,MAAI,CAAA,UAAU,oCACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,eACX,SAAA,CAACD,EAAA,IAAA,KAAA,CAAG,UAAU,oBAAoB,SAAgB,mBAAA,EAClDA,EAAAA,IAAC,UAAO,UAAU,oBACd,eAAC,MAAI,CAAA,IAAM8J,GAAU,IAAA,CAAO,CAChC,CAAA,CAAA,EACJ,EAEC9J,MAAA,MAAA,CAAI,UAAU,eACX,eAAC,MAAI,CAAA,UAAU,aAEP,SAAAkK,GAAa,IAAKkB,GACbnL,EAAAA,KAAA,MAAA,CAAI,UAAU,YACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,cACX,SAAA,CAACD,EAAA,IAAA,MAAA,CAAI,UAAU,uBACX,SAACA,EAAAA,IAAA,MAAA,CAAI,IAAMoL,EAAY,MAAQ,IAAI,EAAA,CAAG,CAC1C,CAAA,EACAnL,EAAAA,KAAC,IAAE,CAAA,UAAU,OAAS,SAAA,CAAYmL,EAAA,KAAM,IAACpL,EAAAA,IAAC,OAAO,CAAA,SAAAoL,EAAY,IAAM,CAAA,CAAA,EAAO,CAAA,EAC9E,QACC,MAAI,CAAA,UAAU,cACX,SAACnL,EAAA,KAAA,OAAA,CAAK,UAAU,eAAe,SAAA,CAAA,KAAImL,EAAY,MAAA,CAAA,CAAQ,CAC3D,CAAA,CAAA,CAAA,EAT+BA,EAAY,EAU/C,CACH,CAAA,CAET,CACJ,CAAA,CACJ,CAAA,CAAA,EC7BEC,GAAS,IAEXpL,EAAA,KAAC,MAAI,CAAA,UAAU,oCACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,eACX,SAAA,CAACD,EAAA,IAAA,KAAA,CAAG,UAAU,oBAAoB,SAAM,SAAA,EACxCA,EAAAA,IAAC,UAAO,UAAU,oBACd,eAAC,MAAI,CAAA,IAAM8J,GAAU,IAAA,CAAO,CAChC,CAAA,CAAA,EACJ,QACC,MAAI,CAAA,UAAU,kBACX,SAAC7J,EAAA,KAAA,MAAA,CAAI,UAAU,aACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,mBACX,SAAA,CAAAD,EAAAA,IAAC,QAAK,SAAG,KAAA,CAAA,EACTA,EAAAA,IAAC,QAAK,SAAE,IAAA,CAAA,EACRA,EAAAA,IAAC,QAAK,SAAE,IAAA,CAAA,EACRA,EAAAA,IAAC,QAAK,SAAE,IAAA,CAAA,EACRA,EAAAA,IAAC,QAAK,SAAC,GAAA,CAAA,CAAA,EACX,EAEImK,GAAW,IAAKb,GACXrJ,EAAAA,KAAA,MAAA,CAAI,UAAU,iBACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,cACX,SAAA,CAAAD,EAAA,IAAC,MAAI,CAAA,UAAU,YAAY,MAAO,CAAE,OAAQ,GAAGsJ,EAAO,SAAW,KAAO,MAAQ,EAAE,IAAM,EACvFtJ,EAAA,IAAA,MAAA,CAAI,UAAU,YAAY,MAAO,CAAE,OAAQ,GAAGsJ,EAAO,SAAW,KAAO,MAAQ,EAAE,IAAM,CAAA,EAC5F,EACCtJ,EAAA,IAAA,OAAA,CAAK,UAAU,mBAAmB,SAAG,MAAA,CAAA,GALLsJ,EAAO,EAM5C,CACH,CAAA,CAAA,CAGT,CACJ,CAAA,CACJ,CAAA,CAAA,EChCEgC,GAAS,IAEXrL,EAAA,KAAC,MAAI,CAAA,UAAU,oCACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,eACX,SAAA,CAACD,EAAA,IAAA,KAAA,CAAG,UAAU,oBAAoB,SAAM,SAAA,EACxCA,EAAAA,IAAC,UAAO,UAAU,oBACd,eAAC,MAAI,CAAA,IAAM8J,GAAU,IAAA,CAAO,CAChC,CAAA,CAAA,EACJ,EACA7J,EAAAA,KAAC,MAAI,CAAA,UAAU,4BACX,SAAA,CAACD,EAAA,IAAA,KAAA,CAAG,UAAU,WAAW,SAAI,OAAA,EAC5BA,EAAA,IAAA,OAAA,CAAK,UAAU,WAAW,SAAS,YAAA,CAAA,EACxC,EACCA,MAAA,MAAA,CAAI,UAAU,yBACX,eAAC,MAAI,CAAA,UAAU,aAEP,SAAA+J,GAAO,IAAKA,GACP9J,EAAAA,KAAA,MAAA,CAAI,UAAU,YACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,cACX,SAAA,CAACD,EAAAA,IAAA,MAAA,CAAI,UAAU,OACX,SAAAA,EAAAA,IAAC,OAAI,IAAM8J,GAAU,MAAQ,CACjC,CAAA,EACA7J,EAAAA,KAAC,IAAE,CAAA,UAAU,sBAAwB,SAAA,CAAA8J,EAAO,MAAO,IAAE/J,EAAAA,IAAA,OAAA,CAAO,SAAA+J,EAAO,IAAM,CAAA,CAAA,EAAO,CAAA,EACpF,QACC,MAAI,CAAA,UAAU,cACX,SAAC9J,EAAA,KAAA,OAAA,CAAK,UAAU,iBAAiB,SAAA,CAAA,KAAI8J,EAAO,MAAA,CAAA,CAAQ,CACxD,CAAA,CAAA,CAAA,EAT+BA,EAAO,EAU1C,CACH,CAAA,CAET,CACJ,CAAA,CACJ,CAAA,CAAA,EChCEwB,GAAgB,IAElBtL,EAAA,KAAC,MAAI,CAAA,UAAU,uCACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,eACX,SAAA,CAACD,EAAA,IAAA,KAAA,CAAG,UAAU,oBAAoB,SAAa,gBAAA,EAC/CA,EAAAA,IAAC,UAAO,UAAU,oBACd,eAAC,MAAI,CAAA,IAAM8J,GAAU,IAAA,CAAO,CAChC,CAAA,CAAA,EACJ,EACC9J,MAAA,MAAA,CAAI,UAAU,kBACX,eAAC,MAAI,CAAA,UAAU,aAEP,SAAAoK,GAAc,IAAKoB,GACdvL,EAAAA,KAAA,MAAA,CAAI,UAAU,YACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,cACX,SAAA,CAACD,EAAAA,IAAA,MAAA,CAAI,UAAU,OACX,SAAAA,EAAAA,IAAC,OAAI,IAAM8J,GAAU,MAAQ,CACjC,CAAA,EACA7J,EAAAA,KAAC,IAAE,CAAA,UAAU,sBAAwB,SAAA,CAAauL,EAAA,MAAO,WAAE,OAAK,CAAA,SAAA,CAAA,OAAMA,EAAa,QAAA,EAAU,CAAA,EAAO,CAAA,EACxG,QACC,MAAI,CAAA,UAAU,cACX,SAACvL,EAAA,KAAA,OAAA,CAAK,UAAU,iBAAiB,SAAA,CAAA,KAAIuL,EAAa,MAAA,CAAA,CAAQ,CAC9D,CAAA,CAAA,CAAA,EAT8BA,EAAa,EAU/C,CACH,CAAA,CAET,CACJ,CAAA,CACJ,CAAA,CAAA,EC5BEC,GAAU,IAEZxL,EAAA,KAAC,MAAI,CAAA,UAAU,uCACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,eACX,SAAA,CAACD,EAAA,IAAA,KAAA,CAAG,UAAU,oBAAoB,SAAO,UAAA,EACzCA,EAAAA,IAAC,UAAO,UAAU,oBACd,eAAC,MAAI,CAAA,IAAM8J,GAAU,IAAA,CAAO,CAChC,CAAA,CAAA,EACJ,EACC9J,MAAA,MAAA,CAAI,UAAU,kBACX,eAAC,MAAI,CAAA,UAAU,aAEP,SAAAqK,GAAQ,IAAKqB,GACRzL,EAAAA,KAAA,MAAA,CAAI,UAAU,YACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,gBACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,kBACX,SAAA,CAACD,EAAAA,IAAA,MAAA,CAAI,UAAU,uBACX,SAAAA,EAAAA,IAAC,OAAI,IAAMgK,GAAY,WAAa,CACxC,CAAA,EACChK,EAAA,IAAA,IAAA,CAAE,UAAU,sBAAwB,WAAO,MAAO,CAAA,EACvD,QACC,MAAI,CAAA,UAAU,kBACX,SAACC,EAAA,KAAA,OAAA,CAAK,UAAU,iBAAiB,SAAA,CAAA,KAAIyL,EAAO,aAAA,CAAA,CAAe,CAC/D,CAAA,CAAA,EACJ,EACAzL,EAAAA,KAAC,MAAI,CAAA,UAAU,mBACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,mBACX,SAAA,CAACA,EAAAA,KAAA,OAAA,CAAK,UAAU,kBAAkB,SAAA,CAAA,cAAayL,EAAO,UAAA,EAAY,EAClEzL,EAAAA,KAAC,OAAK,CAAA,UAAU,kBAAkB,SAAA,CAAA,iBAAgByL,EAAO,WAAA,EAAa,CAAA,EAC1E,EACA1L,EAAAA,IAAC,OAAI,UAAU,qBACX,eAAC,MAAI,CAAA,UAAU,iBAAiB,CACpC,CAAA,CAAA,EACJ,CAAA,CAAA,EApB+B0L,EAAO,EAqB1C,CACH,CAAA,CAET,CACJ,CAAA,CACJ,CAAA,CAAA,ECxCEC,GAAQ,IAEV1L,EAAA,KAAC,MAAI,CAAA,UAAU,uCACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,eACX,SAAA,CAACD,EAAA,IAAA,KAAA,CAAG,UAAU,oBAAoB,SAAK,QAAA,EACvCA,EAAAA,IAAC,UAAO,UAAU,oBACd,eAAC,MAAI,CAAA,IAAK8J,GAAU,IAAA,CAAM,CAC9B,CAAA,CAAA,EACJ,EACA7J,EAAAA,KAAC,MAAI,CAAA,UAAU,kBACX,SAAA,CAAAD,EAAAA,IAAC,OAAI,UAAU,eACX,SAACC,EAAA,KAAA,MAAA,CAAI,UAAU,UACX,SAAA,CAACD,EAAAA,IAAA,MAAA,CACG,eAAC,SAAO,CAAA,GAAG,MAAM,GAAG,MAAM,EAAE,IAAA,CAAK,CAErC,CAAA,EACCA,MAAA,MAAA,CAAI,UAAU,SACX,gBAAC,KAAG,CAAA,SAAA,CAAA,KAAEA,EAAAA,IAAC,QAAK,SAAC,GAAA,CAAA,CAAA,CAAA,CAAO,CACxB,CAAA,CAAA,CAAA,CACJ,CACJ,CAAA,EACAC,EAAAA,KAAC,KAAG,CAAA,UAAU,YACV,SAAA,CAACA,EAAAA,KAAA,KAAA,CAAG,UAAU,2BACV,SAAA,CAACD,EAAA,IAAA,OAAA,CAAK,UAAU,iBAAiB,SAAc,iBAAA,EAC9CA,EAAA,IAAA,OAAA,CAAK,UAAU,kBAAkB,SAAS,YAAA,CAAA,EAC/C,EACAC,EAAAA,KAAC,KAAG,CAAA,UAAU,2BACV,SAAA,CAACD,EAAA,IAAA,OAAA,CAAK,UAAU,iBAAiB,SAAc,iBAAA,EAC9CA,EAAA,IAAA,OAAA,CAAK,UAAU,kBAAkB,SAAS,YAAA,CAAA,EAC/C,CAAA,EACJ,CAAA,EACJ,CACJ,CAAA,CAAA,ECjCE4L,GAAY,IAEd3L,EAAA,KAAC,MAAI,CAAA,UAAU,uCACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,eACX,SAAA,CAACD,EAAA,IAAA,KAAA,CAAG,UAAU,oBAAoB,SAAgB,mBAAA,EAClDA,EAAAA,IAAC,UAAO,UAAU,oBACd,eAAC,MAAI,CAAA,IAAM8J,GAAU,IAAA,CAAO,CAChC,CAAA,CAAA,EACJ,EACA9J,EAAAA,IAAC,OAAI,UAAU,kBACX,eAAC,IAAE,CAAA,UAAU,sBAAsB,SAAA,sEAAA,CACf,CACxB,CAAA,CACJ,CAAA,CAAA,ECLE6L,GAAc,IAEhB5L,EAAA,KAAC,MAAI,CAAA,UAAU,sBACX,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,mBACX,SAAA,CAAAD,EAAA,IAACkL,GAAM,EAAA,QACNC,GAAa,EAAA,QACbE,GAAO,EAAA,CAAA,EACZ,EACApL,EAAAA,KAAC,MAAI,CAAA,UAAU,mBACX,SAAA,CAAAD,EAAA,IAACsL,GAAO,EAAA,QACP,MAAI,CAAA,UAAU,gBACb,SAACrL,EAAA,KAAA,MAAA,CAAI,UAAU,cACb,SAAA,CAAAD,EAAA,IAACuL,GAAc,EAAA,QACdE,GAAQ,EAAA,CAAA,CAAA,CACX,CACF,CAAA,QAEC,MAAI,CAAA,UAAU,gBACb,SAACxL,EAAA,KAAA,MAAA,CAAI,UAAU,cACb,SAAA,CAAAD,EAAA,IAAC2L,GAAM,EAAA,QACNC,GAAU,EAAA,CAAA,CAAA,CACb,CACF,CAAA,CAAA,EACJ,CACJ,CAAA,CAAA,EC9BEE,GAAU,IAEZ7L,EAAA,KAAC,MAAI,CAAA,UAAU,eACb,SAAA,CAAAD,EAAA,IAACgL,GAAW,EAAA,QACXa,GAAY,EAAA,CACf,CAAA,CAAA,ECLJ,SAASE,IAAe,CACtB,OAEI/L,EAAA,IAAAE,WAAA,CAAA,SAAAD,EAAAA,KAAC,MAAI,CAAA,UAAU,MACb,SAAA,CAAAD,EAAA,IAACyK,GAAQ,EAAA,QACRqB,GAAQ,EAAA,CAAA,CACX,CAAA,CACF,CAAA,CAEJ,CCPA,MAAME,GAAS,IAAM,CACnB,MAAMC,EAAc,IAAI,KAAK,EAAE,YAAY,EAGzC,OAAAhM,EAAA,KAAC,SAAO,CAAA,UAAU,SAChB,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,iBAEb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,8BACb,SAAA,CAACD,EAAA,IAAA,MAAA,CAAI,UAAU,iBACb,SAACA,EAAAA,IAAA,MAAA,CAAI,IAAI,aAAa,IAAI,mBAAmB,UAAU,aAAc,CAAA,EACvE,EACCA,EAAA,IAAA,IAAA,CAAE,UAAU,sBAAsB,SAGnC,wIAAA,EACAC,EAAAA,KAAC,MAAI,CAAA,UAAU,eACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,eACb,SAAA,CAACD,EAAAA,IAAAkM,GAAA,CAAQ,UAAU,cAAe,CAAA,EAClClM,EAAAA,IAAC,QAAK,SAAe,iBAAA,CAAA,CAAA,EACvB,EACAC,EAAAA,KAAC,MAAI,CAAA,UAAU,eACb,SAAA,CAACD,EAAAA,IAAAmM,GAAA,CAAW,UAAU,cAAe,CAAA,EACrCnM,EAAAA,IAAC,QAAK,SAAoB,sBAAA,CAAA,CAAA,EAC5B,EACAC,EAAAA,KAAC,MAAI,CAAA,UAAU,eACb,SAAA,CAACD,EAAAA,IAAAoM,GAAA,CAAe,UAAU,cAAe,CAAA,EACzCpM,EAAAA,IAAC,QAAK,SAAwC,0CAAA,CAAA,CAAA,EAChD,CAAA,EACF,CAAA,EACF,EAGAC,EAAAA,KAAC,MAAI,CAAA,UAAU,6BACb,SAAA,CAAAD,EAAAA,IAAC,MAAG,SAAW,aAAA,CAAA,SACd,KACC,CAAA,SAAA,CAAAA,EAAAA,IAAC,MAAG,SAACA,EAAA,IAAAqM,GAAA,CAAK,GAAG,IAAI,gBAAI,CAAO,CAAA,QAC3B,KAAG,CAAA,SAAArM,EAAA,IAACqM,IAAK,GAAG,mBAAmB,gBAAI,CAAO,CAAA,QAC1C,KAAG,CAAA,SAAArM,EAAA,IAACqM,IAAK,GAAG,gBAAgB,wBAAY,CAAO,CAAA,QAC/C,KAAG,CAAA,SAAArM,EAAA,IAACqM,IAAK,GAAG,SAAS,oBAAQ,CAAO,CAAA,QACpC,KAAG,CAAA,SAAArM,EAAA,IAACqM,IAAK,GAAG,WAAW,mBAAO,CAAO,CAAA,CAAA,EACxC,CAAA,EACF,EAGApM,EAAAA,KAAC,MAAI,CAAA,UAAU,0BACb,SAAA,CAAAD,EAAAA,IAAC,MAAG,SAAY,cAAA,CAAA,SACf,KACC,CAAA,SAAA,CAAAA,EAAAA,IAAC,MAAG,SAACA,EAAA,IAAAqM,GAAA,CAAK,GAAG,iBAAiB,yBAAa,CAAO,CAAA,QACjD,KAAG,CAAA,SAAArM,EAAA,IAACqM,IAAK,GAAG,gBAAgB,wBAAY,CAAO,CAAA,CAAA,EAIlD,CAAA,EACF,EAGApM,EAAAA,KAAC,MAAI,CAAA,UAAU,4BACb,SAAA,CAAAD,EAAAA,IAAC,MAAG,SAAc,gBAAA,CAAA,EAClBA,EAAAA,IAAC,KAAE,SAA0D,4DAAA,CAAA,EAC7DC,EAAAA,KAAC,MAAI,CAAA,UAAU,kBACb,SAAA,CAAAD,EAAA,IAAC,QAAA,CACC,KAAK,QACL,YAAY,mBACZ,UAAU,kBAAA,CACZ,EACCA,EAAA,IAAA,SAAA,CAAO,UAAU,gBAAgB,SAAS,YAAA,CAAA,EAC7C,EACAC,EAAAA,KAAC,MAAI,CAAA,UAAU,eACb,SAAA,CAACD,EAAA,IAAA,IAAA,CAAE,KAAK,uBAAuB,OAAO,SAAS,IAAI,sBACjD,SAACA,EAAA,IAAAsM,GAAA,CAAY,UAAU,aAAc,CAAA,EACvC,EACCtM,EAAA,IAAA,IAAA,CAAE,KAAK,wBAAwB,OAAO,SAAS,IAAI,sBAClD,SAACA,EAAA,IAAAuM,GAAA,CAAY,UAAU,aAAc,CAAA,EACvC,EACCvM,EAAA,IAAA,IAAA,CAAE,KAAK,sBAAsB,OAAO,SAAS,IAAI,sBAChD,SAACA,EAAA,IAAAwM,GAAA,CAAU,UAAU,aAAc,CAAA,EACrC,EACCxM,EAAA,IAAA,IAAA,CAAE,KAAK,sBAAsB,OAAO,SAAS,IAAI,sBAChD,SAACA,EAAA,IAAAyM,GAAA,CAAU,UAAU,aAAc,CAAA,EACrC,CAAA,EACF,CAAA,EACF,CAAA,EACF,QAGC,MAAI,CAAA,UAAU,gBACb,SAACxM,EAAA,KAAA,MAAA,CAAI,UAAU,wBACb,SAAA,CAAAA,OAAC,IAAE,CAAA,SAAA,CAAA,KAAQgM,EAAY,4CAAA,EAA0C,EACjEhM,EAAAA,KAAC,MAAI,CAAA,UAAU,sBACb,SAAA,CAACD,EAAA,IAAAqM,GAAA,CAAK,GAAG,kBAAkB,SAAc,iBAAA,EACxCrM,EAAA,IAAAqM,GAAA,CAAK,GAAG,SAAS,SAAgB,mBAAA,EACjCrM,EAAA,IAAAqM,GAAA,CAAK,GAAG,WAAW,SAAa,gBAAA,CAAA,EACnC,CAAA,CAAA,CACF,CACF,CAAA,CACF,CAAA,CAAA,CAEJ,ECrGaK,GAAqB,MAAOC,EAAQC,IAAmB,CAC5D,GAAA,CAUA,OATiB,MAAM7R,GAAM,IAAI,6CAAoD,CACjF,OAAQ,CACJ,OAAA4R,EACA,OAAQC,EAAe,OACvB,SAAUA,EAAe,SACzB,QAASA,EAAe,QACxB,SAAUA,EAAe,QAC7B,CAAA,CACH,GACe,WACX9N,EAAO,CACJ,eAAA,MAAM,kCAAmCA,CAAK,EAC/C,IACX,CACJ,ECCA,SAAS+N,IAAQ,CAEf,MAAM5O,EAAWzD,KACX,CAAC+I,EAAO4E,CAAQ,EAAIjN,EAAA,SAAS,CAAE,CAAA,EAG/BuF,GAFWqM,KACM,OAAS,IACP,MAAQ,GAC3B,CAACC,EAAUC,CAAW,EAAI9R,EAAS,SAAA,EACvB0B,EAAAA,OAAO,IAAI,EAC7B,KAAM,CAACqQ,EAAkBC,CAAmB,EAAIhS,WAAS,KAAK,EACxD,CAACiS,EAAYC,CAAa,EAAIlS,WAAS,CAAC,EAAG,GAAK,CAAC,EACjD,CAACmS,EAAeC,CAAgB,EAAIpS,EAAA,SAAS,CAAE,CAAA,EAC/C,CAACqS,EAAkBC,CAAmB,EAAItS,EAAA,SAAS,CAAE,CAAA,EACrD,CAACuS,EAAiBC,CAAkB,EAAIxS,WAAS,IAAI,EAErDyS,EAAa,IAAM,CACjB5S,GAAA,KAAK,wCAA+C,CAAE,WAAA0F,EAAY,EACrE,KAAYzD,GAAA,CACP,GAAAA,EAAI,SAAW,IAAK,CACtB,KAAM,CAAE,eAAAuL,EAAgB,YAAAqF,EAAa,eAAAC,EAAgB,QAAA7I,GAAYhI,EAAI,KAC7D,QAAA,IAAIA,EAAI,IAAI,EAEhBuL,EAAe,OAASqF,GAC1B,QAAQ,IAAI5I,CAAO,EACnB,QAAQ,IAAI,iBAAiB4I,CAAW,sBAAsBC,CAAc,EAAE,IAE9E,QAAQ,IAAI7I,CAAO,EACnBgI,EAAYY,CAAW,EACvBzF,EAASI,CAAc,EAE3B,CAAA,CACD,EACA,MAAarL,GAAA,CACJ,QAAA,MAAM,QAASA,CAAG,CAAA,CAC3B,CAAA,EAIC4Q,EAAuB,SAAY,CACjC,MAAAnB,EAAS,aAAa,QAAQ,QAAQ,EAE5C,GAAI,CAACA,EAAQ,OAEb,MAAMoB,EAAkB,MAAMrB,GAAmBC,EAAQlM,CAAU,EAE/DsN,IACFP,EAAoBO,EAAgB,gBAAgB,EACpDL,EAAmBK,EAAgB,eAAe,EAC1C,QAAA,IAAI,kBAAkBA,EAAgB,eAAe,EAC/D,EAGFtT,EAAAA,UAAU,IAAM,CACHkT,IACUG,GAAA,EACpB,CAACrN,CAAU,CAAC,EAyCT,MAAAuN,EAAmBzK,GAAU,CACjC,MAAM0K,EAAe,CAAA,EACf,OAAAC,EAAA,QAASrK,GAAS,CACjBoK,EAAapK,EAAK,QAAQ,IAChBsK,EAAAtK,EAAK,QAAQ,EAAI,IAEhCoK,EAAapK,EAAK,QAAQ,EAAE,KAAKA,CAAI,CAAA,CACtC,EACMoK,CAAAA,EAGHA,EAAeD,EAAgBzK,CAAK,EAGpC6K,GAA0BC,GAAa,CACrC,MAAAC,EAAcL,EAAaI,CAAQ,EACzC,GAAI,CAACC,GAAeA,EAAY,SAAW,EAAU,OAAA,KAErD,MAAMC,EAAc9N,EAAW,OACzB+N,EAAgB/N,EAAW,SAC3BgO,EAAaH,EAAY,CAAC,EAG1BI,EAAuB,KAAK,KAAKH,EAAcE,EAAW,aAAa,EACvEE,EAAyB,KAAK,KAAKH,EAAgBC,EAAW,eAAe,EAG7EG,EAAmB,KAAK,IAAIF,EAAsBC,CAAsB,EAG1E,GAAAL,EAAY,OAASM,EAChB,OAAA,KAIT,MAAMC,EAAgB,CAAA,EAChBtG,EAAiB,CAAC,GAAG+F,CAAW,EAEtC,QAAS,EAAI,EAAG,EAAIM,EAAkB,IAAK,CACzC,MAAME,EAAc,KAAK,MAAM,KAAK,SAAWvG,EAAe,MAAM,EACpEsG,EAAc,KAAKtG,EAAe,OAAOuG,EAAa,CAAC,EAAE,CAAC,CAAC,CAC7D,CAEO,MAAA,CACL,MAAOD,EACP,MAAOD,EACP,aAAc,CACZ,OAAQ,KAAK,KAAKL,EAAcK,CAAgB,EAChD,SAAU,KAAK,KAAKJ,EAAgBI,CAAgB,CACtD,CAAA,CACF,EAIIG,GAAqBV,GAAa,CAChC,MAAAW,EAAiBZ,GAAuBC,CAAQ,EAEtD,GAAI,CAACW,EAAgB,CACnB/R,EAAK,KAAK,CACR,KAAM,QACN,MAAO,mBACP,KAAM,wBAAwBoR,CAAQ,gGACtC,kBAAmB,EAAA,CACpB,EACD,MACF,CAGApR,EAAK,KAAK,CACR,KAAM,OACN,MAAO,kBACP,KAAM;AAAA;AAAA,kDAEsC+R,EAAe,KAAK,IAAIX,CAAQ;AAAA;AAAA,mCAE/CW,EAAe,aAAa,MAAM;AAAA,qCAChCA,EAAe,aAAa,QAAQ;AAAA;AAAA,sBAEnDA,EAAe,KAAK,gBAAgBvO,EAAW,MAAM,eAAeA,EAAW,QAAQ;AAAA;AAAA,QAGvG,iBAAkB,GAClB,kBAAmB,uBACnB,iBAAkB,SAClB,YAAa,CACX,UAAW,2BACb,CAAA,CACD,EAAE,KAAMlC,GAAW,CACdA,EAAO,aACTN,EAAS,YAAa,CACpB,MAAO,CACL,KAAMwC,EACN,SAAUuO,EAAe,MAAM,CAAC,EAChC,WAAY,CACV,WAAYA,EAAe,MAC3B,MAAOA,EAAe,MACtB,aAAcA,EAAe,YAC/B,CACF,CAAA,CACD,CACH,CACD,CAAA,EAIGC,GAAe,IAEZ,CAAC,MAAO,GADD,CAAC,GAAG,IAAI,IAAI1L,EAAM,IAAYM,GAAAA,EAAK,QAAQ,CAAC,CAAC,CACpC,EAInBqL,GAAyB,CAACC,EAAOC,IAAa,CAClDhC,EAAcgC,CAAQ,CAAA,EAIlBC,GAAwBF,GAAU,CAClBjC,EAAAiC,EAAM,OAAO,KAAK,CAAA,EAIxC1U,EAAAA,UAAU,IAAM,CACV,IAAA6U,EAAW,CAAC,GAAG/L,CAAK,EAGpB0J,IAAqB,QACvBqC,EAAWA,EAAS,OAAezL,GAAAA,EAAK,WAAaoJ,CAAgB,GAIvEqC,EAAWA,EAAS,OAAOzL,GACzBA,EAAK,MAAQsJ,EAAW,CAAC,GAAKtJ,EAAK,MAAQsJ,EAAW,CAAC,CAAA,EAGzDG,EAAiBgC,CAAQ,CACxB,EAAA,CAAC/L,EAAO0J,EAAkBE,CAAU,CAAC,EAGlC,MAAAoC,GAAiB1L,GAGd0J,EAAiB,KAAKiC,GAAOA,EAAI,WAAa3L,EAAK,QAAQ,EAI9D4L,EAA4B,CAAC,CAAE,YAAAC,KAC9BA,EAGHzP,EAAA,KAAC0P,GAAI,GAAI,CACP,QAAS,OACT,gBAAiB,UACjB,aAAc,MACd,aAAc,OACd,OAAQ,qBAER,SAAA,CAAC3P,EAAAA,IAAA4P,EAAA,CAAW,QAAQ,KAAK,GAAI,CAAE,MAAO,UAAW,aAAc,MAAU,EAAA,SAEzE,+BAAA,EACC3P,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAA,8DAEzB,KACE,CAAA,SAAA,CAAYF,EAAA,oBACVzP,EAAAA,KAAA,KAAG,CAAA,SAAA,CAAA,0BAAwByP,EAAY,mBAAmB,KAAK,IAAI,CAAA,EAAE,EAEvEA,EAAY,qBACVzP,EAAAA,KAAA,KAAG,CAAA,SAAA,CAAA,0BAAwByP,EAAY,oBAAoB,SAAA,EAAO,EAEpEA,EAAY,oBACVzP,EAAAA,KAAA,KAAG,CAAA,SAAA,CAAA,wBAAsByP,EAAY,mBAAmB,KAAK,IAAI,CAAA,EAAE,CAAA,EAExE,CAAA,EACF,GACF,EA3BuB,KAgCrBG,GAAW,CAAC,CAAE,KAAAhM,EAAM,cAAA0L,CAAc,KACtC,QAAQ,IAAI,gBAAgBA,CAAa,SACxC,MAAI,CAAA,UAAW,cAAcA,EAAgB,cAAgB,EAAE,GAC9D,SAAA,CAACtP,EAAAA,KAAA,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAD,EAAA,IAAC,MAAA,CACC,IAAM6D,EAAK,OAAO,OAAS,EACzB,iCAAuCA,EAAK,OAAO,CAAC,CAAC,GACrD2D,GAEF,IAAI,MAAA,CACN,EACC+H,SACE,MAAI,CAAA,UAAU,uBACb,SAACvP,EAAA,IAAA,OAAA,CAAK,iCAAqB,EAC7B,EAEDC,EAAAA,KAAA,MAAI,CAAA,UAAU,oBACb,SAAA,CAAAD,MAAC,OAAK,CAAA,SAAAA,EAAA,IAAC,IAAE,CAAA,UAAU,eAAgB,CAAA,EAAI,QACtC,OAAK,CAAA,SAAAA,EAAA,IAAC,IAAE,CAAA,UAAU,eAAgB,CAAA,EAAI,QACtC,OAAK,CAAA,SAAAA,EAAA,IAAC,IAAE,CAAA,UAAU,qBAAsB,CAAA,EAAI,CAAA,EAC/C,CAAA,EACF,EACCC,EAAAA,KAAA,MAAI,CAAA,UAAU,sBACb,SAAA,OAAC,KAAA,CAAI,WAAK,SAAS,EAClBsP,GACEvP,EAAAA,IAAA,MAAA,CAAI,UAAU,wBACb,SAAAA,EAAA,IAAC,KAAE,MAAO,CACR,MAAO,UACP,SAAU,QACV,UAAW,MACX,UAAW,QAAA,EACV,2CAEH,CAAA,EACF,EAEDC,EAAAA,KAAA,MAAI,CAAA,UAAU,iBACb,SAAA,CAACD,EAAAA,IAAA,KAAE,SAAkB,qBAAA,SACpB,KACC,CAAA,SAAA,CAAAC,OAAC,KAAG,CAAA,SAAA,CAAA,WAAS4D,EAAK,aAAA,EAAc,SAC/B,KAAG,CAAA,SAAA,CAAA,aAAWA,EAAK,eAAA,EAAgB,CAAA,EACtC,CAAA,EACF,SACC,KAAG,CAAA,SAAA,CAAA,wBAAe,OAAK,CAAA,SAAA,CAAA,IAAEA,EAAK,KAAK,QAAA,EAAM,CAAA,EAAO,EACjD7D,EAAA,IAAC,SAAA,CACC,UAAW,OAAOuP,EAAgB,kBAAoB,EAAE,GACxD,GAAG,UACH,QAAS,IAAMR,GAAkBlL,EAAK,QAAQ,EAE7C,SAAA0L,EAEGtP,EAAAA,KAAAC,EAAA,SAAA,CAAA,SAAA,OAAC,OAAA,CAAK,UAAU,YAAY,SAAC,IAAA,EAAO,uBAAA,CAAA,CAEtC,EACE,aAAA,CACN,CAAA,EACF,GACF,GAII4P,GAAgB,IACnB7P,EAAAA,KAAA0P,EAAA,CAAI,GAAI,CACP,QAAS,OACT,gBAAiB,UACjB,aAAc,MACd,OAAQ,SACR,UAAW,6BAEX,SAAA,CAAA3P,MAAC4P,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,SAEtC,eAAA,EAEC3P,EAAAA,KAAA0P,EAAI,CAAA,GAAI,CAAE,QAAS,OAAQ,IAAK,OAAQ,SAAU,MAAO,EAExD,SAAA,CAAA1P,EAAA,KAAC8P,GAAY,CAAA,GAAI,CAAE,SAAU,KAC3B,SAAA,CAAC/P,EAAAA,IAAAgQ,IAAW,SAAS,YAAA,EACrBhQ,EAAA,IAACiQ,GAAA,CACC,MAAOhD,EACP,SAAUoC,GACV,MAAM,YAEL,cAAe,OACbrP,EAAAA,IAAAkQ,GAAA,CAAoB,MAAOC,EACzB,SAAAA,EAAK,OAAO,CAAC,EAAE,YAAgB,EAAAA,EAAK,MAAM,CAAC,GAD/BA,CAEf,CACD,CAAA,CACH,CAAA,EACF,SAGCR,EAAI,CAAA,GAAI,CAAE,MAAO,KAChB,SAAA,OAACC,EAAA,CAAW,aAAY,GAAC,SAEzB,kBAAA,EACA5P,EAAA,IAACoQ,GAAA,CACC,MAAOjD,EACP,SAAU+B,GACV,kBAAkB,OAClB,IAAK,EACL,IAAK,IACL,KAAM,GAAA,CACR,EACAjP,OAAC0P,GAAI,GAAI,CAAE,QAAS,OAAQ,eAAgB,eAAgB,EAC1D,SAAA,CAAC1P,EAAAA,KAAA2P,EAAA,CAAW,QAAQ,QAAQ,SAAA,CAAA,IAAEzC,EAAW,CAAC,CAAA,EAAE,EAC3ClN,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAA,IAAEzC,EAAW,CAAC,CAAA,EAAE,CAAA,EAC9C,CAAA,EACF,CAAA,EACF,GACF,EAIA,OAAClN,EAAA,KAAA,MAAI,CAAA,GAAG,YACN,SAAA,CAAAD,MAAC,MAAI,CAAA,UAAU,WACb,SAAAA,MAAC4B,IAAO,CAAA,EACV,EACC5B,MAAAQ,IAAQ,WAAAC,EAAwB,EAChCR,EAAAA,KAAA,UAAQ,CAAA,UAAU,qCACjB,SAAA,CAAAD,MAAC,KAAE,UAAU,qBAAqB,MAAO,CAAE,MAAO,KAAM,EACrD,SAAoB,oBAAA+M,CAAQ,cAActM,EAAW,MAAM,eAAeA,EAAW,QAAQ,SAChG,QACC,IAAA,CAAE,UAAU,qBAAqB,SAAe,kBAAA,QAChD,KAAA,CAAG,UAAU,kBAAkB,SAAyC,4CAAA,EAExEgN,GAAoBzN,EAAAA,IAAAyP,EAA0B,CAAA,YAAahC,EAAiB,QAG5EqC,GAAc,EAAA,EAGf7P,OAAC2P,GAAW,QAAQ,QAAQ,GAAI,CAAE,OAAQ,QAAS,EAAG,SAAA,CAAA,WAC3CvC,EAAc,OAAO,QAAMA,EAAc,SAAW,EAAI,IAAM,EAAA,EACzE,EAECrN,EAAAA,IAAA,MAAA,CAAI,UAAU,aACZ,SAAO,OAAA,KAAKgO,EAAgBX,CAAa,CAAC,EAAE,IAAKgB,GAAa,CAEvD,MAAAxK,EADcmK,EAAgBX,CAAa,EAAEgB,CAAQ,EAClC,CAAC,EAExB,OAAArO,EAAA,IAAC6P,GAAA,CAEC,KAAAhM,EACA,cAAe0L,GAAc1L,CAAI,CAAA,EAF5BA,EAAK,GAAA,CAKf,CAAA,EACH,EAECwJ,EAAc,SAAW,GACxBrN,EAAA,IAAC4P,EAAA,CACC,QAAQ,KACR,GAAI,CACF,UAAW,SACX,OAAQ,SACR,MAAO,MACT,EACD,SAAA,uCAAA,CAED,CAAA,EAEJ,QAiDC,MAAI,CAAA,UAAU,SACf,SAAA5P,MAACgM,IAAM,CAAA,EACT,GACA,CAEJ,CC7eA,MAAMqE,GAAW,IAAM,CACrB,KAAM,CAACC,EAAaC,CAAc,EAAIrV,WAAS,CAAC,EAC1C,CAACsV,EAAMC,CAAO,EAAIvV,WAAS,EAAK,EAChC+C,EAAWzD,KAIXkW,EAHW5D,KAGM,OAAS,GAC1BtP,EAAQkT,EAAM,MAAQ,GACtBC,EAAYD,EAAM,UAAY,GAC9BE,EAAaF,EAAM,YAAc,GAC/B,QAAA,IAAI,aAAcE,CAAU,EAC5B,QAAA,IAAI,YAAaD,CAAS,EAM5B,MAAAE,EAAkBC,EAAAA,QAAQ,IAAM,CAChC,GAAA,CACF,MAAMC,EAAW,IAAI,KAAKvT,EAAM,YAAY,EACtCwT,EAAU,IAAI,KAAKxT,EAAM,WAAW,EAGtC,GAAA,MAAMwT,EAAQ,QAAS,CAAA,GAAK,MAAMD,EAAS,QAAQ,CAAC,EACtD,eAAQ,MAAM,iBAAiB,EACxB,CAAE,iBAAkB,EAAG,UAAW,CAAE,EAI7C,MAAME,EAAmBF,EAAS,QAAQ,EAAIC,EAAQ,QAAQ,EACxDE,EAAmB,KAAK,KAAKD,GAAoB,IAAO,KAAO,GAAG,EAGlEE,EAAO,WAAWR,EAAU,IAAI,GAAK,EAEpC,MAAA,CACL,iBAAAO,EACA,UAAWC,EAAOD,CAAA,QAGbpS,EAAO,CACN,eAAA,MAAM,2BAA4BA,CAAK,EACxC,CAAE,iBAAkB,EAAG,UAAW,CAAE,CAC7C,CAAA,EACC,CAACtB,EAAM,YAAaA,EAAM,aAAcmT,EAAU,IAAI,CAAC,EAGpDS,EAAkBN,EAAAA,QAAQ,IAAM,CAChC,GAAA,CACM,QAAA,IAAI,iBAAkBH,CAAS,EACjC,KAAA,CAAE,cAAAU,EAAe,gBAAAC,CAAoB,EAAAX,EACrCY,EAAkB,SAAS/T,EAAM,MAAM,GAAK,EAC5CgU,EAAoB,SAAShU,EAAM,QAAQ,GAAK,EAGtD,IAAIiU,EAAgBC,EAGhBH,GAAmBF,GAAiBG,GAAqBF,GAC1CG,EAAA,EACEC,EAAA,IAGFD,EAAA,KAAK,KAAKF,EAAkBF,CAAa,EACvCK,EAAA,KAAK,KAAKF,EAAoBF,CAAe,GAIlE,MAAMK,GAAqB,KAAK,IAAIF,EAAgBC,CAAgB,EAG9DE,GAAYD,GAAqBd,EAAgB,UAEhD,MAAA,CACL,WAAYc,GACZ,UAAAC,GACA,UAAW,CACT,OAAQ,CACN,UAAWL,EACX,QAASF,EACT,YAAaI,EACb,eAAgBF,GAAmBF,CACrC,EACA,SAAU,CACR,UAAWG,EACX,QAASF,EACT,YAAaI,EACb,eAAgBF,GAAqBF,CACvC,CACF,CAAA,QAEKxS,EAAO,CACN,eAAA,MAAM,2BAA4BA,CAAK,EACxC,CACL,WAAY,EACZ,UAAW,EACX,UAAW,CACT,OAAQ,CAAE,UAAW,EAAG,QAAS,EAAG,YAAa,EAAG,eAAgB,EAAM,EAC1E,SAAU,CAAE,UAAW,EAAG,QAAS,EAAG,YAAa,EAAG,eAAgB,EAAM,CAC9E,CAAA,CAEJ,CACC,EAAA,CAACtB,EAAM,OAAQA,EAAM,SAAUmT,EAAU,cAAeA,EAAU,gBAAiBE,EAAgB,SAAS,CAAC,EAE1GgB,EAAa,IAAM,CACR,aAAa,QAAQ,QAAQ,EAI1C5T,EAAS,gBAAiB,CACxB,MAAO,CACL,KAAMT,EACN,SAAUmT,EACV,UAAWS,EAAgB,UAC3B,UAAWP,EAAgB,iBAC3B,cAAeO,EAAgB,UACjC,CAAA,CACD,EAVDnT,EAAS,SAAS,CAWpB,EAGI6T,EAAShB,EAAAA,QAAQ,KACbH,EAAU,QAAU,CAAI,GAAA,IAAcoB,IAAA,CAC5C,IAAK,iCAAuCA,CAAK,EACjD,EAAA,EACD,CAACpB,EAAU,MAAM,CAAC,EAEfqB,EAAc5K,GAAM,CACxBmJ,EAAenJ,CAAC,EAChBqJ,EAAQ,EAAI,CAAA,EAGRwB,EAAcC,GAAc,CAChC,MAAMC,EAAcL,EAAO,OACvB,IAAAM,EAEAF,IAAc,IAChBE,EAAiB9B,IAAgB,EAAI6B,EAAc,EAAI7B,EAAc,EAErE8B,EAAiB9B,IAAgB6B,EAAc,EAAI,EAAI7B,EAAc,EAGvEC,EAAe6B,CAAc,CAAA,gBAI5B,MACC,CAAA,SAAA,CAAApS,MAAC,MAAI,CAAA,UAAU,WACb,SAAAA,MAAC4B,IAAO,CAAA,EACV,EACC3B,EAAAA,KAAA,MAAI,CAAA,UAAU,iBACZ,SAAA,CACCuQ,GAACvQ,EAAA,KAAA,MAAI,CAAA,UAAU,SACb,SAAA,CAAAD,EAAA,IAACqS,GAAA,CACC,UAAU,QACV,QAAS,IAAM5B,EAAQ,EAAK,EAC5B,MAAO,CAAE,OAAQ,SAAU,CAAA,CAC7B,EACAzQ,EAAA,IAACsS,GAAA,CACC,KAAMC,GACN,UAAU,QACV,QAAS,IAAMN,EAAW,GAAG,CAAA,CAC/B,EACCjS,EAAA,IAAA,MAAA,CAAI,UAAU,gBACb,eAAC,MAAI,CAAA,IAAK8R,EAAOxB,CAAW,EAAE,IAAK,IAAI,GAAG,UAAU,WAAY,CAAA,EAClE,EACAtQ,EAAA,IAACsS,GAAA,CACC,KAAME,GACN,UAAU,QACV,QAAS,IAAMP,EAAW,GAAG,CAAA,CAC/B,CAAA,EACF,EAGDhS,EAAAA,KAAA,MAAI,CAAA,UAAU,eACb,SAAA,QAAC,SAAO,CAAA,UAAU,UAAU,QAAS4R,EAAY,SAAA,CAAA,yBACxBT,EAAgB,UAAU,eAAe,EAAE,IAChEP,EAAgB,iBAAiB,YAAUO,EAAgB,WAAW,IAAEA,EAAgB,WAAa,EAAI,QAAU,OAAO,GAAA,EAC9H,EAECpR,EAAA,IAAA,KAAA,CAAG,UAAU,aAAc,WAAU,SAAS,EAC9CC,EAAAA,KAAA,MAAI,CAAA,UAAU,eACb,SAAA,CAACD,EAAAA,IAAAsS,GAAA,CAAgB,KAAMG,GAAe,EACrCzS,EAAAA,IAAA,QAAK,SAAK,QAAA,CAAA,EACb,QAEC,MAAA,CAAI,UAAU,cACZ,SAAO8R,EAAA,IAAI,CAACC,EAAO3K,IACjBpH,EAAAA,IAAA,MAAI,CAAA,UAAU,kBACb,SAAAA,EAAA,IAAC,MAAA,CACC,QAAS,IAAMgS,EAAW5K,CAAC,EAC3B,IAAK2K,EAAM,IACX,IAAI,GACJ,UAAU,UAAA,CAAA,GALwB3K,CAOtC,CACD,EACH,EAEAnH,OAAC,OAAI,UAAU,eAAe,MAAO,CAAE,aAAc,OAAQ,EAC3D,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,oBAwCb,SAAA,OAAC,KAAA,CAAG,UAAU,aAAa,SAAyB,4BAAA,EACnDD,EAAA,IAAA,IAAA,CAAE,UAAU,YAAa,WAAU,YAAY,EAG/CC,EAAAA,KAAA,MAAI,CAAA,UAAU,oBACb,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAiB,oBAAA,EACrBA,MAAC,OAAI,UAAU,iBACZ,WAAU,WAAa,OAAO2Q,EAAU,WAAc,SACrDA,EAAU,UAAU,MAAM,GAAG,EAAE,IAAI,CAAC+B,EAAS3L,IAC3C2L,EAAQ,KAAK,GACVzS,EAAAA,KAAA,MAAgB,CAAA,UAAU,eACzB,SAAA,OAAC,OAAA,CAAK,UAAU,eAAe,SAAC,IAAA,QAC/B,OAAK,CAAA,UAAU,eAAgB,SAAAyS,EAAQ,KAAK,EAAE,CAAA,GAFvC3L,CAGV,CAEH,EAEA/G,EAAAA,IAAA,MAAI,CAAA,UAAU,eACb,eAAC,OAAK,CAAA,UAAU,eAAe,SAAA,qBAAmB,CAAA,CACpD,CAAA,EAEJ,CAAA,EACF,CAAA,EAEF,EAECC,EAAAA,KAAA,MAAI,CAAA,UAAU,oBACb,SAAA,CAAAA,OAAC,KAAG,CAAA,SAAA,CAAA,iBAAe4Q,EAAgB,iBAAiB,cAAA,EAAY,EAC/D7Q,EAAAA,IAAA,QAAK,SAGN,4FAAA,SACC,KACC,CAAA,SAAA,CAAAC,OAAC,IAAE,CAAA,SAAA,CAAA,IAAEmR,EAAgB,UAAU,eAAe,CAAA,EAAE,EAAI,IAClDP,EAAgB,iBAAiB,YAAUO,EAAgB,WAAW,IAAEA,EAAgB,WAAa,EAAI,QAAU,OAAO,GAAA,EAC9H,QACC,SAAA,CAAO,QAASS,EAAY,SAAoB,uBAAA,CAAA,EACnD,CAAA,EACF,CAAA,EACF,CAAA,EACF,QACC,MAED,EAAA,QACC,MAAI,CAAA,UAAU,SACf,SAAA7R,MAACgM,IAAM,CAAA,EACT,GACA,CAEJ,EC/SM2G,GAAa,IAEf1S,EAAA,KAAC,MAAI,CAAA,UAAU,aACb,SAAA,CAAAD,EAAA,IAAC,MAAA,CACC,IAAI,+IACJ,IAAI,GACJ,UAAU,OAAA,CACZ,EACAC,EAAAA,KAAC,MAAI,CAAA,UAAU,SACb,SAAA,CAACD,EAAA,IAAA,KAAA,CAAG,UAAU,UAAU,SAAuB,0BAAA,EAC9CA,EAAA,IAAA,OAAA,CAAK,UAAU,aAAa,SAAgB,mBAAA,EAC5CA,EAAA,IAAA,OAAA,CAAK,UAAU,WAAW,SAAiB,oBAAA,EAC3CA,EAAA,IAAA,OAAA,CAAK,UAAU,aAAa,SAE7B,yCAAA,EACCA,EAAA,IAAA,OAAA,CAAK,UAAU,aAAa,SAE7B,+CAAA,EACCA,EAAA,IAAA,OAAA,CAAK,UAAU,aAAa,SAAkB,qBAAA,EAC9CA,EAAA,IAAA,OAAA,CAAK,UAAU,qBAAqB,SAErC,2DAAA,CAAA,EACF,EACAC,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,WACb,SAAA,CAAAD,EAAAA,IAAC,QAAK,SAAS,WAAA,CAAA,EACfA,EAAAA,IAAC,UAAO,SAAG,KAAA,CAAA,CAAA,EACb,EACAC,EAAAA,KAAC,MAAI,CAAA,UAAU,gBACb,SAAA,CAACD,EAAA,IAAA,OAAA,CAAK,UAAU,UAAU,SAAI,OAAA,EAC7BA,EAAA,IAAA,OAAA,CAAK,UAAU,UAAU,SAAuB,0BAAA,EAChDA,EAAA,IAAA,SAAA,CAAO,UAAU,gBAAgB,SAAgB,mBAAA,CAAA,EACpD,CAAA,EACF,CACF,CAAA,CAAA,EC3BE4S,GAAO,IAAM,CACjB,MAAMC,EAAW/F,KAEX,CAAE,YAAAgG,EAAc,SAAU,KAAA1S,EAAO,CAAC,CAAE,UAAe,IAAA,KAAQ,YAAa,IAAQ,CAAA,EAAG,QAAA0E,EAAU,CAAG,CAAA,EAAI+N,EAAS,OAAS,GAEtH,CAACE,EAAmBC,CAAoB,EAAI9X,WAAS4X,CAAW,EAChE,CAACG,EAAYC,CAAa,EAAIhY,WAASkF,CAAI,EAC3C,CAAC+S,EAAUC,CAAW,EAAIlY,WAAS,EAAK,EACxC,CAACmY,EAAeC,CAAgB,EAAIpY,WAAS4J,CAAO,EAGxD,OAAA9E,EAAAA,IAAC,OAGC,SAACA,EAAA,IAAA,MAAA,CAAI,UAAU,gBACb,SAAAC,EAAAA,KAAC,MAAI,CAAA,UAAU,cACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,aACb,SAAA,CAACD,EAAA,IAAA,KAAA,CAAG,UAAU,UAAU,SAAM,SAAA,EAC9BC,EAAAA,KAAC,MAAI,CAAA,UAAU,SACb,SAAA,CAACD,EAAA,IAAA,QAAA,CAAM,QAAQ,cAAc,SAAW,cAAA,EACxCA,EAAA,IAAC,QAAA,CACC,GAAG,cACH,YAAa+S,EACb,KAAK,OACL,SAAWhW,GAAMiW,EAAqBjW,EAAE,OAAO,KAAK,CAAA,CACtD,CAAA,EACF,EACAkD,EAAAA,KAAC,MAAI,CAAA,UAAU,SACb,SAAA,CAACD,EAAA,IAAA,QAAA,CAAM,QAAQ,OAAO,SAAa,gBAAA,EACnCA,EAAAA,IAAC,OAAK,CAAA,QAAS,IAAMoT,EAAY,CAACD,CAAQ,EACvC,SAAG,GAAAI,GAAON,EAAW,CAAC,EAAE,UAAW,YAAY,CAAC,OAAOM,GAAON,EAAW,CAAC,EAAE,QAAS,YAAY,CAAC,EACrG,CAAA,EACCE,GACCnT,EAAA,IAACwT,GAAA,UAAA,CACC,SAAWzP,GAASmP,EAAc,CAACnP,EAAK,SAAS,CAAC,EAClD,YAAa,KACb,OAAQkP,CAAA,CACV,CAAA,EAEJ,EACAhT,EAAAA,KAAC,MAAI,CAAA,UAAU,SACb,SAAA,CAACD,EAAA,IAAA,QAAA,CAAM,QAAQ,UAAU,SAAO,UAAA,EAChCC,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,eACb,SAAA,CAACA,EAAAA,KAAA,OAAA,CAAK,UAAU,eAAe,SAAA,CAAA,aACnBD,EAAAA,IAAC,SAAM,SAAS,WAAA,CAAA,CAAA,EAC5B,EACAA,EAAA,IAAC,QAAA,CACC,KAAK,SACL,UAAU,gBACV,YAAY,WAAA,CACd,CAAA,EACF,EACAC,EAAAA,KAAC,MAAI,CAAA,UAAU,eACb,SAAA,CAACA,EAAAA,KAAA,OAAA,CAAK,UAAU,eAAe,SAAA,CAAA,aACnBD,EAAAA,IAAC,SAAM,SAAS,WAAA,CAAA,CAAA,EAC5B,EACAA,EAAA,IAAC,QAAA,CACC,KAAK,SACL,UAAU,gBACV,YAAY,WAAA,CACd,CAAA,EACF,EACAC,EAAAA,KAAC,MAAI,CAAA,UAAU,eACb,SAAA,CAACD,EAAA,IAAA,OAAA,CAAK,UAAU,eAAe,SAAK,QAAA,EACpCA,EAAA,IAAC,QAAA,CACC,KAAK,SACL,IAAK,EACL,UAAU,gBACV,YAAaqT,EAAc,OAAS,GAAA,CACtC,CAAA,EACF,EACApT,EAAAA,KAAC,MAAI,CAAA,UAAU,eACb,SAAA,CAACD,EAAA,IAAA,OAAA,CAAK,UAAU,eAAe,SAAQ,WAAA,EACvCA,EAAA,IAAC,QAAA,CACC,KAAK,SACL,IAAK,EACL,UAAU,gBACV,YAAaqT,EAAc,UAAY,GAAA,CACzC,CAAA,EACF,EACApT,EAAAA,KAAC,MAAI,CAAA,UAAU,eACb,SAAA,CAACD,EAAA,IAAA,OAAA,CAAK,UAAU,eAAe,SAAI,OAAA,EACnCA,EAAA,IAAC,QAAA,CACC,KAAK,SACL,IAAK,EACL,UAAU,gBACV,YAAaqT,EAAc,MAAQ,GAAA,CACrC,CAAA,EACF,CAAA,EACF,CAAA,EACF,EACArT,EAAAA,IAAC,UAAO,SAAM,QAAA,CAAA,CAAA,EAChB,QACC,MAAI,CAAA,UAAU,aACZ,SAAC,CAAA,GAAG,MAAM,CAAC,EAAE,MAAM,EAAE,IAAKoH,SACxBuL,GAAgB,CAAA,EAAAvL,CAAG,CACrB,EACH,CAAA,EACF,EACF,CACF,CAAA,CAEJ,EC5GMqM,GAAU,IAAM,CACpB,MAAMlZ,EAAUC,KAEhBC,EAAAA,UAAU,IAAM,CACH,aAAa,QAAQ,QAAQ,IAGtCF,EAAQ,GAAG,EAEX0C,EAAK,KAAK,uCAAuC,EACnD,EAEC,CAAC1C,CAAO,CAAC,CACd,ECVA,SAASmZ,IAAa,CACZD,KACR,MAAMlZ,EAAUC,KACV,CAACmZ,EAAUC,CAAW,EAAI1Y,EAAA,SAAS,CAAE,CAAA,EACrC,CAAC2Y,EAAcC,CAAe,EAAI5Y,WAAS,CAAC,EAC5C,CAAC6Y,EAASC,CAAU,EAAI9Y,WAAS,EAAI,EACrC,CAAC4D,EAAOkH,CAAQ,EAAI9K,WAAS,IAAI,EACjC,CAAC+Y,EAAaC,CAAc,EAAIhZ,WAAS,EAAE,EAC3C,CAACiZ,EAAkBC,CAAmB,EAAIlZ,EAAA,SAAS,CAAE,CAAA,EAW3DT,EAAAA,UAAU,IAAM,EACQ,SAAY,CAC5B,GAAA,CACI,MAAAkS,EAAS,aAAa,QAAQ,QAAQ,EAC5C,GAAI,CAACA,EAAQ,CACX3G,EAAS,eAAe,EACxBgO,EAAW,EAAK,EAChB,MACF,CAEM,MAAAlU,EAAW,MAAM/E,GAAM,IAAI,0CAAgD4R,CAAM,EAAE,EACrF7M,EAAS,SAAW,KACtB8T,EAAY9T,EAAS,IAAI,EACzBsU,EAAoBtU,EAAS,IAAI,GAEjCkG,EAAS,0BAA0B,OAEzB,CACZA,EAAS,2CAA2C,CAAA,QACpD,CACAgO,EAAW,EAAK,CAClB,CAAA,IAIJ,EAAG,CAAE,CAAA,EAELvZ,EAAAA,UAAU,IAAM,EACS,IAAM,CAC3B,IAAI6U,EAAWqE,EAEXM,IACS3E,EAAAqE,EAAS,OAAkBU,GAAA,CACpC,MAAMC,EAAc,IAAI,KAAKD,EAAQ,QAAQ,EAAE,mBAAmB,OAAO,EACnEE,EAAe,IAAI,KAAKF,EAAQ,SAAS,EAAE,mBAAmB,OAAO,EACrEG,EAAcP,EAAY,cAEhC,OACEK,EAAY,SAASE,CAAW,GAChCD,EAAa,SAASC,CAAW,GACjCH,EAAQ,OAAO,YAAY,EAAE,SAASG,CAAW,GACjDH,EAAQ,IAAI,YAAA,EAAc,SAASG,CAAW,GAC9CH,EAAQ,QAAQ,SAAS,YAAA,EAAc,SAASG,CAAW,CAAA,CAE9D,GAGHJ,EAAoB9E,CAAQ,CAAA,IAGf,EACd,CAAC2E,EAAaN,CAAQ,CAAC,EAEpB,MAAAlS,EAAgB1E,GAAM,CACXmX,EAAAnX,EAAE,OAAO,KAAK,CAAA,EAGzB0X,EAAsBJ,GAAY,CAE9B9Z,EAAA,oBAAoB8Z,EAAQ,GAAG,EAAE,CAAA,EAG3C,OAAIN,EACM/T,EAAA,IAAA,OAAI,SAAU,YAAA,CAAA,EAGpBlB,EACMkB,EAAA,IAAA,OAAK,SAAMlB,CAAA,CAAA,SAIlB,MACC,CAAA,SAAA,CAAAkB,MAAC,MAAI,CAAA,UAAU,gBACb,SAAAA,MAAC4B,IAAO,CAAA,EACV,EAEC3B,EAAAA,KAAA,MAAI,CAAA,UAAU,qBACb,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAW,cAAA,QACd,KAAG,EAAA,EAEHA,EAAAA,IAAA,MAAI,CAAA,UAAU,aACb,SAAAA,EAAA,IAAC,QAAA,CACC,KAAK,OACL,YAAY,wDACZ,MAAOiU,EACP,SAAUxS,CAAA,CAAA,EAEd,EAEC0S,EAAiB,SAAW,EAC1BnU,EAAA,IAAA,IAAA,CAAE,6BAAkB,CAAA,QAEpB,KAAG,CAAA,UAAU,gBACX,SAAiBmU,EAAA,MAAM,EAAGN,CAAY,EAAE,IAAKQ,GAC3CrU,OAAAA,OAAAA,EAAAA,IAAA,KAAA,CAAqB,QAAS,IAAMyU,EAAmBJ,CAAO,EAC7D,gBAAC,MAAI,CAAA,UAAWJ,EAAc,mBAAqB,eAAgB,MAAO,CAAE,QAAS,OAAQ,WAAY,QAAS,EACjH,SAAA,CAAQI,EAAA,SAAWA,EAAQ,QAAQ,QAAUA,EAAQ,QAAQ,OAAO,OAAS,GACpFrU,EAAA,IAAC,MAAA,CACC,IAAK,iCAAuCqU,EAAQ,QAAQ,OAAO,CAAC,CAAC,GACrE,IAAI,iBACJ,MAAO,CAAE,MAAO,QAAS,OAAQ,QAAS,UAAW,QAAS,YAAa,MAAO,CAAA,CACpF,SAED,MACS,CAAA,SAAA,CAAApU,OAAC,IAAE,CAAA,SAAA,CAACD,EAAAA,IAAA,UAAO,SAAU,aAAA,EAAS,IAAEqU,EAAQ,GAAA,EAAI,SAC3C,IAAE,CAAA,SAAA,CAACrU,EAAAA,IAAA,UAAO,SAAK,QAAA,EAAS,MAAEtB,EAAA2V,EAAQ,UAAR,YAAA3V,EAAiB,WAAY,KAAA,EAAM,SAC7D,IAAE,CAAA,SAAA,CAACsB,EAAAA,IAAA,UAAO,SAAc,iBAAA,EAAS,IAAE,IAAI,KAAKqU,EAAQ,QAAQ,EAAE,mBAAmB,OAAO,CAAA,EAAE,SAC1F,IAAE,CAAA,SAAA,CAACrU,EAAAA,IAAA,UAAO,SAAe,kBAAA,EAAS,IAAE,IAAI,KAAKqU,EAAQ,SAAS,EAAE,mBAAmB,OAAO,CAAA,EAAE,SAC5F,IAAE,CAAA,SAAA,CAACrU,EAAAA,IAAA,UAAO,SAAO,UAAA,EAAS,IAAEqU,EAAQ,MAAA,EAAO,CAAA,EAC5C,CAAA,CAAA,CACF,CAhBO,EAAAA,EAAQ,GAiBjB,EACD,EACH,EAGDpU,EAAAA,KAAA,MAAI,CAAA,UAAU,oBACZ,SAAA,CAAA4T,EAAeM,EAAiB,QAC9BnU,EAAA,IAAA,SAAA,CAAO,UAAU,kBAAkB,QAAS,IAAM8T,EAAgBD,EAAe,CAAC,EAAG,SAEtF,WAAA,EAGDA,EAAe,GACb7T,EAAAA,IAAA,SAAO,CAAA,UAAU,kBAAkB,QAAS,IAAM8T,EAAgB,CAAC,EAAG,SAEvE,YAAA,CAAA,EAEJ,CAAA,EACF,GACF,CAEJ,CC5JA,IAAIY,GAAS,KAEN,MAAMC,GAAgB,UACtBD,KACHA,GAAS,MAAME,GAAAA,eACf,MAAMF,GAAO,aAAa,KAAK,EAC/B,MAAMA,GAAO,WAAW,KAAK,GAExBA,IAGIG,GAAkB,SAAY,CACrCH,KACF,MAAMA,GAAO,YACbA,GAAS,KAEb,EChBaI,GAAiB,MAAOC,EAAMC,EAAcC,IAAmB,CAC1E,IAAIP,EAAS,KACb,GAAI,CAEFA,EAAS,MAAMC,KAGf,MAAMO,EAAY,MAAMC,GAAYJ,CAAI,EAGlC,CAAE,KAAM,CAAE,KAAA5Q,CAAM,CAAA,EAAK,MAAMuQ,EAAO,UAAUQ,CAAS,EAK3D,OAFeE,GAAiBjR,EAAM6Q,EAAcC,CAAc,CAGnE,OAAQnW,EAAO,CACd,eAAQ,MAAM,aAAcA,CAAK,EAC1B,CACL,QAAS,GACT,MAAO,8DACb,CACA,QAAY,CAEJ4V,GACF,MAAMG,GAAe,CAExB,CACH,EAGMM,GAAc,MAAOJ,GAClB,IAAI,QAAQ,CAAC3V,EAASiW,IAAW,CACtC,MAAMC,EAAS,IAAI,WACnBA,EAAO,OAAUnG,GAAU,CACzB,MAAMlH,EAAQ,IAAI,MAClBA,EAAM,OAAS,IAAM7I,EAAQ6I,CAAK,EAClCA,EAAM,QAAUoN,EAChBpN,EAAM,IAAMkH,EAAM,OAAO,MAC/B,EACImG,EAAO,QAAUD,EACjBC,EAAO,cAAcP,CAAI,CAC7B,CAAG,EAIGK,GAAmB,CAACjR,EAAM6Q,EAAcC,IAAmB,CAC/D,MAAMM,EAAYpR,EAAK,YAAW,EAAG,QAAQ,MAAO,EAAE,EAEtD,OAAQ6Q,EAAY,CAClB,IAAK,SACH,OAAOQ,GAAeD,EAAWN,CAAc,EACjD,IAAK,WACH,OAAOQ,GAAiBF,EAAWN,CAAc,EACnD,IAAK,iBACH,OAAOS,GAAuBH,EAAWN,CAAc,EACzD,IAAK,UACH,OAAOU,GAAgBJ,EAAWN,CAAc,EAClD,QACE,MAAO,CACL,QAAS,GACT,MAAO,2BACf,CACG,CACH,EAGMO,GAAiB,CAACrR,EAAMyR,IAAW,CACvC,MAAMC,EAAc,SACdC,EAAY3R,EAAK,SAASyR,CAAM,EAChCG,EAAiBF,EAAY,KAAKD,CAAM,EAE9C,MAAO,CACL,QAASE,GAAaC,EACtB,MAAQD,EACAC,EAAkD,KAAjC,+BADL,qCAExB,CACA,EAEMN,GAAmB,CAACtR,EAAMyR,IAAW,CACzC,MAAMI,EAAgB,mBAChBF,EAAY3R,EAAK,SAASyR,EAAO,YAAa,CAAA,EAC9CG,EAAiBC,EAAc,KAAKJ,CAAM,EAEhD,MAAO,CACL,QAASE,GAAaC,EACtB,MAAQD,EACAC,EAAoD,KAAnC,iCADL,uCAExB,CACA,EAEMJ,GAAkB,CAACxR,EAAMyR,IAAW,CACxC,MAAMK,EAAW,2BACXH,EAAY3R,EAAK,SAASyR,EAAO,YAAa,CAAA,EAC9CG,EAAiBE,EAAS,KAAKL,CAAM,EAE3C,MAAO,CACL,QAASE,GAAaC,EACtB,MAAQD,EACAC,EAA+C,KAA9B,4BADL,kCAExB,CACA,EAEML,GAAyB,CAACvR,EAAMyR,IAAW,CAC/C,MAAMM,EAAU,2EACVJ,EAAY3R,EAAK,SAASyR,EAAO,YAAa,CAAA,EAC9CG,EAAiBG,EAAQ,KAAKN,CAAM,EAE1C,MAAO,CACL,QAASE,GAAaC,EACtB,MAAQD,EACAC,EAA2D,KAA1C,wCADL,8CAExB,CACA,ECpFMI,GAAkB,CACpB,CAAE,MAAO,SAAU,MAAO,QAAS,EACnC,CAAE,MAAO,kBAAmB,MAAO,gBAAiB,EACpD,CAAE,MAAO,WAAY,MAAO,UAAW,CAC3C,EAEMC,GAAmB,IAAM,CAC3B,MAAMnY,EAAWzD,KAEXkW,EADW5D,KACM,OAAS,GAC1BtP,EAAQkT,EAAM,MAAQ,GACtB2F,EAAc7Y,EAAM,QAAU,EAC9B8Y,EAAgB9Y,EAAM,UAAW,EACjCmT,EAAYD,EAAM,UAAY,GAC9B6F,EAAY7F,EAAM,WAAa,GAC7B,QAAA,IAAI,YAAY6F,CAAS,EAC3B,MAAAC,EAAW9F,EAAM,WAAa,GAC5B,QAAA,IAAI,WAAW8F,CAAQ,EAE/B,KAAM,CAACC,EAASC,CAAU,EAAIxb,WAAS,IAAI,EACrCyb,MAAY,KACZC,EAAe,IAAI,KAAKD,EAAM,YAAYA,EAAM,YAAY,EAAI,EAAE,CAAC,EAAE,YAAY,EAAE,MAAM,GAAG,EAAE,CAAC,EAC/FE,MAAa,KACbC,EAAY,IAAI,KAAKD,CAAM,EACjCC,EAAU,QAAQD,EAAO,QAAQ,EAAI,CAAC,EAEhC,MAAAE,EAAQ,IAAI,KAAKD,CAAS,EAChCC,EAAM,YAAYD,EAAU,YAAY,EAAI,CAAC,EAGjD,MAAME,EAAUF,EAAU,YAAA,EAAc,MAAM,GAAG,EAAE,CAAC,EAC9CG,EAAUF,EAAM,YAAA,EAAc,MAAM,GAAG,EAAE,CAAC,EAGtC,CAACG,EAAQC,CAAS,EAAIjc,EAAA,SAAS,MAAM,KAAK,CAAE,OAAQmb,CAAY,EAAG,KAAO,CAC5E,IAAI,GACJ,KAAM,GACN,MAAO,GACP,MAAO,GACP,QAAS,GACT,IAAK,GACL,UAAW,GACX,YAAa,GACb,cAAe,KACf,OAAQ,CAAC,EACT,YAAa,IACf,CAAC,EAEG,CAACe,EAAUC,CAAW,EAAInc,EAAA,SAAS,MAAM,KAAK,CAAE,OAAQob,CAAc,EAAG,KAAO,CAClF,IAAI,GACJ,KAAM,GACN,MAAO,GACP,MAAO,GACP,QAAS,GACT,IAAK,GACL,UAAW,GACX,YAAa,GACb,cAAe,KACf,YAAa,GACb,OAAQ,CAAC,GACX,CAAC,EAEGgB,GAAY,gBACZC,GAAa,6BAEbC,GAAW,sBACXC,GAAmB,iBAEnB,CAACC,GAAeC,EAAgB,EAAIzc,WAAS,IAAI,EACjD,CAAC0c,EAAkBC,EAAmB,EAAI3c,EAAA,SAAS,CAAE,CAAA,EACrD,CAAC4c,GAAiBC,CAAkB,EAAI7c,EAAS,SAAA,CAAE,OAAQ,GAAI,SAAU,CAAC,CAAA,CAAG,EAC7E8c,EAAQ,aAAa,QAAQ,QAAQ,EACrC,CAACC,EAAeC,CAAgB,EAAIhd,EAAA,SAAS,CAAE,CAAA,EAC/C,CAACid,EAAaC,CAAc,EAAIld,WAAS,EAAK,EAC9C,CAACmd,EAAoBC,CAAqB,EAAIpd,EAAA,SAAS,CAAE,CAAA,EAE/DT,EAAAA,UAAU,IAAM,EAEe,SAAY,CAC/B,GAAA,CACM,MAAAqF,EAAW,MAAM/E,GAAM,IAAI,mDAAyDid,CAAM,EAAE,EAC1F,QAAA,IAAIlY,EAAS,IAAI,EACRoY,EAAApY,EAAS,MAAQ,CAAA,CAAE,QAC/BhB,EAAO,CACJ,QAAA,MAAM,kCAAmCA,CAAK,EACtDoZ,EAAiB,CAAE,CAAA,CACvB,CAAA,IAIR,EAAG,CAAE,CAAA,EAGC,MAAAK,EAAgB,CAACxa,EAAMC,IAAU,CACnC,OAAQD,EAAM,CACV,IAAK,OACD,OAAOuZ,GAAU,KAAKtZ,CAAK,EAAI,GAAK,qCACxC,IAAK,QACD,OAAOuZ,GAAW,KAAKvZ,CAAK,EAAI,GAAK,uBACrC,IAAK,QAgBD,OAfuBwa,GAAU,CAC7B,MAAMC,GAAQ,cACRC,GAAc,cAAc,KAAKF,CAAK,EAE5C,OAAKC,GAAM,KAAKD,CAAK,EAIjBE,GACO,mDAGJ,GAPI,yCAOJ,GAGU1a,CAAK,EAElC,IAAK,MACD,MAAM2a,EAAW3a,EAAM,MAAM,GAAG,EAAE,CAAC,EACnC,OAAOwZ,GAAS,KAAKmB,CAAQ,EAAI,GAAK,qCAC1C,IAAK,cACD,OAAOlB,GAAiB,KAAKzZ,CAAK,EAAI,GAAK,8BAC/C,QACW,MAAA,EACf,CAAA,EAIE4a,EAAe,IAAM,CACvB,IAAIC,EAAU,GACR,MAAAC,EAAY,CAAC,GAAG5B,CAAM,EACR,OAAC,GAAGE,CAAQ,EAGtB0B,EAAA,QAAQ,CAACC,GAAOhS,IAAU,CAE3BgS,GAAM,KACH,CAACV,EAAmB,SAAStR,CAAK,EAAE,GAAKgS,GAAM,WAAaA,GAAM,cACxDF,EAAA,IAGlB,MAAMG,EAAS,CAAA,EACVD,GAAM,OAAMC,EAAO,KAAO,oBAC1BD,GAAM,QAAOC,EAAO,MAAQ,qBAC5BD,GAAM,QAAOC,EAAO,MAAQ,qBAC5BD,GAAM,MAAKC,EAAO,IAAM,6BACxBD,GAAM,YAAWC,EAAO,UAAY,0BACpCD,GAAM,cAAaC,EAAO,YAAc,4BAEnCF,EAAA/R,CAAK,EAAE,OAASiS,EACtB,OAAO,KAAKA,CAAM,EAAE,OAAS,IAAaH,EAAA,GAAA,CACjD,EAED1B,EAAU2B,CAAS,EACZD,CAAA,EAGLI,EAA0B,CAAClS,EAAOmS,EAAW/I,KAAS,CACpDA,KAAS,QACTgH,EAAwBgC,GAAA,CACd,MAAAC,EAAgB,CAAC,GAAGD,CAAU,EACtB,OAAAC,EAAArS,CAAK,EAAI,CAAE,GAAGqS,EAAcrS,CAAK,EAAG,YAAamS,GACxDE,CAAA,CACV,EACMjJ,KAAS,SAChBkH,EAA4BgC,GAAA,CAClB,MAAAC,EAAkB,CAAC,GAAGD,CAAY,EACxB,OAAAC,EAAAvS,CAAK,EAAI,CAAE,GAAGuS,EAAgBvS,CAAK,EAAG,YAAamS,GAC5DI,CAAA,CACV,CACL,EAGExb,EAAe,CAACf,EAAGgK,EAAOoJ,KAAS,CACrC,KAAM,CAAE,KAAApS,EAAM,MAAAC,GAAUjB,EAAE,OACpB+B,GAAQyZ,EAAcxa,EAAMC,CAAK,EAEvC,GAAImS,KAAS,QAAS,CACZ,MAAA2I,GAAY,CAAC,GAAG5B,CAAM,EAC5B4B,GAAU/R,CAAK,EAAI,CACf,GAAG+R,GAAU/R,CAAK,EAClB,CAAChJ,CAAI,EAAGC,EACR,OAAQ,CACJ,GAAG8a,GAAU/R,CAAK,EAAE,OACpB,CAAChJ,CAAI,EAAGe,EACZ,CAAA,EAEJqY,EAAU2B,EAAS,EAGnBf,EAA4BxR,KAAA,CACxB,GAAGA,GACH,OAAQuS,GAAU,IAAcC,KAAA,CAC5B,GAAGA,GACH,OAAQ,MAAA,EACV,CACJ,EAAA,CAAA,KACC,CACG,MAAAQ,GAAc,CAAC,GAAGnC,CAAQ,EAChCmC,GAAYxS,CAAK,EAAI,CACjB,GAAGwS,GAAYxS,CAAK,EACpB,CAAChJ,CAAI,EAAGC,EACR,OAAQ,CACJ,GAAGub,GAAYxS,CAAK,EAAE,OACtB,CAAChJ,CAAI,EAAGe,EACZ,CAAA,EAEJuY,EAAYkC,EAAW,EAGvBxB,EAA4BxR,KAAA,CACxB,GAAGA,GACH,SAAUgT,GAAY,IAAcC,KAAA,CAChC,GAAGA,GACH,OAAQ,MAAA,EACV,CAEJ,EAAA,CACN,CAAA,EAIEC,EAAoB1c,GAAM,CAE5B,GADAA,EAAE,eAAe,EACb6b,IAAgB,CAChB,MAAMc,EAAY,CACd,iBAAA9B,EACA,gBAAiB,CACb,OAAQV,EAAO,OAAO6B,IAAS,CAACnB,EAAiB,SAASmB,GAAM,GAAG,CAAC,EACpE,SAAU3B,EAAS,OAAOoC,IAAS,CAAC5B,EAAiB,SAAS4B,GAAM,GAAG,CAAC,CAC5E,CAAA,EAEJvb,EAAS,eAAgB,CACrB,MAAO,CACH,GAAGyS,EACH,UAAAgJ,EACA,OAAAxC,EACA,SAAAE,EACA,SAAAZ,EACA,iBAAAoB,EACA,UAAArB,CACJ,CAAA,CACH,CAAA,MAGwBW,EAAO,OAAO,CAACyC,GAAG5S,IACvC,CAACsR,EAAmB,SAAStR,CAAK,EAAE,GAAKmQ,EAAOnQ,CAAK,EAAE,WAAamQ,EAAOnQ,CAAK,EAAE,WAAA,EAGjE,OAAS,EAC1B9J,EAAK,KAAK,CACN,KAAM,QACN,MAAO,iCACP,KAAM,0DACN,kBAAmB,IAAA,CACtB,EAEDA,EAAK,KAAK,CACN,KAAM,QACN,MAAO,mBACP,KAAM,sDACN,kBAAmB,IAAA,CACtB,CAET,EAIE2c,EAAmB,MAAO7c,EAAGgK,EAAOoJ,KAAS,CAE/C,MAAM0J,EAAQ1J,KAAS,QAAU+G,EAAOnQ,CAAK,EAAIqQ,EAASrQ,CAAK,EAC/D,GAAI8S,EAAM,IAAK,CAEXvB,EAA+B/R,IAAA,CAC3B,GAAGA,EACH,CAAC,GAAG4J,EAAI,IAAIpJ,CAAK,EAAE,EAAG,EACxB,EAAA,EACF,MACJ,CAEI,GAAA,CACAqR,EAAe,EAAI,EACnB,MAAMrD,EAAOhY,EAAE,OAAO,MAAM,CAAC,EAC7B,GAAI,CAACgY,EAAM,OAGL,MAAA+E,GAAiB,IAAI,gBAAgB/E,CAAI,EAC/C2B,EAAWoD,EAAc,EAGzB,MAAMC,GAAqB,MAAMjF,GAC7BC,EACA8E,EAAM,UACNA,EAAM,WAAA,EAGVvB,EAA+B/R,KAAA,CAC3B,GAAGA,GACH,CAAC,GAAG4J,EAAI,IAAIpJ,CAAK,EAAE,EAAGgT,GAAmB,OAC3C,EAAA,EAEGA,GAAmB,SAWpB9c,EAAK,KAAK,CACN,KAAM,UACN,MAAO,oBACP,KAAM,8CAAA,CACT,EACmB+c,GAAAjF,EAAM5E,GAAMpJ,CAAK,GAfrC9J,EAAK,KAAK,CACN,KAAM,QACN,MAAO,+BACP,KAAM8c,GAAmB,MACzB,kBAAmB,WAAA,CACtB,EAAE,KAAK,IAAM,CACVhd,EAAE,OAAO,MAAQ,GACjB2Z,EAAW,IAAI,CAAA,CAClB,QASA5X,EAAO,CACJ,QAAA,MAAM,8BAA+BA,CAAK,EAClDwZ,EAA+B/R,KAAA,CAC3B,GAAGA,GACH,CAAC,GAAG4J,EAAI,IAAIpJ,CAAK,EAAE,EAAG,EACxB,EAAA,EACF9J,EAAK,KAAK,CACN,KAAM,QACN,MAAO,eACP,KAAM,gEAAA,CACT,CAAA,QACH,CACEmb,EAAe,EAAK,CACxB,CAAA,EAGE4B,GAAsB,CAACjF,EAAM5E,EAAMpJ,KAAU,CAC/C,GAAIoJ,IAAS,QAAS,CACZ,MAAA2I,EAAY,CAAC,GAAG5B,CAAM,EAClB4B,EAAA/R,EAAK,EAAE,cAAgBgO,EACjCoC,EAAU2B,CAAS,CAAA,KAChB,CACG,MAAAS,EAAc,CAAC,GAAGnC,CAAQ,EACpBmC,EAAAxS,EAAK,EAAE,cAAgBgO,EACnCsC,EAAYkC,CAAW,CAC3B,CAAA,EAGEU,GAA4BJ,GAAU,CASpC,GARJhC,GAA+BqC,GACvBA,EAAQ,SAASL,EAAM,GAAG,EACnBK,EAAQ,OAAaC,IAAAA,KAAON,EAAM,GAAG,EAErC,CAAC,GAAGK,EAASL,EAAM,GAAG,CAEpC,EAEGA,EAAM,OAAS,QACX,GAAA3C,EAAO,QAAUvG,EAAU,cAAe,CACrC1T,EAAA,KAAK,2BAA2B,aAAa,YAAY,EAC9D,MAAA,MAGJka,EAAwBgC,GAAA,CACd,MAAAiB,GAAgBjB,EAAW,aAAekB,EAAE,MAAQR,EAAM,GAAG,EACnE,OAAIO,KAAkB,GACXjB,EAAW,OAAO,CAACQ,EAAGvS,IAAMA,IAAMgT,EAAa,EAE/C,CAAC,GAAGjB,EAAY,CAAE,GAAGU,EAAO,OAAQ,CAAC,CAAA,CAAG,CACnD,CACH,UAEMA,EAAM,OAAS,QAClB,GAAA3C,EAAO,QAAUvG,EAAU,gBAAiB,CACvC1T,EAAA,KAAK,6BAA6B,eAAe,YAAY,EAClE,MAAA,MAGJoa,EAA4BgC,GAAA,CAClB,MAAAe,GAAgBf,EAAa,aAAeiB,EAAE,MAAQT,EAAM,GAAG,EACrE,OAAIO,KAAkB,GACXf,EAAa,OAAO,CAACM,EAAGvS,IAAMA,IAAMgT,EAAa,EAEjD,CAAC,GAAGf,EAAc,CAAE,GAAGQ,EAAO,OAAQ,CAAC,CAAA,CAAG,CACrD,CACH,CAEL,EAGEU,EAAsB,KAChB,QAAA,IAAI,6BAA8BtC,CAAa,EACnD,CAACA,GAAiB,CAAC,MAAM,QAAQA,CAAa,GAAKA,EAAc,SAAW,EAAU,YAErF,MACG,CAAA,SAAA,CAAAjY,MAAC4P,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,SAAY,eAAA,EACjDqI,EAAc,IAAI,CAAC4B,EAAO9S,IACvB9G,EAAA,KAAC0P,EAAA,CACG,GAAG,sBACH,UAAU,sBAEV,QAAS,IAAMsK,GAAyBJ,CAAK,EAC7C,GAAI,CACA,QAAS,OACT,WAAY,SACZ,GAAI,EACJ,EAAG,EACH,OAAQ,sBACR,aAAc,OACd,OAAQ,UACR,SAAU,UACd,EAEA,SAAA,OAACW,GAAO,CAAA,GAAI,CAAE,QAAS,OAAQ,YAAa,MAAO,EAC9C,SAAMX,EAAA,KAAK,CAAC,EAAE,YAAA,EACnB,SACClK,EACG,CAAA,SAAA,CAAA3P,EAAA,IAAC4P,EAAW,CAAA,QAAQ,YAAa,SAAAiK,EAAM,KAAK,EAC3C5Z,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAA,QAClB,IAAI,KAAKiK,EAAM,GAAG,EAAE,mBAAmB,OAAO,CAAA,EACxD,EACC5Z,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAA,UAAQiK,EAAM,KAAA,EAAM,CAAA,EACpD,EACCjC,EAAiB,SAASiC,EAAM,GAAG,GAChC7Z,EAAA,IAACya,GAAA,CACG,GAAI,CACA,SAAU,WACV,IAAK,GACL,MAAO,GACP,MAAO,MACX,CAAA,CACJ,CAAA,CAAA,EA/BC1T,CAAA,CAkCZ,GACL,GAIF2T,EAAoB,CAACC,EAAQxK,EAAMyK,KACrCD,EAAO,IAAI,CAACd,EAAO9S,6BACd8T,GAAM,CAAA,UAAW,EAAG,GAAI,CAAE,QAAS,EAAG,aAAc,CAAE,EACnD,SAAA,OAACjL,EAAW,CAAA,QAAQ,KAAK,aAAY,GAChC,SAASO,IAAA,QAAU,SAASpJ,EAAQ,CAAC,GAAK,SAASA,EAAQ,CAAC,GACjE,EACA/G,EAAAA,IAAC8a,GAAK,UAAS,GAAC,QAAS,EAAG,WAAW,SAElC,SAAS3K,IAAA,QAGFlQ,OAAAC,EAAAA,SAAA,CAAA,SAAA,CAAAF,MAAC8a,GAAK,KAAI,GAAC,GAAI,GAAI,GAAI,EACnB,SAAA9a,EAAA,IAAC+a,GAAA,CACG,UAAS,GACT,MAAM,OACN,KAAK,OACL,MAAOlB,EAAM,KACb,SAAW9c,IAAMe,EAAaf,GAAGgK,EAAOoJ,CAAI,EAC5C,SAAQ,GACR,MAAO,CAAC,CAAC0J,EAAM,OAAO,KACtB,WAAYA,EAAM,OAAO,KACzB,WAAY,CAAE,SAAU,CAAC,CAACA,EAAM,GAAI,CAAA,CAAA,EAE5C,QACCiB,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EACnB,SAAA9a,EAAA,IAAC+a,GAAA,CACG,UAAS,GACT,MAAM,gBACN,KAAK,OACL,KAAK,MACL,MAAOlB,EAAM,IAAMA,EAAM,IAAI,MAAM,GAAG,EAAE,CAAC,EAAI,GAC7C,SAAW9c,IAAMe,EAAaf,GAAGgK,EAAOoJ,CAAI,EAC5C,SAAQ,GACR,gBAAiB,CAAE,OAAQ,EAAK,EAChC,WAAY,CAAE,IAAK6G,EAAS,IAAKC,CAAQ,EACzC,MAAO,CAAC,CAAC4C,EAAM,OAAO,IACtB,WAAYA,EAAM,OAAO,IACzB,WAAY,CAAE,SAAU,CAAC,CAACA,EAAM,GAAI,CAAA,CAAA,EAE5C,EACC,CAACA,EAAM,KACf7Z,EAAA,IAAA8a,GAAK,KAAI,GAAC,GAAI,GACX,SAAA9a,EAAA,IAACgb,GAAA,CACG,QACIhb,EAAA,IAACib,GAAA,CACG,QAASpB,EAAM,aAAe,GAC9B,SAAW9c,IAAMkc,EAAwBlS,EAAOhK,GAAE,OAAO,QAASoT,CAAI,EACtE,WAAO+K,GAAyB,EAAA,EAChC,kBAAcC,GAAa,EAAA,CAAA,CAC/B,EAEJ,MAAM,wCAAA,CAAA,EAEd,CAAA,EAEI,EAIIlb,OAAAC,EAAAA,SAAA,CAAA,SAAA,CAAAF,MAAC8a,GAAK,KAAI,GAAC,GAAI,GAAI,GAAI,EACnB,SAAA9a,EAAA,IAAC+a,GAAA,CACG,UAAS,GACT,MAAM,OACN,QAAQ,WACR,KAAK,OACL,MAAOlB,EAAM,KACb,SAAW9c,IAAMe,EAAaf,GAAGgK,EAAOoJ,CAAI,EAC5C,SAAQ,GACR,MAAO,CAAC,CAAC0J,EAAM,OAAO,KACtB,WAAYA,EAAM,OAAO,KACzB,WAAY,CAAE,SAAU,CAAC,CAACnC,EAAc,CAAA,CAAA,EAEhD,QACCoD,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EACnB,SAAA9a,EAAA,IAAC+a,GAAA,CACG,UAAS,GACT,MAAM,QACN,QAAQ,WACR,KAAK,QACL,MAAOlB,EAAM,MACb,SAAW9c,IAAMe,EAAaf,GAAGgK,EAAOoJ,CAAI,EAC5C,SAAQ,GACR,KAAK,QACL,MAAO,CAAC,CAAC0J,EAAM,OAAO,MACtB,WAAYA,EAAM,OAAO,MACzB,WAAY,CAAE,SAAU,CAAC,CAACnC,EAAc,CAAA,CAAA,EAEhD,QACCoD,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EACnB,SAAA9a,EAAA,IAAC+a,GAAA,CACG,UAAS,GACT,MAAM,QACN,QAAQ,WACR,KAAK,QACL,MAAOlB,EAAM,MACb,SAAW9c,IAAMe,EAAaf,GAAGgK,EAAOoJ,CAAI,EAC5C,SAAQ,GACR,KAAK,MACL,MAAO,CAAC,CAAC0J,EAAM,OAAO,MACtB,WAAYA,EAAM,OAAO,MACzB,WAAY,CAAE,SAAU,CAAC,CAACnC,EAAc,CAAA,CAAA,EAEhD,QACCoD,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,GACnB,SAAA9a,EAAA,IAAC+a,GAAA,CACG,UAAS,GACT,MAAM,UACN,QAAQ,WACR,KAAK,UACL,MAAOlB,EAAM,QACb,SAAW9c,IAAMe,EAAaf,GAAGgK,EAAOoJ,CAAI,EAC5C,SAAQ,GACR,UAAS,GACT,KAAM,EACN,WAAY,CAAE,SAAU,CAAC,CAACuH,EAAc,CAAA,CAAA,EAEhD,QACCoD,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EACvB,SAAA9a,EAAA,IAAC+a,GAAA,CACO,UAAS,GACT,MAAM,gBACN,KAAK,OACL,KAAK,MACL,MAAOlB,EAAM,IAAMA,EAAM,IAAI,MAAM,GAAG,EAAE,CAAC,EAAI,GAC7C,SAAW9c,IAAMe,EAAaf,GAAGgK,EAAOoJ,CAAI,EAC5C,SAAQ,GACR,gBAAiB,CAAE,OAAQ,EAAK,EAChC,WAAY,CAAE,IAAKyG,CAAa,EAChC,MAAO,CAAC,CAACiD,EAAM,OAAO,IACtB,WAAYA,EAAM,OAAO,IACzB,WAAY,CAAE,SAAU,CAAC,CAACnC,EAAc,CAAA,CAAA,EAEhD,QACCoD,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EACnB,SAAA9a,EAAA,IAAC+a,GAAA,CACG,OAAM,GACN,UAAS,GACT,MAAM,oBACN,QAAQ,WACR,KAAK,YACL,MAAOlB,EAAM,UACb,SAAW9c,IAAMe,EAAaf,GAAGgK,EAAOoJ,CAAI,EAC5C,SAAQ,GAEP,SAAgBgG,GAAA,IAAKxP,UACjBuJ,GAAA,CAA4B,MAAOvJ,GAAO,MACtC,SAAAA,GAAO,OADGA,GAAO,KAEtB,CACH,CAAA,CAAA,EAET,EAEC,CAACkT,EAAM,KAAOA,EAAM,WAEb5Z,OAAAC,EAAAA,SAAA,CAAA,SAAA,CAAAF,MAAC8a,GAAK,KAAI,GAAC,GAAI,GAAI,GAAI,EACnB,SAAA9a,EAAA,IAAC+a,GAAA,CACG,UAAS,GACT,MAAO,GAAGlB,EAAM,SAAS,UACzB,KAAK,cACL,MAAOA,EAAM,YACb,SAAW9c,IAAMe,EAAaf,GAAGgK,EAAOoJ,CAAI,EAC5C,SAAQ,GACR,MAAO,CAAC,GAACzR,GAAAmb,EAAM,SAAN,MAAAnb,GAAc,aACvB,YAAYC,GAAAkb,EAAM,SAAN,YAAAlb,GAAc,WAAA,CAAA,EAElC,QACCmc,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EACnB,SAAA7a,EAAA,KAACmb,GAAA,CACG,QAAQ,YACR,UAAU,QACV,UAAS,GACT,SAAUjD,EACV,UAAWA,EAAenY,MAAAqb,GAAiB,CAAA,KAAM,EAAI,CAAA,EAAK,KAEzD,SAAA,CAAclD,EAAA,eAAiB,UAAU0B,EAAM,SAAS,YACzD7Z,EAAA,IAAC,QAAA,CACG,KAAK,OACL,OAAM,GACN,SAAWjD,IAAM6c,EAAiB7c,GAAGgK,EAAOoJ,CAAI,EAChD,OAAO,cAAA,CACX,CAAA,CAAA,CAAA,EAER,CAAA,EACJ,CAAA,EAGR,EAER,EACE,CAAC0J,EAAM,KACJ7Z,EAAA,IAAA8a,GAAK,KAAI,GAAC,GAAI,GACX,SAAA9a,EAAA,IAACgb,GAAA,CACG,QACIhb,EAAA,IAACib,GAAA,CACG,QAASpB,EAAM,aAAe,GAC9B,SAAW9c,IAAMkc,EAAwBlS,EAAOhK,GAAE,OAAO,QAASoT,CAAI,EACtE,WAAO+K,GAAyB,EAAA,EAChC,kBAAcC,GAAa,EAAA,CAAA,CAC/B,EAEJ,MAAM,wCAAA,CAAA,EAEd,EAGH,CAACtB,EAAM,KACH7Z,MAAA2P,EAAA,CAAI,GAAI,EACL,SAAA1P,EAAA,KAACmb,GAAA,CACG,QAAQ,YACR,MAAM,YACN,GAAG,sBACH,QAAS,IAAME,EAAYvU,EAAO6T,EAAa,EAClD,SAAA,CAAA,UACWzK,IAAS,QAAU,QAAU,OAAA,CAAA,CAAA,EAE7C,EAGH0J,EAAM,WAAaA,EAAM,aACrB5Z,EAAAA,KAAA0P,GAAI,GAAI,CAAE,GAAI,EAAG,QAAS,OAAQ,WAAY,SAAU,IAAK,GAC1D,SAAA,CAAA3P,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,iBAAiB,SAEnD,mBAAA,EACCiK,EAAM,KAAOxB,EAAmB,GAAGlI,CAAI,IAAIpJ,CAAK,EAAE,EAC/C/G,EAAA,IAACub,GAAA,CACG,MAAM,WACN,MAAM,UACN,KAAK,QACL,WAAOd,GAAgB,EAAA,CAAA,CAAA,EAG3Bza,EAAA,IAACub,GAAA,CACG,MAAM,wBACN,MAAM,UACN,KAAK,QACL,WAAOC,GAAY,EAAA,CAAA,CACvB,CAAA,EAER,CA5OuD,CAAA,EAAA3B,EAAM,KAAO9S,CA8O5E,EACH,EAICuU,EAAc,CAACvU,EAAO6T,IAAkB,CAC5BA,EAAAa,IAAcA,GAAW,OAAO,CAAC9B,EAAGvS,IAAMA,IAAML,CAAK,CAAC,CAAA,EAGlE2U,GAAYvL,GAAS,CACvB,GAAIA,IAAS,QACL,GAAA+G,EAAO,QAAUvG,EAAU,cAAe,CACrC1T,EAAA,KAAK,2BAA2B,kBAAkB,YAAY,EACnE,MAAA,MAGJka,EAAwBgC,GAAA,CACpB,GAAGA,EACH,CACI,KAAM,GACN,MAAO,GACP,MAAO,GACP,QAAS,GACT,IAAK,GACL,UAAW,GACX,YAAa,GACb,cAAe,KACf,OAAQ,CAAC,CAEb,CAAA,CAEH,UAEMhJ,IAAS,QACZ,GAAA+G,EAAO,QAAUvG,EAAU,gBAAiB,CACvC1T,EAAA,KAAK,6BAA6B,eAAe,YAAY,EAClE,MAAA,MAGJoa,EAA4BgC,GAAA,CACxB,GAAGA,EACH,CACI,KAAM,GACN,IAAK,GACL,OAAQ,CAAC,CAEb,CAAA,CACH,CAEL,EAKA,OAAApZ,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACF,EAAAA,IAAA,MAAA,CAAI,UAAU,WACX,SAAAA,EAAA,IAAC4B,IAAO,MAAM,oBAAoB,SAAS,uBAAA,CAAwB,EACnE,QACC+N,EAAA,CAAI,UAAU,uBACX,eAAC,OAAA,CAAK,SAAU8J,EACZ,gBAACqB,EAAA,CAAK,UAAS,GAAC,QAAS,EACzB,SAAA,CAAC9a,EAAAA,IAAA8a,EAAA,CAAK,KAAI,GAAC,GAAI,GAAI,MAAO,CAAE,UAAW,QAAS,EAC5C,SAAA9a,EAAA,IAAC4P,EAAA,CACG,QAAQ,KACR,GAAI,CACA,eAAgB,YAChB,oBAAqB,SACzB,EACH,SAAA,oBAAA,CAAA,EAGL,QACCkL,EAAK,CAAA,KAAI,GAAC,GAAI,GACV,WAAoB,EACzB,QACCA,EAAK,CAAA,KAAI,GAAC,GAAI,GACX,SAAC9a,EAAA,IAAA4P,EAAW,CAAA,QAAQ,KAAK,SAAA,oBAAkB,CAAA,EAC/C,SACCkL,EAAA,CAAK,KAAI,GAAC,GAAI,GACV,SAAA,CAAkBJ,EAAAxD,EAAQ,QAASC,CAAS,EAC5CnX,EAAAA,IAAAob,IAAO,QAAQ,YAAY,QAAS,IAAMM,GAAS,OAAO,EAAG,SAE9D,WAAA,CAAA,CAAA,EACJ,QAECZ,EAAK,CAAA,KAAI,GAAC,GAAI,GACX,SAAC9a,EAAA,IAAA4P,EAAW,CAAA,QAAQ,KAAK,SAAA,sBAAoB,CAAA,EACjD,SACCkL,EAAA,CAAK,KAAI,GAAC,GAAI,GACV,SAAA,CAAkBJ,EAAAtD,EAAU,QAASC,CAAW,EAChDrX,EAAAA,IAAAob,IAAO,QAAQ,YAAY,QAAS,IAAMM,GAAS,OAAO,EAAG,SAE9D,WAAA,CAAA,CAAA,EACJ,EAEC1b,EAAAA,IAAA8a,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EAAG,MAAO,CAAE,QAAS,OAAQ,eAAgB,QAAS,EAC7F,SAAA9a,EAAAA,IAACob,GAAO,CAAA,QAAQ,YAAY,MAAM,UAAU,KAAK,SAAS,GAAG,iCAAiC,SAAA,yBAAA,CAE9F,EACJ,CAAA,CACoB,CAAA,CACJ,CAAA,EACJ,QAiDL,MAAI,CAAA,UAAU,SACf,SAAApb,MAACgM,IAAM,CAAA,EACT,GACI,CAER,EC90BM2P,GAAc,IAAM,CAChBlI,KACF,MAAAmI,EAAW,0BACXC,EAAY,2BAC2B3gB,EAAAA,SAAS,IAAI,EAC1D,MAAM+C,EAASzD,KAETkW,EADW5D,KACM,OAAS,GAC1BgP,EAAcpL,EAAM,UAAY,GAC9B,QAAA,IAAI,eAAeoL,CAAW,EAChC,MAAAte,EAAQkT,EAAM,MAAQ,GAC5B,QAAQ,IAAIlT,CAAK,EACX,MAAAue,EAAerL,EAAM,QAAU,GACrC,QAAQ,IAAIqL,CAAY,EAClB,MAAAC,EAAkBtL,EAAM,UAAY,GACpCkB,EAAYlB,EAAM,WAAa,EAC7B,QAAA,IAAI,aAAakB,CAAS,EAE5B,MAAA4E,EAAW9F,EAAM,UAAY,EAC3B,QAAA,IAAI,aAAa8F,CAAQ,EAC3B,MAAAkD,EAAYhJ,EAAM,WAAa,GAC/BkH,EAAmB8B,EAAU,kBAAoB,GACjD5B,EAAkB4B,EAAU,iBAAmB,CAAE,OAAQ,GAAI,SAAU,CAAA,GACrE,QAAA,IAAI,oBAAoB9B,CAAgB,EACxC,QAAA,IAAI,oBAAoBE,CAAe,EACzC,MAAAE,EAAQ,aAAa,QAAQ,QAAQ,EACrC,CAACjE,EAASC,CAAU,EAAI9Y,WAAS,EAAK,EAE5CT,EAAAA,UAAU,IAAM,CACR,MAAAwhB,EAAS,SAAS,cAAc,QAAQ,EAC9C,OAAAA,EAAO,IAAM,+CACbA,EAAO,MAAQ,GACfA,EAAO,OAAS,IAAM,CAClB,QAAQ,IAAI,wBAAwB,CAAA,EAE/B,SAAA,KAAK,YAAYA,CAAM,EAEzB,IAAM,CACA,SAAA,KAAK,YAAYA,CAAM,CAAA,CAExC,EAAG,CAAE,CAAA,EAGH,MAAMC,EAAgB,SAAY,WAC1B,MAAAxe,EAAW,IAAI,SAGrBA,EAAS,OAAO,cAAe,KAAK,UAAUoe,CAAW,CAAC,EAC1Dpe,EAAS,OAAO,QAAS,KAAK,UAAUF,CAAK,CAAC,EACrCE,EAAA,OAAO,SAAUsa,CAAM,EACvBta,EAAA,OAAO,YAAakU,CAAS,EAC7BlU,EAAA,OAAO,WAAY8Y,CAAQ,EACpC9Y,EAAS,OAAO,mBAAoB,KAAK,UAAUka,CAAgB,CAAC,EACpEla,EAAS,OAAO,kBAAmB,KAAK,UAAUoa,CAAe,CAAC,EAG9DA,IAEEA,EAAgB,QAAUA,EAAgB,OAAO,OAAS,GAC5DA,EAAgB,OAAO,QAAQ,CAACiB,GAAOhS,KAAU,CAE1CgS,GAAM,MACTrb,EAAS,OAAO,mBAAmBqJ,EAAK,IAAK,KAAK,UAAUgS,EAAK,CAAC,EAC9DA,GAAM,eACCrb,EAAA,OAAO,iBAAkBqb,GAAM,aAAa,EAEzD,CACD,EAICjB,EAAgB,UAAYA,EAAgB,SAAS,OAAS,GAChEA,EAAgB,SAAS,QAAQ,CAAC0B,GAAOzS,KAAU,CAE5CyS,GAAM,KACT9b,EAAS,OAAO,sBAAsBqJ,EAAK,IAAK,KAAK,UAAUyS,EAAK,CAAC,CACvE,CACD,GASD,GAAA,CACM,MAAAxc,GAAM,MAAMjC,GAAM,KAAK,yCAAgD2C,EAAU,CACnF,QAAS,CACL,eAAgB,qBACpB,CAAA,CACH,EAEG,GAAAV,GAAI,SAAW,IAAK,CACd,MAAAmf,GAAcnf,GAAI,KAAK,YAAY,aACnCof,GAAgBpf,GAAI,KAAK,YAAY,IACrCqf,GAAqBrf,GAAI,KAAK,YAC9B8H,EAAU,CACZ,IAAK8W,EACL,WAAYC,EACZ,OAAQ,SAASM,GAAc,GAAG,EAClC,SAAU,MACV,cAAe,gBAAkBze,EAAS,IAAI,QAAQ,EACtD,KAAM,8BACN,YAAa,kBACb,QAAS,SAAUoC,GAAU,CACjB,QAAA,IAAI,qBAAsBA,EAAQ,EAC1C,MAAMwc,GAAYxc,GAAS,oBAErByc,EAAU,CACZ,OAAAvE,EACA,UAAAsE,GACA,UAAA1K,EACA,SAAA4E,EACA,eAAgB4F,GAChB,YAAaC,GAAmB,SAChC,aAAcA,GAAmB,SAAA,EAErCrI,EAAW,EAAI,EACTjZ,GAAA,KAAK,2CAAkDwhB,CAAO,EAE/D,KAAMzc,GAAa,CAEhB7C,EAAK,KAAK,gCAAgC,EAClC,QAAA,IAAI6C,EAAS,KAAK,WAAW,EACrC,QAAQ,IAAI,eAAeA,EAAS,KAAK,IAAI,GAG5C,IAAM,CACnB,MAAA0c,EAAM,IAAIC,GAC1B,IAAIC,EAAW,GAGfF,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,cAAe,IAAKE,EAAU,CAAE,MAAO,SAAU,EAC1DF,EAAI,KAAK,GAAIE,EAAW,EAAG,IAAKA,EAAW,CAAC,EAChCA,GAAA,GAGZF,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,2BAA4B,IAAKE,EAAU,CAAE,MAAO,SAAU,EACvEF,EAAI,KAAK,GAAIE,EAAW,EAAG,IAAKA,EAAW,CAAC,EAChCA,GAAA,GAGZF,EAAI,YAAY,EAAE,EACdA,EAAA,KAAK,sBAAuB,GAAIE,CAAQ,EAChCA,GAAA,GAEZF,EAAI,YAAY,EAAE,EACdA,EAAA,KAAK,YAAYxf,GAAI,KAAK,YAAY,OAAO,GAAI,GAAI0f,CAAQ,EACjEF,EAAI,KAAK,iBAAiB,IAAI,KAAKxf,GAAI,KAAK,YAAY,YAAY,EAAE,mBAAmB,OAAO,CAAC,GAAI,IAAK0f,EAAU,CAAE,MAAO,QAAS,EAC1HA,GAAA,GAERF,EAAA,KAAK,cAAc1c,EAAS,KAAK,KAAK,WAAW,GAAI,GAAI4c,CAAQ,EACrEF,EAAI,KAAK,eAAe1c,EAAS,KAAK,KAAK,KAAK,GAAI,IAAK4c,EAAU,CAAE,MAAO,OAAS,CAAA,EACzEA,GAAA,GAEZF,EAAI,KAAK,cAAcV,EAAY,QAAQ,GAAI,GAAIY,CAAQ,EAC3DF,EAAI,KAAK,kBAAkB,IAAI,KAAKxf,GAAI,KAAK,YAAY,QAAQ,EAAE,mBAAmB,OAAO,CAAC,GAAI,GAAI0f,EAAW,EAAE,EACnHF,EAAI,KAAK,mBAAmB,IAAI,KAAKxf,GAAI,KAAK,YAAY,SAAS,EAAE,mBAAmB,OAAO,CAAC,GAAI,IAAK0f,EAAW,GAAI,CAAE,MAAO,QAAS,EAC9HA,GAAA,GAEZF,EAAI,KAAK,2BAA4B,GAAIE,EAAW,EAAE,EAClDF,EAAA,KAAK,2BAA4B,IAAKE,EAAW,GAAI,CAAE,MAAO,QAAS,EAC/DA,GAAA,GAEZF,EAAI,KAAK,uBAAuBV,EAAY,IAAI,GAAI,GAAIY,CAAQ,EAC5DF,EAAA,KAAK,iBAAiBhG,CAAQ,GAAI,IAAKkG,EAAU,CAAE,MAAO,OAAS,CAAA,EAC3DA,GAAA,GAERF,EAAA,KAAK,oBAAoBxf,GAAI,KAAK,YAAY,YAAY,GAAI,GAAI0f,CAAQ,EAC9EF,EAAI,KAAK,uBAAuBxf,GAAI,KAAK,YAAY,MAAM,GAAI,IAAK0f,EAAU,CAAE,MAAO,OAAS,CAAA,EACpFA,GAAA,GAEZF,EAAI,KAAK,GAAIE,EAAU,IAAKA,CAAQ,EACxBA,GAAA,GAGZ,MAAMC,EAAoB,IAAM,CACxBD,EAAW,MACXF,EAAI,QAAQ,EACDE,EAAA,GACf,EAIJF,EAAI,YAAY,EAAE,EACdA,EAAA,KAAK,eAAgB,GAAIE,CAAQ,EACzBA,GAAA,GAEZF,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,cAAcV,EAAY,QAAQ,GAAI,GAAIY,CAAQ,EAC3D,IAAIE,EAAmBJ,EAAI,gBAAgBV,EAAY,YAAa,GAAG,EACvEU,EAAI,KAAK,gBAAgBI,CAAgB,GAAI,GAAIF,EAAW,EAAE,EAClDA,GAAA,GAAKE,EAAiB,OAAS,EAC3CJ,EAAI,KAAK,uBAAuBV,EAAY,IAAI,GAAI,GAAIY,EAAW,EAAE,EACzDA,GAAA,GAEMC,IAGlBH,EAAI,KAAK,GAAIE,EAAU,IAAKA,CAAQ,EACxBA,GAAA,GAGZF,EAAI,YAAY,EAAE,EACdA,EAAA,KAAK,gBAAiB,GAAIE,CAAQ,EAC1BA,GAAA,GAEZF,EAAI,YAAY,EAAE,EACLT,EAAA,QAAQ,CAAClC,EAAO9S,IAAU,CAC/B,IAAA8V,EAAUH,EAAW3V,EAAQ,GAC7B+V,EAAeN,EAAI,gBAAgB3C,EAAM,QAAS,GAAG,EACvC8C,IACdH,EAAA,KAAK,SAASzV,EAAQ,CAAC,UAAU8S,EAAM,IAAI,GAAI,GAAIgD,CAAO,EAC1DL,EAAA,KAAK,UAAU3C,EAAM,KAAK,GAAI,IAAKgD,EAAS,CAAE,MAAO,OAAS,CAAA,EAClEL,EAAI,KAAK,UAAU3C,EAAM,KAAK,GAAI,GAAIgD,EAAU,EAAE,EAC9CL,EAAA,KAAK,YAAYM,CAAY,GAAI,IAAKD,EAAU,GAAI,CAAE,MAAO,OAAS,CAAA,EAEtEL,EAAA,KAAK,sBAAsB3C,EAAM,SAAS,GAAI,GAAIgD,EAAU,IAAMC,EAAa,OAAS,GAAK,CAAC,EAClGN,EAAI,KAAK,iBAAiB3C,EAAM,WAAW,GAAI,IAAKgD,EAAU,IAAMC,EAAa,OAAS,GAAK,EAAG,CAAE,MAAO,QAAS,EAGpHJ,EAAWG,EAAU,IAAMC,EAAa,OAAS,GAAK,CAAA,CACzD,EAEiBH,IAGlBH,EAAI,KAAK,GAAIE,EAAU,IAAKA,CAAQ,EACxBA,GAAA,GAGZF,EAAI,YAAY,EAAE,EACdA,EAAA,KAAK,mBAAoB,GAAIE,CAAQ,EAC7BA,GAAA,GAEZF,EAAI,YAAY,EAAE,EACdR,EAAgB,SAAW,GAC7BQ,EAAI,YAAY,EAAE,EACdA,EAAA,KAAK,gCAAiC,GAAIE,CAAQ,EAC1CA,GAAA,KAEZF,EAAI,YAAY,EAAE,EACFR,EAAA,QAAQ,CAACxC,EAAOzS,IAAU,CAClC,IAAA8V,EAAUH,EAAW3V,EAAQ,GACf4V,IACdH,EAAA,KAAK,SAASzV,EAAQ,CAAC,UAAUyS,EAAM,IAAI,GAAI,GAAIqD,CAAO,EAC1DL,EAAA,KAAK,QAAQhD,EAAM,GAAG,GAAI,IAAKqD,EAAS,CAAE,MAAO,OAAS,CAAA,EAC9DH,EAAWG,EAAU,EAAA,CACxB,GAGeF,IAGlBH,EAAI,KAAK,GAAIE,EAAU,IAAKA,CAAQ,EACxBA,GAAA,GAGZF,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,wBAAwB5K,CAAS,GAAI,GAAI8K,CAAQ,EAC9CA,GAAA,GACZF,EAAI,KAAK,GAAIE,EAAU,IAAKA,CAAQ,EAG1BF,EAAI,QAAQ,EACDE,EAAA,GAGXF,EAAI,YAAY,EAAE,EAClBA,EAAI,KAAK,kBAAmB,IAAKE,EAAU,CAAE,MAAO,SAAU,EAC9DF,EAAI,KAAK,GAAIE,EAAW,EAAG,IAAKA,EAAW,CAAC,EAChCA,GAAA,GAKZF,EAAI,YAAY,EAAE,EAEdA,EAAA,KAAK,mBAAmB1c,EAAS,KAAK,KAAK,SAAS,GAAI,GAAI4c,EAAW,EAAE,EACzEF,EAAA,KAAK,mBAAmB1c,EAAS,KAAK,KAAK,aAAa,GAAI,GAAI4c,EAAW,EAAE,EAC7EF,EAAA,KAAK,mBAAmB1c,EAAS,KAAK,KAAK,MAAM,GAAI,GAAI4c,EAAW,EAAE,EAC9DA,GAAA,GAGZF,EAAI,YAAY,EAAE,EACdA,EAAA,KAAK,yBAAyB1c,EAAS,KAAK,KAAK,SAAS,GAAI,GAAI4c,CAAQ,EAClEA,GAAA,GAGRF,EAAA,KAAK,eAAeV,EAAY,QAAQ,IAAI,KAAK,KAAK,MAAM,CAAA,KAIhE7d,EAAS,GAAG,CAAA,CACP,EACA,MAAea,GAAA,CACN,QAAA,MAAM,wBAAyBA,CAAK,EAE5Cie,EAAkBX,EAAa,EAC/Bnf,EAAK,KAAK,iDAAiD,CAAA,CAC5D,CACL,EACA,MAAO,CACL,UAAW,UAAW,CAEpB,QAAQ,IAAI,sBAAsB,EAClC8f,EAAkBX,EAAa,EAC/B,QAAQ,IAAI,sDAAsD,CACpE,CACF,EACA,MAAO,CACL,MAAO,SACT,CAAA,EAGF,IAAIY,EAAmB,IAAI,OAAO,SAASlY,CAAO,EACjCkY,EAAA,GAAG,iBAAkB,SAASld,GAAU,CAC/C,QAAA,IAAI,iBAAkBA,GAAS,KAAK,EAC5Cid,EAAkBX,EAAa,EAC/B,QAAQ,IAAI,CACV,MAAO,iBACP,KAAM,oEACN,KAAM,OAAA,CACP,CAAA,CACF,EAEDY,EAAiB,KAAK,CAAA,MAEjB/f,EAAA,KAAKD,GAAI,KAAK,OAAO,QAErBE,GAAK,CACZ,MAAM6C,KAAepB,IAAAD,GAAAxB,GAAI,WAAJ,YAAAwB,GAAc,OAAd,YAAAC,GAAoB,UAAW,mCACpD1B,EAAK,KAAK8C,EAAY,EACd,QAAA,MAAM,SAAU7C,EAAG,CAC7B,CAAA,EAKI6f,EAAoB,MAAOX,GAAkB,CAC7C,GAAA,CACI,MAAArhB,GAAM,OAAO,2CAAiDqhB,CAAa,EAAE,EACnF,QAAQ,IAAI,kCAAkC,QACvCtd,EAAO,CACN,QAAA,MAAM,8BAA+BA,CAAK,EAClD,QAAQ,IAAI,CACV,MAAO,QACP,KAAM,4DACN,KAAM,OAAA,CACP,CACH,CAAA,EAIM,QAAA,IAAI,gBAAiBgd,CAAW,EAChC,QAAA,IAAI,iBAAkBC,CAAY,EAClC,QAAA,IAAI,oBAAqBC,CAAe,EACxC,QAAA,IAAI,cAAetC,CAAS,EAG9B,MAAAuD,EAAiBC,GAChBA,EACD,OAAOA,GAAY,SAEd,OAAO,OAAOA,CAAO,EAAE,OAAO,OAAO,EAAE,KAAK,IAAI,GAAK,MAEvDA,EALc,MAUnB,OAAAjd,EAAA,KAAAC,WAAA,CAAA,SAAA,CAAAF,MAAC,MAAI,CAAA,UAAU,aACb,SAAAA,MAAC4B,IAAO,CAAA,EACV,SAEC+N,EAAI,CAAA,GAAI,CAAE,OAAQ,CAAE,GAAI,OAAQ,GAAI,QAAU,UAAW,CAAE,GAAI,OAAQ,GAAI,MAAO,GACjF,SAAA,OAACC,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,GAAI,CAAE,UAAW,CAAE,GAAI,SAAU,GAAI,MAAA,GAAY,SAEvF,eAAA,EAGC3P,EAAAA,KAAA4a,GAAM,CAAA,UAAW,EAAG,GAAI,CAAE,QAAS,EAAG,aAAc,CAAE,EACrD,SAAA,CAAA7a,MAAC4P,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,SAEtC,eAAA,SACCkL,EAAA,CAAK,UAAS,GAAC,QAAS,EACvB,SAAA,CAAC9a,EAAAA,IAAA8a,EAAA,CAAK,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,SAAC7a,EAAA,KAAA2P,EAAW,CAAA,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAU,aAAA,EAAS,IAAE,QAAO8b,GAAA,YAAAA,EAAa,WAAY,KAAK,CAAA,CAAA,CAAE,CAAA,CAClF,EACC9b,EAAAA,IAAA8a,GAAK,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,SAAC7a,EAAA,KAAA2P,EAAW,CAAA,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAU,aAAA,EAAS,IAAE,QAAO8b,GAAA,YAAAA,EAAa,WAAY,KAAK,CAAA,CAAA,CAAE,CAAA,CAClF,QACChB,EAAK,CAAA,KAAI,GAAC,GAAI,GACb,gBAAClL,EAAW,CAAA,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAY,eAAA,EAAS,IAAE,QAAO8b,GAAA,YAAAA,EAAa,cAAe,0BAA0B,CAAA,CAAA,CAAE,CAAA,CAC5G,EACC9b,EAAAA,IAAA8a,GAAK,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,SAAC7a,EAAA,KAAA2P,EAAW,CAAA,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAgB,mBAAA,EAAS,OAAK,QAAO8b,GAAA,YAAAA,EAAa,OAAQ,CAAC,EAAE,eAAe,CAAA,CAAA,CAAE,CAAA,CACpG,EACC9b,EAAAA,IAAA8a,GAAK,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,SAAC7a,EAAA,KAAA2P,EAAW,CAAA,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAa,gBAAA,EAAS,IAAE,OAAOwW,GAAY,CAAC,CAAA,CAAA,CAAE,CAAA,CACpE,CAAA,EACF,CAAA,EACF,EAGCvW,EAAAA,KAAA4a,GAAM,CAAA,UAAW,EAAG,GAAI,CAAE,QAAS,EAAG,aAAc,CAAE,EACrD,SAAA,CAAA7a,MAAC4P,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,SAEtC,gBAAA,EAGC5P,EAAAA,IAAA4P,GAAW,QAAQ,KAAK,GAAI,CAAE,aAAc,CAAE,EAAG,SAElD,cAAA,CAAA,EACC,MAAM,QAAQmM,CAAY,GAAKA,EAAa,OAAS,EACpDA,EAAa,IAAI,CAAClC,EAAO9S,IACtB9G,EAAAA,KAAA0P,EAAA,CAAgB,GAAI,CAAE,aAAc,GACnC,SAAA,CAAA1P,OAAC2P,EAAW,CAAA,SAAA,CAAA3P,OAAC,SAAO,CAAA,SAAA,CAAA,SAAO8G,EAAQ,EAAE,QAAA,EAAM,EAAS,IAAE,QAAO8S,GAAA,YAAAA,EAAO,OAAQ,KAAK,CAAA,EAAE,SAClFjK,EAAW,CAAA,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAM,SAAA,EAAS,IAAE,QAAO6Z,GAAA,YAAAA,EAAO,QAAS,KAAK,CAAA,EAAE,SAClEjK,EAAW,CAAA,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAM,SAAA,EAAS,IAAE,QAAO6Z,GAAA,YAAAA,EAAO,QAAS,KAAK,CAAA,EAAE,SAClEjK,EAAW,CAAA,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAQ,WAAA,EAAS,IAAEid,EAAcpD,GAAA,YAAAA,EAAO,OAAO,CAAA,EAAE,SACpEjK,EAAW,CAAA,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAkB,qBAAA,EAAS,IAAE,QAAO6Z,GAAA,YAAAA,EAAO,YAAa,KAAK,CAAA,EAAE,SAClFjK,EAAW,CAAA,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAa,gBAAA,EAAS,IAAE,QAAO6Z,GAAA,YAAAA,EAAO,cAAe,KAAK,CAAA,EAAE,QAC/EsD,GAAQ,CAAA,GAAI,CAAE,QAAS,CAAA,EAAK,CAAA,CAPrB,EAAApW,CAQV,CACD,QAEA6I,GAAW,SAAiC,oCAAA,EAI9C5P,EAAAA,IAAA4P,GAAW,QAAQ,KAAK,GAAI,CAAE,aAAc,CAAE,EAAG,SAElD,iBAAA,CAAA,EACC,MAAM,QAAQoM,CAAe,GAAKA,EAAgB,OAAS,EAC1DA,EAAgB,IAAI,CAACxC,EAAOzS,IACzB9G,EAAAA,KAAA0P,EAAA,CAAgB,GAAI,CAAE,aAAc,GACnC,SAAA,CAAA1P,OAAC2P,EAAW,CAAA,SAAA,CAAA3P,OAAC,SAAO,CAAA,SAAA,CAAA,SAAO8G,EAAQ,EAAE,QAAA,EAAM,EAAS,IAAE,QAAOyS,GAAA,YAAAA,EAAO,OAAQ,KAAK,CAAA,EAAE,SAClF5J,EAAW,CAAA,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAI,OAAA,EAAS,IAAE,QAAOwZ,GAAA,YAAAA,EAAO,MAAO,KAAK,CAAA,EAAE,QAC9D2D,GAAQ,CAAA,GAAI,CAAE,QAAS,CAAA,EAAK,CAAA,CAHrB,EAAApW,CAIV,CACD,QAEA6I,GAAW,SAA8B,iCAAA,CAAA,EAE9C,EAGC3P,EAAAA,KAAA4a,GAAM,CAAA,UAAW,EAAG,GAAI,CAAE,QAAS,EAAG,aAAc,CAAE,EACrD,SAAA,CAAA7a,MAAC4P,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,SAEtC,kBAAA,EACC3P,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,KAAK,SAAA,CAAA,MACnB,OAAOgC,GAAa,CAAC,EAAE,eAAe,CAAA,EAC5C,CAAA,EACF,EAGA5R,MAAC2P,GAAI,GAAI,CAAE,UAAW,SAAU,UAAW,GACzC,SAAA3P,EAAA,IAACob,GAAA,CACC,QAAQ,YACR,MAAM,UACN,SAAUrH,EACV,KAAK,QACL,GAAG,UACH,QAASmI,EAER,WAAU,gBAAkB,UAAA,CAAA,EAEjC,CAAA,EACF,EAGCnI,GACE/T,EAAA,IAAA,MAAA,CAAI,MAAO,CACV,SAAU,QACV,IAAK,EACL,KAAM,EACN,MAAO,EACP,OAAQ,EACR,gBAAiB,2BACjB,OAAQ,IACR,QAAS,OACT,eAAgB,SAChB,WAAY,UAEZ,SAACA,EAAA,IAAAqb,GAAA,CAAA,CAAiB,EACpB,QAED,MAAI,CAAA,UAAU,SACf,SAAArb,MAACgM,IAAM,CAAA,EACT,GACA,CAEJ,ECveMoR,GAAY,IAAM,CACd3J,KACR,KAAM,CAAC4J,EAAUC,CAAW,EAAIpiB,WAAS,EAAK,EACxC,CAACqiB,EAAoBC,CAAqB,EAAItiB,WAAS,EAAK,EAC5D,CAACuiB,EAAeC,CAAgB,EAAIxiB,WAAS,IAAI,EACjDyiB,EAAQC,KACR,CAACC,EAAUC,CAAW,EAAI5iB,WAAS,CAAC,IAAI,GAAG,EAC3C,CAAC6iB,EAAaC,CAAc,EAAI9iB,WAAS,CAC7C,YAAa,GACb,MAAO,GACP,QAAS,GACT,MAAO,GACP,KAAM,GACN,SAAU,GACV,IAAK,EAAA,CACN,EACK,CAAC8d,EAAQiF,CAAS,EAAI/iB,EAAA,SAAS,CAAE,CAAA,EAEjC,CAACgjB,EAAcC,CAAe,EAAIjjB,WAAS,CAC/C,gBAAiB,GACjB,YAAa,GACb,gBAAiB,EAAA,CAClB,EAEK,CAACkjB,EAAgBC,CAAiB,EAAInjB,WAAS,CACnD,gBAAiB,GACjB,YAAa,GACb,gBAAiB,EAAA,CAClB,EAEK,CAACojB,EAAcC,CAAe,EAAIrjB,WAAS,EAAK,EAChD,CAACsjB,EAAcC,CAAe,EAAIvjB,WAAS,EAAK,EAChDwjB,EAAY9hB,SAAO,IAAI,EACW1B,EAAAA,SAAS,EAAK,EACtD,KAAM,CAACyjB,GAAoBC,EAAqB,EAAI1jB,WAAS,EAAI,EAC3D,CAAC2jB,GAAgBC,EAAiB,EAAI5jB,WAAS,EAAK,EACpD,CAACqB,GAAcC,EAAe,EAAItB,WAAS,EAAK,EAEhD6jB,EAAmBC,cAAY,MAAOrS,GAAW,CACjD,GAAA,CAEF,MAAMsS,GADW,MAAMlkB,GAAM,IAAI,sCAA4C4R,CAAM,EAAE,GAC/D,KACPqR,EAAA,CACb,YAAaiB,EAAK,aAAe,GACjC,MAAOA,EAAK,OAAS,GACrB,QAASA,EAAK,SAAW,GACzB,MAAOA,EAAK,OAAS,GACrB,KAAMA,EAAK,MAAQ,GACnB,SAAUA,EAAK,UAAY,GAC3B,IAAKA,EAAK,KAAO,EAAA,CAClB,EACeV,EAAA,CAAC,CAACU,EAAK,QAAQ,EAC/BH,GAAkBG,EAAK,cAAc,QAE9BngB,EAAO,CACN,QAAA,MAAM,gCAAiCA,CAAK,EAC/C7B,EAAA,KAAK,QAAS,+BAAgC,OAAO,CAC5D,CACF,EAAG,CAAE,CAAA,EAELxC,EAAAA,UAAU,IAAM,CACR,MAAAsH,EAAQ,aAAa,QAAQ,OAAO,EAC1C,GAAIA,EACE,GAAA,CACI,MAAAmd,EAAeC,GAAUpd,CAAK,EACpC+b,EAAYoB,CAAY,EACxBH,EAAiBG,GAAA,YAAAA,EAAc,GAAG,QAC3BpgB,EAAO,CACN,QAAA,MAAM,0BAA2BA,CAAK,EACzC7B,EAAA,KAAK,QAAS,yBAA0B,OAAO,CACtD,CACF,EACC,CAAC8hB,CAAgB,CAAC,EAErBtkB,EAAAA,UAAU,IAAM,EACS,SAAY,CAC7B,GAAA,CACFmkB,GAAsB,EAAI,EAC1B,MAAM7f,EAAY,UAElB,MAAM,QAAQ,IAAI,CAChBC,GAAa,iBAAiB,YAAYD,CAAS,EACnDC,GAAa,kBAAkB,YAAYD,CAAS,EACpDC,GAAa,mBAAmB,YAAYD,CAAS,CAAA,CACtD,EAED6f,GAAsB,EAAK,QACpB9f,EAAO,CACN,QAAA,MAAM,6BAA8BA,CAAK,EACjD7B,EAAK,KAAK,CACR,MAAO,sBACP,KAAM,iEACN,KAAM,OAAA,CACP,CACH,CAAA,IAIJ,EAAG,CAAE,CAAA,EAEL,MAAMmiB,GAAoB,IAAM,CAC9B9B,EAAY,EAAI,CAAA,EAGZ+B,GAAgB,CAACthB,EAAMC,IAAU,CACrC,IAAIc,EAAQ,GACZ,OAAQf,EAAM,CACZ,IAAK,cACE,kBAAkB,KAAKC,CAAK,IACvBc,EAAA,2DAEV,MACF,IAAK,WACE,WAAW,KAAKd,CAAK,EAEf,aAAa,KAAKA,CAAK,IACxBc,EAAA,sDAFAA,EAAA,iCAIV,MACF,IAAK,MACG,MAAAwgB,EAAY,IAAI,KAAKthB,CAAK,EAC1B2Y,OAAY,KAClB,IAAI4I,GAAM5I,GAAM,YAAY,EAAI2I,EAAU,YAAY,EACtD,MAAME,GAAI7I,GAAM,SAAS,EAAI2I,EAAU,SAAS,GAC5CE,GAAI,GAAMA,KAAM,GAAK7I,GAAM,QAAQ,EAAI2I,EAAU,YACnDC,KAEEA,GAAM,KACAzgB,EAAA,iCAEV,KAGJ,CACO,OAAAA,CAAA,EAGH2gB,EAAqB1iB,GAAM,CAC/B,KAAM,CAAE,KAAAgB,EAAM,MAAAC,GAAUjB,EAAE,OACpB+B,EAAQugB,GAActhB,EAAMC,CAAK,EACvCigB,EAAyByB,KAAA,CACvB,GAAGA,GACH,CAAC3hB,CAAI,EAAGe,CACR,EAAA,EACFkf,EAA4B2B,KAAA,CAC1B,GAAGA,GACH,CAAC5hB,CAAI,EAAGC,CACR,EAAA,CAAA,EAGE4hB,EAAa,IAAM,CACvB,MAAMC,EAAY,CAAA,EAQlB,GAPA,OAAO,KAAK9B,CAAW,EAAE,QAAe+B,GAAA,CACtC,MAAMhhB,EAAQugB,GAAcS,EAAK/B,EAAY+B,CAAG,CAAC,EAC7ChhB,IACF+gB,EAAUC,CAAG,EAAIhhB,EACnB,CACD,EAEG,OAAO,KAAK+gB,CAAS,EAAE,OAAS,EAAG,CACrC5B,EAAU4B,CAAS,EACnB,MACF,CAEM9kB,GAAA,KAAK,6CAAmD8iB,EAAS,GAAG,GAAIE,CAAW,EACtF,KAAiBje,GAAA,CACX7C,EAAA,KAAK,UAAW,+BAAgC,SAAS,EAC9DqgB,EAAY,EAAK,CAAA,CAClB,EACA,MAAexe,GAAA,CACT7B,EAAA,KAAK,QAAS,8BAA+B,OAAO,CAAA,CAC1D,CAAA,EAGC8iB,EAAuB,IAAM,CACjCvC,EAAsB,EAAI,CAAA,EAGtBwC,EAAoBC,GACV,yEACD,KAAKA,CAAQ,EAGtBC,EAA6BnjB,GAAM,CACvC,KAAM,CAAE,KAAAgB,EAAM,MAAAC,GAAUjB,EAAE,OAC1BohB,EAA6BwB,IAAA,CAC3B,GAAGA,EACH,CAAC5hB,CAAI,EAAGC,CACR,EAAA,EAGED,IAAS,gBACNiiB,EAAiBhiB,CAAK,EAMzBqgB,EAAiCqB,IAAA,CAC/B,GAAGA,EACH,YAAa,EACb,EAAA,EARFrB,EAAiCqB,IAAA,CAC/B,GAAGA,EACH,YAAa,4FACb,EAAA,GAUF3hB,IAAS,oBACPC,IAAUkgB,EAAa,YACzBG,EAAiCqB,IAAA,CAC/B,GAAGA,EACH,gBAAiB,wBACjB,EAAA,EAEFrB,EAAiCqB,IAAA,CAC/B,GAAGA,EACH,gBAAiB,EACjB,EAAA,EAEN,EAGIS,EAAqB,IAAM,CAC3B,GAAAjC,EAAa,cAAgBA,EAAa,gBAAiB,CAC7DG,EAAiCqB,IAAA,CAC/B,GAAGA,EACH,gBAAiB,wBACjB,EAAA,EACF,MACF,CAEA,GAAI,CAACM,EAAiB9B,EAAa,WAAW,EAAG,CAC/CG,EAAiCqB,IAAA,CAC/B,GAAGA,EACH,YAAa,4FACb,EAAA,EACF,MACF,CAEM3kB,GAAA,IAAI,8CAAoD8iB,EAAS,GAAG,GAAI,CAC5E,gBAAiBK,EAAa,gBAC9B,YAAaA,EAAa,WAAA,CAC3B,EACA,KAAiBpe,GAAA,CACX7C,EAAA,KAAK,UAAW,gCAAiC,SAAS,EAC/DugB,EAAsB,EAAK,EACXW,EAAA,CACd,gBAAiB,GACjB,YAAa,GACb,gBAAiB,EAAA,CAClB,EACiBE,EAAA,CAChB,gBAAiB,GACjB,YAAa,GACb,gBAAiB,EAAA,CAClB,CAAA,CACF,EACA,MAAevf,GAAA,CACT7B,EAAA,KAAK,QAAS,2DAA4D,OAAO,CAAA,CACvF,CAAA,EAGGmjB,EAAqBjR,GAAU,CACnC,MAAM4F,EAAO5F,EAAM,OAAO,MAAM,CAAC,EACjCuO,EAAiB3I,CAAI,EAEf,MAAArX,EAAW,IAAI,SACZA,EAAA,OAAO,QAASqX,CAAI,EAEvBha,GAAA,KAAK,2CAAiD8iB,EAAS,GAAG,GAAIngB,CAAQ,EACjF,KAAiBoC,GAAA,CACX7C,EAAA,KAAK,UAAW,qCAAsC,SAAS,EACpE+gB,EAA4B2B,KAAA,CAC1B,GAAGA,GACH,MAAO7f,EAAS,KAAK,KACrB,EAAA,CAAA,CACH,EACA,MAAehB,GAAA,CACT7B,EAAA,KAAK,QAAS,wBAAyB,OAAO,CAAA,CACpD,CAAA,EAGCojB,EAAoB,SAAY,OACpC,GAAI,CAAA9jB,GAEA,GAAA,CACFC,GAAgB,EAAI,EAGpB,KAAM,CAAE,MAAO8jB,CAAgB,EAAA,MAAMrjB,EAAK,KAAK,CAC7C,MAAO,6BACP,KAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAYN,KAAM,OACN,iBAAkB,GAClB,kBAAmB,eACnB,iBAAkB,QAAA,CACnB,EAED,GAAI,CAACqjB,EAAa,CAChB9jB,GAAgB,EAAK,EACrB,MACF,CAGA,MAAM+jB,EAAS,CAAA,EACTC,EAAiB,GACvB,IAAIC,GAAgB,GAChBC,GAAuB,GAGrB,MAAAC,GAAe1jB,EAAK,MAAM,CAC9B,kBAAmB,GACnB,kBAAmB,GACnB,QAAS,IAAM,CACbA,EAAK,YAAY,CACnB,CAAA,CACD,EAED,QAASmK,GAAI,EAAGA,GAAIoZ,EAAgBpZ,KAAK,CACvCuZ,GAAa,KAAK,CAChB,MAAO,sBACP,KAAM;AAAA,wBACQ,KAAK,MAAOvZ,GAAIoZ,EAAkB,GAAG,CAAC;AAAA,cAChDpZ,GAAI,EAAI,4BACRA,GAAI,EAAI,gCACRA,GAAI,EAAI,iCACR,gBAAgB;AAAA,WAAA,CAErB,EAGD,MAAM,IAAI,QAAQhI,IAAW,WAAWA,GAAS,GAAG,CAAC,EAE/C,MAAAwhB,IAAQliB,EAAAggB,EAAU,UAAV,YAAAhgB,EAAmB,gBACjC,GAAI,CAACkiB,GAAO,SAEN,MAAAthB,GAAY,MAAMuhB,EAAWD,EAAK,EACxC,GAAI,CAACthB,GACG,MAAA,IAAI,MAAM,wDAAwD,EAGpE,KAAA,CAAE,UAAAwhB,GAAW,WAAAC,EAAe,EAAAzhB,GAC5B0hB,GAAU,MAAMC,EAAqBH,EAAS,EAGhDE,GAAQ,eAAiB,MACXP,GAAA,IAGd,KAAK,IAAIO,GAAQ,SAAS,GAAG,EAAI,KACZN,GAAA,IAGzBH,EAAO,KAAK,CACV,WAAAQ,GACA,UAAAD,GACA,QAAAE,GACA,UAAW,KAAK,IAAI,CAAA,CACrB,CACH,CAEAL,GAAa,MAAM,EAGf,GAAA,CACsBO,EAAAX,EAAQE,GAAeC,EAAoB,QAC5DS,GAAiB,CACxB,MAAM,IAAI,MAAM,sBAAsBA,GAAgB,OAAO,EAAE,CACjE,CAGM,MAAAC,GAAgB,MAAMC,EAAgBd,CAAM,EAC5C,MAAAe,EAAaF,GAAevD,EAAS,GAAG,EAE9CiB,GAAkB,EAAI,EACtBL,EAAgB,EAAK,EAErBxhB,EAAK,KAAK,CACR,MAAO,WACP,KAAM,uCACN,KAAM,SAAA,CACP,QAEM6B,EAAO,CACN,QAAA,MAAM,sBAAuBA,CAAK,EAC1C7B,EAAK,KAAK,CACR,MAAO,eACP,KAAM6B,EAAM,SAAW,8CACvB,KAAM,QACN,kBAAmB,WAAA,CACpB,CAAA,QACD,CACAtC,GAAgB,EAAK,CACvB,CAAA,EAWIqkB,EAAa,MAAOD,GAAU,CAC5B,MAAAW,EAAM,IAAI,MAChB,OAAAA,EAAI,IAAMX,EACJ,MAAA,IAAI,QAAmBxhB,GAAA,CAAEmiB,EAAI,OAASniB,CAAA,CAAU,EAE/CK,GAAyB8hB,EAAK,IAAI7hB,EAAiC,EACvE,kBAAkB,EAClB,oBAAmB,EAGlBuhB,EAAuB,MAAOH,IAC3B,CACL,eAAgBU,GAAwBV,CAAS,EACjD,SAAUW,EAAkBX,CAAS,EACrC,aAAcY,EAAsBZ,CAAS,EAC7C,YAAaa,GAA4B,CAAA,GAIvCT,EAA0B,CAACX,EAAQE,EAAeC,IAAyB,CAE3E,GAAAH,EAAO,OAAS,EACZ,MAAA,IAAI,MAAM,qDAAqD,EAIvE,GAAI,CAACE,EACG,MAAA,IAAI,MAAM,+DAA+D,EAIjF,GAAI,CAACC,EACG,MAAA,IAAI,MAAM,2EAA2E,EAIvF,MAAAkB,EAAwBC,GAA+BtB,CAAM,EAC7DuB,GAAsBC,GAA2BxB,CAAM,EAE7D,GAAIqB,EAAwB,GACpB,MAAA,IAAI,MAAM,8DAA8D,EAGhF,GAAIE,GAAsB,GAClB,MAAA,IAAI,MAAM,wDAAwD,EAGnE,MAAA,EAAA,EAGHE,EAAmBzB,GAEhBA,EAAO,OAAO,CAAC0B,EAAMC,IAAY,CAChC,MAAAC,EAAiBC,EAAsBF,CAAO,EAC9CG,GAAcD,EAAsBH,CAAI,EACvC,OAAAE,EAAiBE,GAAcH,EAAUD,CAAA,CACjD,EAGGG,EAAyBxB,GAAU,CACvC,GAAI,CAACA,GAAS,CAACA,EAAM,QAAgB,MAAA,GAGrC,MAAM0B,EAAU,CACd,eAAgB,GAChB,aAAc,GACd,SAAU,GACV,YAAa,EAAA,EAIf,IAAIC,EAAe,EAInB,MAAMC,GAAW,EAAI,KAAK,IAAI5B,EAAM,QAAQ,eADhB,EACoD,EAChF2B,GAAgBC,GAAWF,EAAQ,eAGnBC,GAAA3B,EAAM,QAAQ,aAAe0B,EAAQ,aAG/C,MAAAG,GAAgB,GACpB,KAAK,IAAI7B,EAAM,QAAQ,SAAS,GAAG,EAAI,GACvC,KAAK,IAAIA,EAAM,QAAQ,SAAS,KAAK,EAAI,GACzC,KAAK,IAAIA,EAAM,QAAQ,SAAS,IAAI,EAAI,IACtC,EACJ,OAAA2B,GAAgBE,GAAgBH,EAAQ,SAGxBC,GAAA3B,EAAM,QAAQ,YAAc0B,EAAQ,YAE7CC,CAAA,EAGHlB,EAAkB,MAAOd,GAAW,CAClC,MAAAmC,EAAYV,EAAgBzB,CAAM,EACjC,MAAA,CACL,eAAgB,MAAM,KAAKmC,EAAU,UAAU,EAC/C,cAAeC,GAAuBpC,CAAM,EAC5C,SAAUqC,EAAiBF,EAAU,SAAS,EAC9C,aAAcG,GAAsBtC,CAAM,EAC1C,gBAAiB,CACf,cAAeuC,GAA6B,EAC5C,oBAAqBf,GAA2BxB,CAAM,EACtD,mBAAoBwC,GAAkC,CACxD,CAAA,CACF,EAGIJ,GAA0BpC,GAAW,CACrC,GAAAA,EAAO,OAAS,EAAU,MAAA,GAE9B,MAAMyC,EAAS,CACb,iBAAkBC,GAA0B1C,CAAM,EAClD,kBAAmB2C,GAA2B3C,EAAO,CAAC,EAAE,UAAWA,EAAO,CAAC,EAAE,UAAWA,EAAO,CAAC,EAAE,SAAS,EAC3G,sBAAuBsB,GAA+BtB,CAAM,CAAA,EAG9D,OAAQyC,EAAO,iBAAmBA,EAAO,kBAAoBA,EAAO,uBAAyB,CAAA,EAGzFC,GAA6B1C,GAAW,CAC5C,IAAI4C,EAAa,EACbC,EAAa,EACbC,EAAU9C,EAAO,CAAC,EAAE,QAAQ,eAEhC,QAASnZ,GAAI,EAAGA,GAAImZ,EAAO,OAAQnZ,KAAK,CACtC,MAAMkc,GAAa/C,EAAOnZ,EAAC,EAAE,QAAQ,eAGjC,GAAAic,EAAU,KAAQC,GAAa,IAAM,CACvCF,IAGA,MAAMG,GAAkB,KAAK,IAAID,GAAaD,CAAO,EACtCF,GAAAI,GAAkB,IAAQ,EAAI,EAC/C,CAEUF,EAAAC,EACZ,CAEO,OAAAF,EAAa,EAAID,EAAaC,EAAa,CAAA,EAG9CR,EAAoB9B,GAAc,CACtC,MAAM0C,EAAc,CAAA,EACdC,EAAS3C,EAAU,UAGzB,QAAS1Z,EAAI,EAAGA,EAAIqc,EAAO,OAAQrc,IAAK,CAChC,MAAAD,GAAQsc,EAAOrc,CAAC,EAChBsc,GAAQC,GAA+B,EAC7CH,EAAY,KAAK,CACf,EAAGrc,GAAM,EACT,EAAGA,GAAM,EACT,EAAGuc,EAAA,CACJ,CACH,CAEO,OAAAF,CAAA,EAGHlC,EAAe,MAAOF,EAAezU,IAClC5R,GAAM,KAAK,uCAA8C,CAC9D,OAAA4R,EACA,GAAGyU,CAAA,CACJ,EAIGwC,EAAqBC,GAAQ,CAEjC,MAAMC,EAAKD,EAAI,CAAC,EAAGE,EAAKF,EAAI,CAAC,EACvBG,EAAKH,EAAI,CAAC,EAAGI,GAAKJ,EAAI,CAAC,EAGvBK,GAAKL,EAAI,CAAC,EAAGM,GAAKN,EAAI,CAAC,EAGvBO,GAAgB,KAAK,KAAK,KAAK,IAAIL,EAAG,EAAID,EAAG,EAAG,CAAC,EAAI,KAAK,IAAIC,EAAG,EAAID,EAAG,EAAG,CAAC,CAAC,EAC7EO,GAAgB,KAAK,KAAK,KAAK,IAAIJ,GAAG,EAAID,EAAG,EAAG,CAAC,EAAI,KAAK,IAAIC,GAAG,EAAID,EAAG,EAAG,CAAC,CAAC,EAC7EM,GAAiB,KAAK,KAAK,KAAK,IAAIH,GAAG,EAAID,GAAG,EAAG,CAAC,EAAI,KAAK,IAAIC,GAAG,EAAID,GAAG,EAAG,CAAC,CAAC,EAG5E,OAAAE,GAAgBC,KAAkB,EAAMC,GAAA,EAG5C9C,GAA2BV,GAAc,CACvC,MAAAyD,EAAUzD,EAAU,aACpB0D,EAAW1D,EAAU,cAErB2D,EAAUb,EAAkBW,CAAO,EACnCG,GAAWd,EAAkBY,CAAQ,EAE3C,OAAQC,EAAUC,IAAY,CAAA,EAG1BjD,EAAqBX,GAAc,CACjC,MAAA6D,EAAO7D,EAAU,UACjB8D,EAAa9D,EAAU,gBAGvB+D,EAAMC,EAAaH,EAAMC,CAAU,EAGnCG,GAAQC,GAAeL,EAAMC,CAAU,EAGvCK,GAAOC,EAAcP,EAAMC,CAAU,EAEpC,MAAA,CAAE,IAAAC,EAAK,MAAAE,GAAO,KAAAE,GAAK,EAGtBH,EAAe,CAACH,EAAMC,IAAe,CACnC,MAAAO,EAAYR,EAAK,CAAC,EAClBS,EAAUR,EAAW,CAAC,EACtBS,GAAWT,EAAWA,EAAW,OAAS,CAAC,EAE3CU,GAAW,KAAK,KAAK,KAAK,IAAIH,EAAU,EAAIC,EAAQ,EAAG,CAAC,EAAI,KAAK,IAAID,EAAU,EAAIC,EAAQ,EAAG,CAAC,CAAC,EAChGG,GAAY,KAAK,KAAK,KAAK,IAAIJ,EAAU,EAAIE,GAAS,EAAG,CAAC,EAAI,KAAK,IAAIF,EAAU,EAAIE,GAAS,EAAG,CAAC,CAAC,EAEjG,OAAAE,GAAYD,KAAaC,GAAYD,IAAY,GAAA,EAGrDN,GAAiB,CAACL,EAAMC,IAAe,CACrC,MAAAY,EAAUb,EAAK,CAAC,EAChBc,EAAUd,EAAK,CAAC,EAChBe,GAAYd,EAAW,KAAK,MAAMA,EAAW,OAAS,CAAC,CAAC,EAExDe,GAAe,KAAK,IAAIF,EAAQ,EAAID,EAAQ,CAAC,EAC7CI,GAAe,KAAK,IAAIF,GAAU,EAAIF,EAAQ,CAAC,EAAI,GAEjD,OAAAG,GAAeC,IAAgBA,GAAe,GAAA,EAGlDV,EAAgB,CAACP,EAAMC,IAAe,CACpC,MAAAQ,EAAUR,EAAW,CAAC,EACtBS,EAAWT,EAAWA,EAAW,OAAS,CAAC,EAEjD,OAAO,KAAK,MAAMS,EAAS,EAAID,EAAQ,EAAGC,EAAS,EAAID,EAAQ,CAAC,GAAK,IAAM,KAAK,GAAA,EAG5E1D,EAAyBZ,GAAc,CACrC,MAAAyD,EAAUzD,EAAU,aACpB0D,EAAW1D,EAAU,cACrB6D,EAAO7D,EAAU,UACjB8D,GAAa9D,EAAU,gBAItB,OADe+E,GAAuBtB,EAASC,EAAUG,EAAMC,EAAU,CACzE,EAGHiB,GAAyB,CAACtB,EAASC,EAAUG,EAAMC,IAAe,CAEhE,MAAAkB,GAAUnB,EAAK,CAAC,EAAE,EAGxB,IAAIoB,GAAY,EAChB,MAAMC,GAAQ,CACZ,CAACzB,EAAQ,CAAC,EAAGC,EAAS,CAAC,CAAC,EACxB,CAACD,EAAQ,CAAC,EAAGC,EAAS,CAAC,CAAC,EACxB,CAACI,EAAW,CAAC,EAAGA,EAAWA,EAAW,OAAS,CAAC,CAAC,CAAA,EAGnD,OAAAoB,GAAM,QAAQ,CAAC,CAACC,GAAMC,EAAK,IAAM,CAC/B,MAAMZ,GAAW,KAAK,IAAIQ,GAAUG,GAAK,CAAC,EACpCV,GAAY,KAAK,IAAIW,GAAM,EAAIJ,EAAO,EAC/BC,IAAA,KAAK,IAAIT,GAAWC,EAAS,CAAA,CAC3C,EAEM,EAAKQ,IAAaC,GAAM,OAASF,GAAA,EAGpCnE,GAAsBb,GAEnB,EAGHe,GAAkCtB,GAAW,CAC7C,GAAAA,EAAO,OAAS,EAAU,MAAA,GAE9B,IAAI4F,EAAkB,EAChB,MAAAC,EAAc7F,EAAO,OAAS,EAEpC,QAASnZ,EAAI,EAAGA,EAAIgf,EAAahf,IAAK,CACpC,MAAMif,GAAaC,GACjB/F,EAAOnZ,CAAC,EAAE,WACVmZ,EAAOnZ,EAAI,CAAC,EAAE,UAAA,EAEG+e,GAAAE,EACrB,CAEA,OAAOF,EAAkBC,CAAA,EAGrBE,GAA4B,CAACC,EAAaC,IAAgB,CAC9D,IAAIC,EAAa,EACbC,EAAQ,EACRC,GAAQ,EAEZ,QAASvf,GAAI,EAAGA,GAAImf,EAAY,OAAQnf,KACtCqf,GAAcF,EAAYnf,EAAC,EAAIof,EAAYpf,EAAC,EAC5Csf,GAASH,EAAYnf,EAAC,EAAImf,EAAYnf,EAAC,EACvCuf,IAASH,EAAYpf,EAAC,EAAIof,EAAYpf,EAAC,EAGzC,OAAOqf,GAAc,KAAK,KAAKC,CAAK,EAAI,KAAK,KAAKC,EAAK,EAAA,EAGnD5E,GAA8BxB,GAAW,CACzC,GAAAA,EAAO,OAAS,EAAU,MAAA,GAE9B,IAAIqG,EAAkB,EAChB,MAAAR,EAAc7F,EAAO,OAAS,EAEpC,QAASnZ,EAAI,EAAGA,EAAIgf,EAAahf,IAAK,CACpC,MAAMyf,GAAW3D,GACf3C,EAAOnZ,CAAC,EAAE,UACVmZ,EAAOnZ,EAAI,CAAC,EAAE,UACdmZ,EAAOnZ,EAAI,CAAC,EAAE,SAAA,EAEGwf,GAAAC,EACrB,CAEA,OAAOD,EAAkBR,CAAA,EAGrBlD,GAA6B,CAAC4D,EAAYC,EAAYC,IAGnD,GAGHnE,GAAyBtC,GACtBA,EAAO,OAAO,CAAC0G,EAAOrG,IAKpBqG,EAAS,EAA6B,EAC5C,CAAC,EAAI1G,EAAO,OAGXuC,GAA0BvC,GAEvB,IAGHwC,GAA+BxC,GAE5B,GAGHoD,GAAiB,CAACxc,EAAO2Z,IAEtB,GAGHoG,GAAyB,SAAY,CACrC,GAAA,CACI,MAAAnsB,GAAM,OAAO,2CAAiD8iB,EAAS,GAAG,EAAE,EAClFiB,GAAkB,EAAK,EAClB7hB,EAAA,KAAK,UAAW,mCAAoC,SAAS,QAC3D6B,EAAO,CACN,QAAA,MAAM,8BAA+BA,CAAK,EAC7C7B,EAAA,KAAK,QAAS,+BAAgC,OAAO,CAC5D,CAAA,EAIFxC,OAAAA,EAAAA,UAAU,IAAM,CACd,GAAI+jB,EAwBe,OAvBQ,SAAY,CAC/B,GAAA,CACF,MAAMrf,EAAS,MAAM,UAAU,aAAa,aAAa,CACvD,MAAO,CACL,MAAO,IACP,OAAQ,IACR,WAAY,MACd,CAAA,CACD,EAEGuf,EAAU,UACFA,EAAA,QAAQ,MAAM,UAAYvf,SAE/BL,EAAO,CACN,QAAA,MAAM,+BAAgCA,CAAK,EACnD7B,EAAK,KAAK,CACR,MAAO,eACP,KAAM,uEACN,KAAM,OAAA,CACP,CACH,CAAA,KAMK,IAAM,UACP0B,GAAAD,EAAAggB,EAAU,UAAV,YAAAhgB,EAAmB,QAAnB,MAAAC,EAA0B,WACb+f,EAAU,QAAQ,MAAM,UAAU,YAC1C,QAAQzf,IAASA,GAAM,KAAM,CAAA,CACtC,CAEJ,EACC,CAACuf,CAAY,CAAC,EAIbve,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACD,EAAAA,KAAA,MAAA,CAAI,UAAU,gBAAgB,SAAA,CAAA,UAAE2B,GAAO,EAAA,EAAE,GAAA,EAAC,EAC3C3B,EAAA,KAAC4a,GAAA,CACC,UAAW,EACX,GAAI,CACF,QAAS,EACT,OAAQ,OACR,SAAU,IACV,GAAI,EACJ,aAAc,EACd,gBAAiB8C,EAAM,QAAQ,OAAS,OAAS,OAAS,UAC1D,MAAOA,EAAM,QAAQ,OAAS,OAAS,OAAS,MAClD,EAEA,SAAA,CAAC1d,EAAAA,KAAA0P,EAAA,CAAI,QAAQ,OAAO,cAAc,SAAS,WAAW,SAAS,GAAI,EAAG,SAAS,WAC7E,SAAA,CAAA3P,EAAA,IAACwa,GAAA,CACC,IAAKuD,EAAY,aAAe,OAChC,IAAKA,EAAY,MAAQA,EAAY,MAAQ,0BAC7C,GAAI,CACF,MAAO,IACP,OAAQ,IACR,GAAI,EACJ,OAAQ,aAAaJ,EAAM,QAAQ,QAAQ,IAAI,EACjD,CAAA,CACF,EACA1d,EAAA,KAACknB,GAAA,CACC,UAAU,QACV,GAAI,CACF,SAAU,WACV,OAAQ,GACR,MAAO,MACP,gBAAiBxJ,EAAM,QAAQ,QAAQ,KACvC,MAAO,OACP,UAAW,CAAE,gBAAiBA,EAAM,QAAQ,QAAQ,IAAK,CAC3D,EAEA,SAAA,CAAC3d,EAAAA,IAAA,QAAA,CAAM,OAAM,GAAC,OAAO,kBAAkB,KAAK,OAAO,SAAUogB,CAAA,CAAmB,QAC/EgH,GAAc,EAAA,CAAA,CAAA,CACjB,EACCpnB,EAAAA,IAAA4P,GAAW,QAAQ,KAAK,WAAW,OAAO,GAAI,EAC5C,SAAAmO,EAAY,WAAA,CACf,CAAA,EACF,SAECjD,EAAA,CAAK,UAAS,GAAC,QAAS,EAEvB,SAAA,QAACA,EAAK,CAAA,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAElD,QAAA,EACCyN,EAEGpd,EAAA,KAAAC,WAAA,CAAA,SAAA,CAAAF,EAAA,IAAC+a,GAAA,CACC,UAAS,GACT,KAAK,cACL,MAAOgD,EAAY,aAAe,GAClC,SAAU0B,EACV,MAAO,CAAC,CAACzG,EAAO,YAChB,GAAI,CAAE,MAAO2E,EAAM,QAAQ,KAAK,OAAQ,CAAA,CAC1C,EACC3E,EAAO,aAAehZ,EAAA,IAACqnB,IAAe,MAAK,GAAE,WAAO,YAAY,CAAA,EACnE,EAECrnB,MAAA4P,EAAA,CAAW,QAAQ,KAAM,WAAY,YAAY,CAAA,EAEtD,SAGCkL,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAElD,SAAA,EACAyN,EAAWrd,EAAA,IAAC+a,GAAA,CACV,UAAS,GACT,KAAK,QACL,MAAOgD,EAAY,OAAS,GAC5B,SAAU0B,EACV,WAAY,CAAE,SAAU,EAAK,EAC7B,GAAI,CAAE,MAAO9B,EAAM,QAAQ,KAAK,OAAQ,CAAA,CAAA,QACpC/N,EAAA,CAAW,QAAQ,KAAM,WAAY,MAAM,CAAA,EACnD,SAGCkL,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAElD,gBAAA,EACCyN,EAEGpd,EAAA,KAAAC,WAAA,CAAA,SAAA,CAAAF,EAAA,IAAC+a,GAAA,CACC,UAAS,GACT,KAAK,WACL,MAAOgD,EAAY,UAAY,GAC/B,SAAU0B,EACV,MAAO,CAAC,CAACzG,EAAO,SAChB,GAAI,CAAE,MAAO2E,EAAM,QAAQ,KAAK,OAAQ,CAAA,CAC1C,EACC3E,EAAO,UAAYhZ,EAAA,IAACqnB,IAAe,MAAK,GAAE,WAAO,SAAS,CAAA,EAC7D,EAECrnB,MAAA4P,EAAA,CAAW,QAAQ,KAAM,WAAY,SAAS,CAAA,EAEnD,SAGCkL,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAElD,iBAAA,EACCyN,EAEGpd,EAAA,KAAAC,WAAA,CAAA,SAAA,CAAAF,EAAA,IAAC+a,GAAA,CACC,UAAS,GACT,KAAK,MACL,KAAK,OACL,MAAOgD,EAAY,KAAO,GAC1B,SAAU0B,EACV,MAAO,CAAC,CAACzG,EAAO,IAChB,GAAI,CAAE,MAAO2E,EAAM,QAAQ,KAAK,OAAQ,EACxC,gBAAiB,CAAE,OAAQ,EAAK,EAChC,WAAY,CACV,IAAK,IAAI,KAAK,IAAI,OAAO,gBAAgB,KAAK,EAAE,YAAgB,EAAA,EAAE,CAAC,EAAE,cAAc,MAAM,GAAG,EAAE,CAAC,CACjG,CAAA,CACF,EACC3E,EAAO,KAAOhZ,EAAA,IAACqnB,IAAe,MAAK,GAAE,WAAO,IAAI,CAAA,EACnD,EAECrnB,MAAA4P,EAAA,CAAW,QAAQ,KAAM,WAAY,IAAI,CAAA,EAE9C,SAGCkL,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAElD,WAAA,EACCyN,EACCrd,EAAA,IAAC+a,GAAA,CACC,UAAS,GACT,KAAK,UACL,MAAOgD,EAAY,SAAW,GAC9B,SAAU0B,EACV,GAAI,CAAE,MAAO9B,EAAM,QAAQ,KAAK,OAAQ,CAAA,CAAA,QAGzC/N,EAAA,CAAW,QAAQ,KAAM,WAAY,QAAQ,CAAA,EAElD,SAGCkL,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAElD,0BAAA,EACCiP,GACC7e,EAAA,IAACob,GAAA,CACC,QAAQ,WACR,MAAM,YACN,QAAS8L,GACT,gBAAYI,GAAc,EAAA,EAC1B,GAAI,CAAE,GAAI,CAAE,EACb,SAAA,oBAAA,CAAA,EAIDtnB,EAAA,IAACob,GAAA,CACC,QAAQ,YACR,MAAM,UACN,QAAS,IAAMqD,EAAgB,EAAI,EACnC,gBAAY6I,GAAc,EAAA,EAC1B,GAAI,CAAE,GAAI,CAAE,EACZ,SAAU3I,GAET,YAAqB,4BAA8B,mBAAA,CACtD,CAAA,EAEJ,SAGC7D,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,UAAU,SAC1B,SAAA,CACCuC,EAAArd,EAAA,IAACob,GAAA,CACC,QAAQ,YACR,MAAM,UACN,QAASwE,EACT,GAAI,CAAE,GAAI,EAAG,GAAI,CAAE,EACnB,SAAU,OAAO,KAAK5G,CAAM,EAAE,KAAK8G,GAAO9G,EAAO8G,CAAG,CAAC,EACtD,SAAA,MAAA,CAAA,EAID9f,EAAA,IAACob,GAAA,CACC,QAAQ,YACR,MAAM,UACN,QAASgE,GACT,GAAI,CAAE,GAAI,EAAG,GAAI,CAAE,EACpB,SAAA,cAAA,CAED,EAID,CAACd,IACCf,SAUE5N,EACC,CAAA,SAAA,CAAA3P,EAAAA,IAAC4P,GAAW,QAAQ,QAAQ,MAAM,gBAAgB,GAAI,EAAG,SAEzD,mBAAA,CAAA,EACA5P,EAAA,IAAC+a,GAAA,CACC,UAAS,GACT,KAAK,WACL,KAAK,kBACL,MAAOmD,EAAa,gBACpB,SAAUgC,EACV,GAAI,CAAE,MAAOvC,EAAM,QAAQ,KAAK,OAAQ,CAAA,CAC1C,EACA3d,EAAAA,IAAC4P,GAAW,QAAQ,QAAQ,MAAM,gBAAgB,GAAI,EAAG,SAEzD,eAAA,CAAA,EACA5P,EAAA,IAAC+a,GAAA,CACC,UAAS,GACT,KAAK,WACL,KAAK,cACL,MAAOmD,EAAa,YACpB,SAAUgC,EACV,MAAO,CAAC,CAAC9B,EAAe,YACxB,WAAYA,EAAe,YAC3B,GAAI,CAAE,MAAOT,EAAM,QAAQ,KAAK,OAAQ,CAAA,CAC1C,EACA3d,EAAAA,IAAC4P,GAAW,QAAQ,QAAQ,MAAM,gBAAgB,GAAI,EAAG,SAEzD,uBAAA,CAAA,EACA5P,EAAA,IAAC+a,GAAA,CACC,UAAS,GACT,KAAK,WACL,KAAK,kBACL,MAAOmD,EAAa,gBACpB,SAAUgC,EACV,MAAO,CAAC,CAAC9B,EAAe,gBACxB,WAAYA,EAAe,gBAC3B,GAAI,CAAE,MAAOT,EAAM,QAAQ,KAAK,OAAQ,CAAA,CAC1C,EACA3d,EAAA,IAACob,GAAA,CACC,QAAQ,YACR,MAAM,UACN,QAAS+E,EACT,GAAI,CAAE,GAAI,CAAE,EACZ,SAAU,CAAC,CAAC/B,EAAe,aAAe,CAAC,CAACA,EAAe,gBAC5D,SAAA,eAAA,CAED,GACF,EAxDApe,EAAA,IAACob,GAAA,CACC,QAAQ,WACR,MAAM,YACN,QAAS2E,EACT,GAAI,CAAE,GAAI,CAAE,EACb,SAAA,iBAAA,CAAA,EAmDD,EAGN,CAAA,EACF,CAAA,CAAA,CACF,EAGA9f,EAAA,KAACsnB,GAAA,CACC,KAAM/I,EACN,QAAS,IAAMC,EAAgB,EAAK,EACpC,SAAS,KACT,UAAS,GACT,GAAI,CACF,qBAAsB,CACpB,SAAU,WACV,OAAQ,GACV,CACF,EAEA,SAAA,CAACze,EAAAA,IAAAwnB,IAAY,SAAa,gBAAA,QACzBC,GAAA,CACC,SAACznB,EAAAA,IAAA2P,EAAA,CAAI,GAAI,CAAE,SAAU,WAAY,MAAO,OAAQ,OAAQ,GAAA,EACtD,SAAA3P,EAAA,IAAC0nB,GAAA,CACC,IAAKhJ,EACL,iBAAiB,aACjB,MAAM,OACN,OAAO,OACP,iBAAkB,CAChB,MAAO,KACP,OAAQ,IACR,WAAY,OACZ,YAAa,QACf,EACA,SAAU,GACV,kBAAmB,EACnB,0BAA2B,EAAA,CAC7B,CAAA,CACF,CAAA,CACF,SACCiJ,GACC,CAAA,SAAA,CAAA3nB,MAACob,IAAO,QAAS,IAAMqD,EAAgB,EAAK,EAAG,SAAM,SAAA,EACrDze,EAAA,IAACob,GAAA,CACC,QAASiF,EACT,QAAQ,YACR,MAAM,UACN,SAAU9jB,GAET,YAAe,gBAAkB,SAAA,CACpC,CAAA,EACF,CAAA,CAAA,CACF,EAGCyD,EAAAA,IAAA,MAAI,CAAA,UAAU,wBAEf,GACF,CAEJ,EChoCM4nB,GAAaC,GAAOC,EAAI,EAAE,CAAC,CAAE,MAAAnK,MAAa,CAC9C,QAASA,EAAM,QAAQ,CAAC,EACxB,aAAcA,EAAM,QAAQ,CAAC,EAC7B,WAAY,oDACZ,aAAcA,EAAM,QAAQ,CAAC,EAC7B,UAAW,6BACX,WAAY,6BACZ,UAAW,CACT,UAAW,kBACb,CACF,EAAE,EAEIoK,GAAc,CAAC,CAAE,cAAA3L,KAAoB,WACzC,KAAM,CAAC4L,EAAQC,CAAS,EAAI/sB,WAAS,EAAE,EACjC,CAACgtB,EAAQC,CAAS,EAAIjtB,WAAS,EAAK,EACpC,CAAC6Y,EAASC,CAAU,EAAI9Y,WAAS,EAAK,EACtC,CAAC4D,EAAOkH,CAAQ,EAAI9K,WAAS,IAAI,EACjC,CAACktB,EAAiBC,CAAkB,EAAIntB,WAAS,IAAI,EAE3DT,EAAAA,UAAU,IAAM,CACU6tB,GAAA,EACvB,CAAClM,CAAa,CAAC,EAElB,MAAMkM,EAA0B,SAAY,CACtC,GAAA,CACI,MAAAC,EAAU,aAAa,QAAQ,QAAQ,EACrC,QAAA,IAAI,UAAWA,CAAO,EAE9B,MAAMC,EAAS,CACb,QAAS,CACP,QAAWD,CACb,CAAA,EAGIzoB,EAAW,MAAM/E,GAAM,IAC3B,2CAAiDqhB,CAAa,GAC9DoM,CAAA,EAGM,QAAA,IAAI,wBAAyB1oB,EAAS,IAAI,EAC9CA,EAAS,KAAK,QACGuoB,EAAAvoB,EAAS,KAAK,IAAI,EAErCkG,EAAS,qCAAqC,QAEzClH,EAAO,CACN,QAAA,MAAM,8BAA+BA,CAAK,EAClDkH,EAAS,qCAAqC,CAChD,CAAA,EAGIyiB,EAAiB,SAAY,CACjCzU,EAAW,EAAI,EACfhO,EAAS,IAAI,EACT,GAAA,CACI,MAAAlG,EAAW,MAAM/E,GAAM,KAAK,yCAAgD,CAChF,cAAAqhB,EACA,UAAW,IAAI,KAAK,EAAE,YAAY,CAAA,CACnC,EACS6L,EAAAnoB,EAAS,KAAK,MAAM,EAC9BqoB,EAAU,EAAI,OACA,CACdniB,EAAS,4BAA4B,CACvC,CACAgO,EAAW,EAAK,CAAA,EAGZ0U,EAAiB,IAAM,CACrB,MAAAC,EAAM,SAAS,eAAe,SAAS,EACvCC,EAAU,IAAI,cAAc,EAAE,kBAAkBD,CAAG,EACnDhpB,EAAS,SAAS,cAAc,QAAQ,EACxCkpB,EAAMlpB,EAAO,WAAW,IAAI,EAC5B4hB,EAAM,IAAI,MAChBA,EAAI,OAAS,IAAM,CACjB5hB,EAAO,MAAQ4hB,EAAI,MACnB5hB,EAAO,OAAS4hB,EAAI,OAChBsH,EAAA,UAAUtH,EAAK,EAAG,CAAC,EACjB,MAAAuH,GAAUnpB,EAAO,UAAU,WAAW,EACtCopB,GAAe,SAAS,cAAc,GAAG,EAClCA,GAAA,SAAW,WAAW3M,CAAa,OAChD2M,GAAa,KAAOD,GACpBC,GAAa,MAAM,CAAA,EAEjBxH,EAAA,IAAM,6BAA+B,KAAKqH,CAAO,CAAA,EAIrD,OAAC5oB,EAAAA,IAAAgpB,GAAU,CAAA,SAAS,KAClB,SAAAhpB,EAAA,IAACipB,GAAO,IAAP,CACC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAC7B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,WAAY,CAAE,SAAU,EAAI,EAE5B,gBAACrB,GACC,CAAA,SAAA,QAAChY,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,SAAA,CAAA,eACxBwY,GAAA,YAAAA,EAAiB,UAAW,aAAe,MAAQ,IAAA,EACjE,EAECtpB,GACEkB,EAAA,IAAAkpB,GAAA,CAAM,SAAS,QAAQ,GAAI,CAAE,GAAI,CAAA,EAC/B,SACHpqB,EAAA,EAGDspB,UACEzY,EAAA,CAAI,GAAI,CAAE,GAAI,CAAE,EACf,SAAA,CAAC1P,EAAAA,KAAA2P,EAAA,CAAW,QAAQ,QAAQ,SAAA,CAAA,WACnBlR,EAAA0pB,EAAgB,cAAhB,YAAA1pB,EAA6B,aAAc,KAAA,EACpD,EACCuB,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAA,cACfjR,EAAAypB,EAAgB,QAAhB,MAAAzpB,EAAuB,QAAU,IAAI,KAAKypB,EAAgB,MAAM,OAAO,EAAE,mBAAA,EAAuB,KAAA,EAC7G,EACCnoB,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAA,eACdhR,EAAAwpB,EAAgB,QAAhB,MAAAxpB,EAAuB,SAAW,IAAI,KAAKwpB,EAAgB,MAAM,QAAQ,EAAE,mBAAA,EAAuB,KAAA,EAChH,CAAA,EACF,EAGFpoB,EAAA,IAACob,GAAA,CACC,QAAQ,YACR,MAAM,UACN,QAASqN,EACT,SAAU1U,GAAW,CAACqU,EACtB,UAAS,GAER,SACCrU,EAAA/T,MAACqb,GAAiB,CAAA,KAAM,GAAI,MAAM,SAAU,CAAA,EAE5C,+BAA8B+M,GAAA,YAAAA,EAAiB,UAAW,aAAe,MAAQ,IAAI,EAAA,CAEzF,EAEAnoB,OAACsnB,IAAO,KAAMW,EAAQ,QAAS,IAAMC,EAAU,EAAK,EAClD,SAAA,CAACnoB,EAAAA,IAAAwnB,IAAY,SAEb,8CAAA,SACCC,GACC,CAAA,SAAA,CAAAznB,EAAA,IAAC2P,EAAA,CACC,GAAI,CACF,QAAS,OACT,eAAgB,SAChB,EAAG,EACH,WAAY,UACZ,aAAc,CAChB,EAEA,SAAA3P,EAAA,IAACmpB,GAAA,CACC,GAAG,UACH,MAAOnB,EACP,KAAM,IACN,MAAM,IACN,cAAe,EAAA,CACjB,CAAA,CACF,EACC/nB,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,GAAI,CAAE,GAAI,EAAG,UAAW,QAAS,EAAG,SAAA,CAAA,8EACawY,GAAA,YAAAA,EAAiB,UAAW,aAAe,MAAQ,KAAK,GAAA,EACrI,CAAA,EACF,SACCT,GACC,CAAA,SAAA,OAACvM,GAAA,CAAO,QAASsN,EAAgB,SAEjC,mBAAA,QACCtN,GAAO,CAAA,QAAS,IAAM+M,EAAU,EAAK,EAAG,SAEzC,QAAA,CAAA,EACF,CAAA,EACF,CAAA,EACF,CAAA,GAEJ,CAEJ,ECxKMiB,GAAiB,IAAM,CACnB3V,KACF,KAAA,CAAE,UAAA4V,GAAcC,KAChB,CAAC1oB,EAAgBC,CAAiB,EAAI3F,WAAS,IAAI,EACnD,CAAC6Y,EAASC,CAAU,EAAI9Y,WAAS,EAAI,EACrC,CAAC4D,EAAOkH,CAAQ,EAAI9K,WAAS,IAAI,EACjC,CAACsV,EAAMC,CAAO,EAAIvV,WAAS,EAAK,EAChC,CAACquB,EAAiBC,CAAkB,EAAItuB,WAAS,IAAI,EACrD,CAACuuB,EAAWC,CAAY,EAAIxuB,WAAS,EAAE,EACvC,CAACyuB,EAAmBC,CAAoB,EAAI1uB,WAAS,CAAC,EACtD,CAAC2uB,EAAWC,CAAY,EAAI5uB,WAAS,CAAC,EACtC,CAAC6uB,EAASC,CAAU,EAAI9uB,WAAS,EAAK,EACtC,CAAC+uB,EAAaC,CAAc,EAAIhvB,WAAS,CAAC,EAC1C,CAACivB,EAAYC,EAAa,EAAIlvB,WAAS,CAAC,EACxC,CAACmvB,GAAUC,EAAW,EAAIpvB,WAAS,EAAE,EACrC,CAACqvB,GAAmBC,EAAoB,EAAItvB,WAAS,EAAK,EAGhE,IAAIuvB,GAAa,EACbC,EAAa,EAEjBjwB,EAAAA,UAAU,IAAM,EACc,SAAY,CACtCuZ,EAAW,EAAI,EACfhO,EAAS,IAAI,EAET,GAAA,CACI,MAAAlG,GAAW,MAAM/E,GAAM,IAAI,2CAAiDsuB,CAAS,EAAE,EAEzFvpB,GAAS,SAAW,IACtBe,EAAkBf,GAAS,IAAI,EAE/BkG,EAAS,kCAAkC,QAEtClH,GAAO,CACN,QAAA,MAAM,kCAAmCA,EAAK,EACtDkH,EAAS,mDAAmD,CAAA,QAC5D,CACAgO,EAAW,EAAK,CAClB,CAAA,IAGkB,EACnB,CAACqV,EAAUU,CAAO,CAAC,EAEtB,MAAMY,GAAiBC,GAAU,CAC/B,QAASpa,EAAO,EAAI,EACpB,UAAWA,EAAO,WAAa,aAC/B,OAAQ,CAAE,QAAS,IAAK,SAAU,EAAG,CAAA,CACtC,EAEKqa,GAAkB,CAACC,EAAS3a,KAAS,CACzCqZ,EAAmBsB,CAAO,EAC1BpB,EAAavZ,EAAI,EACjBM,EAAQ,EAAI,EACZqZ,EAAa,CAAC,CAAA,EAGViB,EAAmB,IAAM,CAC7Bta,EAAQ,EAAK,CAAA,EAGTua,EAAkB,IAAM,CACxBpqB,GAAkBA,EAAe,KAAK,QACxCgpB,EAAsBqB,IAAeA,EAAY,GAAKrqB,EAAe,KAAK,OAAO,MAAM,CACzF,EAGIsqB,EAAkB,IAAM,CACxBtqB,GAAkBA,EAAe,KAAK,QACnBgpB,EAACqB,IAAeA,EAAY,EAAIrqB,EAAe,KAAK,OAAO,QAAUA,EAAe,KAAK,OAAO,MAAM,CAC7H,EAIIuqB,EAAe,IAAM,CACzBrB,EAAcvjB,GAAS,KAAK,IAAIA,EAAO,GAAK,CAAC,CAAC,CAAA,EAG1C6kB,EAAgB,IAAM,CAC1BtB,EAAcvjB,GAAS,KAAK,IAAIA,EAAO,GAAK,CAAC,CAAC,CAAA,EAGhD,GAAIwN,EACK,OAAC/T,EAAA,IAAA4P,GAAW,SAAU,YAAA,CAAA,EAG/B,GAAI9Q,EACK,OAACkB,EAAA,IAAA4P,GAAY,SAAM9Q,CAAA,CAAA,EAG5B,GAAI,CAAC8B,EACI,OAACZ,EAAA,IAAA4P,GAAW,SAA6B,+BAAA,CAAA,EAGlD,KAAM,CAAE,YAAAyb,EAAa,KAAAxnB,EAAM,OAAA8W,EAAQ,KAAA2Q,GAAQ1qB,EAGrC2qB,EAFc,IAAI,KAAKF,EAAY,QAAQ,OACzB,KAElBG,EAAsB,IAAM,CAChCvuB,EAAK,KAAK,CACR,MAAO,gBACP,KAAM,0EACN,KAAM,UACN,iBAAkB,GAClB,mBAAoB,OACpB,kBAAmB,UACnB,kBAAmB,kBACnB,iBAAkB,aAAA,CACnB,EAAE,KAAK,MAAOsB,GAAW,CACxB,GAAIA,EAAO,YACL,GAAA,CAEI,MAAAuB,GAAW,MAAM/E,GAAM,KAAK,mDAAyDswB,EAAY,GAAG,EAAE,EAC5GpuB,EAAK,KAAK,aAAc6C,GAAS,KAAK,QAAS,SAAS,EAC7CkqB,EAAAzjB,GAAQ,CAACA,CAAI,QACjBzH,GAAO,CACd7B,EAAK,KAAK,SAAU6B,GAAM,SAAS,KAAK,SAAW,kDAAmD,OAAO,CAC/G,CACF,CACD,CAAA,EA2EG2sB,EAAuB,SAAY,CACnC,GAAA,EACe,MAAM1wB,GAAM,KAAK,sCAA6C,CAC7E,cAAeswB,EAAY,IAC3B,YAAApB,EACA,WAAAE,EACA,SAAAE,GACA,OAAQ,aAAa,QAAQ,QAAQ,CAAA,CACtC,GAEY,SAAW,MACtBG,GAAqB,EAAI,EACpBvtB,EAAA,KAAK,UAAW,+BAAgC,SAAS,QAElD,CACTA,EAAA,KAAK,QAAS,+CAAgD,OAAO,CAC5E,CAAA,EAGI+T,GAAU,IAAI,KAAKqa,EAAY,QAAQ,EACvCK,GAAmBL,EAAY,YAAc,IAAI,KAAKA,EAAY,WAAW,EAAI,KAGjFM,EAAmB,KAAK,MAAM3a,GAAU,IAAI,OAAW,IAAO,GAAK,GAAK,GAAG,EAGjF,IAAI4a,EAAgBN,EAAK,OAGrB,OAAAI,IAAoBC,GAAoB,IACxBC,EAAA,YAIjB3rB,EAAA,KAAA,MAAI,CAAA,GAAG,eACN,SAAA,CAAAD,MAAC,MAAI,CAAA,UAAU,gBACb,SAAAA,MAAC4B,IAAO,CAAA,EACV,EACC3B,EAAAA,KAAA0P,EAAI,CAAA,EAAG,EACN,SAAA,QAACC,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,MAAO,CAAE,WAAY,OAAQ,UAAW,SAAU,SAAU,YAAc,SAAA,CAAA,kBAE9G5P,EAAA,IAAC2P,EAAA,CACP,UAAU,OACV,GAAI,CACF,SAAU,WACV,OAAQ,EACR,KAAM,MACN,UAAW,mBACX,MAAO,MACP,OAAQ,MACR,gBAAiB,SACnB,CAAA,CACF,CAAA,EACM,SACCmL,EAAA,CAAK,UAAS,GAAC,QAAS,EAKvB,SAAA,CAAA9a,MAAC8a,GAAK,KAAI,GAAC,GAAI,GACvB,gBAACD,GAAM,CAAA,UAAW,EAAG,MAAO,CAAE,QAAS,OAAQ,gBAAiB,UAAW,MAAO,MAAO,EACvF,SAAA,OAACjL,EAAW,CAAA,QAAQ,KAAK,MAAO,CAAE,WAAY,OAAQ,UAAW,SAAU,cAAe,KAAA,EAAS,SAEnG,sBAAA,EAEC3P,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAe,kBAAA,EAAS,IAAEqrB,EAAY,GAAA,EAAI,EAC7EprB,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAa,gBAAA,EAAS,IAAE,IAAI,KAAKqrB,EAAY,YAAY,EAAE,mBAAmB,OAAO,CAAA,EAAE,EAC1HprB,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAc,iBAAA,EAAS,IAAE,IAAI,KAAKqrB,EAAY,QAAQ,EAAE,mBAAmB,OAAO,CAAA,EAAE,EACvHprB,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAe,kBAAA,EAAS,IAAE,IAAI,KAAKqrB,EAAY,SAAS,EAAE,mBAAmB,OAAO,CAAA,EAAE,EACzHprB,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAc,iBAAA,EAAS,WAAA,EAAS,EACnEC,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAe,kBAAA,EAAS,WAAA,EAAS,EACpEC,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAa,gBAAA,EAAS,IAAEqrB,EAAY,SAAA,EAAU,EACjFprB,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAa,gBAAA,EAAS,IAAEqrB,EAAY,YAAA,EAAa,EACpFprB,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAa,gBAAA,EAAS,IAAEqrB,EAAY,SAAS,MAAA,EAAO,EAGvFA,EAAY,eACVprB,OAAA2P,EAAA,CAAW,QAAQ,QAClB,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAsB,yBAAA,EAAS,IAAE,IAAI,KAAKqrB,EAAY,aAAa,EAAE,mBAAmB,OAAO,CAAA,EACzG,EAIDA,EAAY,gBACVprB,OAAA2P,EAAA,CAAW,QAAQ,QAClB,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAuB,0BAAA,EAAS,IAAE,IAAI,KAAKqrB,EAAY,cAAc,EAAE,mBAAmB,OAAO,CAAA,EAC3G,EAGLprB,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,MAAO,CAAE,QAAS,OAAQ,WAAY,QAAS,EAAG,SAAA,CAAA,IACrE5P,EAAAA,IAAA,UAAO,SAAO,UAAA,QACd,OAAA,CAAK,MAAO,CAAE,MAAOqrB,EAAY,SAAW,YAAc,MAAQ,QAAS,WAAY,KAAA,EACrF,WAAY,OACf,EAECA,EAAY,SAAW,YAEpBprB,EAAA,KAAAC,EAAA,SAAA,CAAA,SAAA,CAACF,EAAAA,IAAA6rB,GAAA,CAAW,MAAO,CAAE,MAAO,MAAO,WAAY,MAAO,QAAS,KAAM,CAAA,CAAG,EACxE5rB,OAAC2P,GAAW,QAAQ,QAAQ,MAAO,CAAE,WAAY,KAAM,EACrD,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAe,kBAAA,EAAS,IAAE,IAAI,KAAKqrB,EAAY,WAAW,EAAE,mBAAmB,OAAO,CAAA,EAChG,CAAA,CACF,CAAA,QAGEnrB,EAAAA,SAAA,CAAA,SAACF,EAAA,IAAAya,GAAgB,CAAA,MAAO,CAAE,MAAO,QAAS,WAAY,MAAS,CAAA,EACjE,CAAA,EAEJ,CAAA,CAAA,CACJ,CAAA,CACF,QAGWK,EAAK,CAAA,KAAI,GAAC,GAAI,GACb,gBAACD,GAAM,CAAA,UAAW,EAAG,MAAO,CAAE,QAAS,OAAQ,gBAAiB,UAAW,MAAO,MAAO,EACvF,SAAA,CAAC7a,EAAAA,IAAA4P,EAAA,CAAW,QAAQ,KAAK,MAAO,CAAE,WAAY,OAAQ,UAAW,QAAY,EAAA,SAE7E,gBAAA,EACC+K,EAAO,IAAI,CAACd,EAAO9S,KAAU,CAC5B,IAAI+kB,EAAmB,GACnB,OAAAjS,EAAM,OAAS,SACH4Q,IAAA,EACdqB,EAAmB,SAASrB,EAAU,IAC7B5Q,EAAM,OAAS,UACV6Q,GAAA,EACdoB,EAAmB,SAASpB,CAAU,WAIrC/a,EAAA,CAAgB,GAAI,EAAG,EAAG,EAAG,MAAO,CAAE,OAAQ,iBAAkB,aAAc,MAAO,gBAAiB,WACrG,SAAA,OAACC,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,MAAO,CAAE,WAAY,OAAQ,MAAO,KAAA,EACvE,SACHkc,EAAA,EACC7rB,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAK,QAAA,EAAS,IAAE6Z,EAAM,IAAA,EAAK,EAC9D5Z,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAM,SAAA,EAAS,IAAE6Z,EAAM,KAAA,EAAM,EAChE5Z,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAM,SAAA,EAAS,IAAE6Z,EAAM,KAAA,EAAM,EAChE5Z,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAQ,WAAA,EAAS,IAAE6Z,EAAM,OAAA,EAAQ,EACpE5Z,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAc,iBAAA,EAAS,IAAE,IAAI,KAAK6Z,EAAM,GAAG,EAAE,mBAAmB,OAAO,CAAA,EAAE,EAC5G5Z,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAW,cAAA,EAAS,IAAE6Z,EAAM,SAAA,EAAU,EACzE5Z,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAa,gBAAA,EAAS,IAAE6Z,EAAM,WAAA,EAAY,CAAA,GAVtE9S,EAWV,CAAA,CAEH,CAAA,CAAA,CACH,CAAA,CACF,EAKA/G,EAAAA,IAAC8a,GAAK,KAAI,GAAC,GAAI,GACb,SAAA9a,EAAAA,IAAC+rB,GAAS,IAAT,CACC,SAAC9rB,EAAAA,KAAA4a,IAAM,UAAW,EAAG,MAAO,CAAE,QAAS,OAAQ,gBAAiB,UAAW,MAAO,MAAO,EACvF,SAAA,CAAC7a,EAAAA,IAAA4P,EAAA,CAAW,QAAQ,KAAK,MAAO,CAAE,WAAY,OAAQ,UAAW,QAAY,EAAA,SAAgB,mBAAA,EAE5F/L,EAAK,QAAUA,EAAK,OAAO,OAAS,SAClC8L,EAAA,CAAI,QAAQ,OAAO,cAAc,SAAS,WAAW,SAAS,GAAI,EAAG,GAAI,EACxE,SAAA,CAAA1P,OAAC0P,GAAI,SAAS,WAAW,QAAQ,OAAO,eAAe,SACrD,SAAA,CAAC3P,EAAAA,IAAAob,GAAA,CAAO,QAAS8P,EAAiB,MAAO,CAAE,SAAU,WAAY,KAAM,CAAK,EAAA,SAAI,IAAA,EAChFlrB,EAAA,IAAC2P,EAAA,CACC,UAAU,MACV,IAAK,iCAAuC9L,EAAK,OAAO8lB,CAAiB,CAAC,GAC1E,IAAK,cAAcA,EAAoB,CAAC,GACxC,MAAO,CACL,MAAO,QACP,OAAQ,QACR,aAAc,OACd,OAAQ,UACR,UAAW,OACb,EACA,QAAS,IAAMkB,GAAgBhnB,EAAK,OAAO8lB,CAAiB,EAAG,MAAM,CAAA,CACvE,EACC3pB,EAAAA,IAAAob,GAAO,CAAA,QAAS4P,EAAiB,MAAO,CAAE,SAAU,WAAY,MAAO,CAAK,EAAA,SAAI,IAAA,CAAA,EACnF,EACAhrB,EAAAA,IAAC2P,GAAI,QAAQ,OAAO,cAAc,MAAM,SAAS,OAAO,eAAe,SAAS,GAAI,EACjF,SAAK9L,EAAA,OAAO,IAAI,CAACoE,EAAOlB,WACtB4I,EAAgB,CAAA,GAAI,EAAG,GAAI,EAC1B,SAAA3P,EAAA,IAAC2P,EAAA,CACC,UAAU,MACV,IAAK,iCAAuC1H,CAAK,GACjD,IAAK,kBAAkBlB,GAAQ,CAAC,GAChC,MAAO,CACL,MAAO,OACP,OAAQ,OACR,aAAc,OACd,OAAQ,UACR,QAAS4iB,IAAsB5iB,GAAQ,EAAI,EAC7C,EACA,QAAS,IAAM6iB,EAAqB7iB,EAAK,CAAA,CAAA,GAZnCA,EAcV,CACD,EACH,CAAA,CAAA,CACF,EAEC/G,EAAAA,IAAA4P,EAAA,CAAW,QAAQ,QAAQ,MAAM,gBAAgB,SAAkC,qCAAA,EAErF3P,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAY,eAAA,EAAS,IAAE6D,EAAK,MAAA,EAAO,EACtE5D,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAU,aAAA,EAAS,IAAE6D,EAAK,QAAA,EAAS,EACtE5D,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAc,iBAAA,EAAS,IAAE,IAAI,KAAKqrB,EAAY,QAAQ,EAAE,mBAAmB,OAAO,CAAA,EAAE,EACvHprB,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAe,kBAAA,EAAS,IAAE,IAAI,KAAKqrB,EAAY,SAAS,EAAE,mBAAmB,OAAO,CAAA,EAAE,EACzHprB,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAa,gBAAA,EAAS,OAAKqrB,EAAY,YAAA,EAAa,CAAA,CAC1F,CAAA,CACF,CAAA,EACF,EAGArrB,EAAAA,IAAC8a,GAAK,KAAI,GAAC,GAAI,GACvB,SAAA9a,EAAAA,IAAC+rB,GAAS,IAAT,CACC,SAAC9rB,EAAAA,KAAA4a,IAAM,UAAW,EAAG,MAAO,CAAE,QAAS,OAAQ,gBAAiB,UAAW,MAAO,MAAO,EACvF,SAAA,CAAC7a,EAAAA,IAAA4P,EAAA,CAAW,QAAQ,KAAK,MAAO,CAAE,WAAY,MAAO,EAAG,SAAe,iBAAA,CAAA,EACtE+K,EAAO,IAAI,CAACd,EAAOmS,KACjB/rB,OAAA,MACC,CAAA,SAAA,CAACA,EAAAA,KAAA2P,EAAA,CAAW,QAAQ,KAAK,aAAY,GAAC,MAAO,CAAE,WAAY,MAAO,EAAI,SAAA,CAAMiK,EAAA,KAAK,cAAA,EAAY,EAC5FA,EAAM,eAAiBA,EAAM,cAAc,OAAS,EACnD7Z,EAAA,IAAC2P,EAAoB,CAAA,GAAI,EACvB,SAAA3P,EAAA,IAACwa,GAAA,CACC,IAAKX,EAAM,cACX,IAAK,YAAYA,EAAM,IAAM,CAAC,GAC9B,MAAO,CAAE,MAAO,QAAS,OAAQ,QAAS,OAAQ,SAAU,EAC5D,QAAS,IAAMgR,GAAgBhR,EAAM,cAAe,OAAO,CAAA,CAC7D,CAAA,EANQA,EAAM,GAOhB,EAEC7Z,EAAAA,IAAA4P,GAAW,QAAQ,QAAQ,MAAM,gBAAgB,SAA4C,+CAAA,CAAA,CAZxF,EAAAoc,EA+BV,CACD,CAAA,CACH,CAAA,CACF,CAAA,EACF,QAGClR,EAAK,CAAA,KAAI,GAAC,GAAI,GACH,gBAACD,GAAM,CAAA,UAAW,EAAG,MAAO,CAAE,QAAS,OAAQ,gBAAiB,UAAW,MAAO,MAAO,EACrF,SAAA,OAACjL,EAAW,CAAA,QAAQ,KAAK,MAAO,CAAE,WAAY,OAAQ,UAAW,SAAU,cAAe,KAAA,EAAS,SAEnG,kBAAA,EAEC0b,GAAQ,OAAO,KAAKA,CAAI,EAAE,OAAS,EAE5BrrB,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACD,EAAAA,KAAA2P,EAAA,CAAW,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAe,kBAAA,EAAS,IAAEsrB,EAAK,aAAA,EAAc,EAChFrrB,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAe,kBAAA,EAAS,IAAEsrB,EAAK,SAAA,EAAU,EAC5ErrB,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAY,eAAA,EAAS,IAAEsrB,EAAK,SAAA,EAAU,EAEzErrB,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,MAAO,CAAE,QAAS,OAAQ,WAAY,QAAS,EACvE,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAe,kBAAA,QACtB,OAAA,CAAK,MAAO,CAAE,MAAO4rB,IAAkB,WAAoBA,IAAkB,WAA1B,MAA+C,QAAS,WAAY,OACnH,SACLA,EAAA,EAECA,IAAkB,UACd5rB,EAAA,IAAA6rB,GAAA,CAAW,MAAO,CAAE,MAAO,MAAO,WAAY,MAAO,QAAS,KAAM,CAAG,CAAA,EACxED,IAAkB,WACjB5rB,EAAA,IAAAisB,GAAY,CAAA,MAAO,CAAE,MAAO,MAAO,WAAY,KAAM,CAAA,CAAG,EAExDjsB,EAAAA,IAAAya,GAAA,CAAgB,MAAO,CAAE,MAAO,QAAS,WAAY,KAAA,EAAS,CAAA,EAEvE,CACJ,CAAA,CAAA,EAECza,EAAA,IAAA4P,EAAA,CAAW,QAAQ,QAAQ,MAAO,CAAE,UAAW,QAAA,EAAY,SAA6B,gCAAA,CAAA,CAAA,CAEjG,CAAA,CACJ,EAGP2b,UACEzQ,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,OAAClL,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,MAAO,CAAE,WAAY,OAAQ,UAAW,MAAA,EAAU,SAExF,sBAAA,SACCA,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,UAAS,GAAC,SAAA,CAAA,iFACe,KAAG,EAAA,EAAE,2EAAA,EAEhF,EAGCyb,EAAY,cAAgB,KAGxBrrB,MAAAE,EAAAA,SAAA,CAAA,SAAAmrB,EAAY,SAAW,YACtBrrB,EAAA,IAACob,GAAA,CACC,QAAQ,YACR,MAAO,CAAE,gBAAiB,MAAO,MAAO,QAAS,UAAW,MAAO,EACnE,SAAQ,GACT,SAAA,uBAAA,CAAA,EAIDpb,EAAA,IAACob,GAAA,CACC,QAAQ,YACR,MAAM,YACN,QAASoQ,EACT,MAAO,CAAE,UAAW,MAAO,EAC5B,SAAA,gBAAA,CAAA,EAIL,CAAA,EAEJ,CAAA,EAGI,EAECH,EAAY,eAAiB,CAACd,IAC5BvqB,EAAAA,IAAA8a,GAAK,KAAI,GAAC,GAAI,GACb,SAAC7a,EAAA,KAAA4a,GAAA,CAAM,UAAW,EAAG,MAAO,CAAE,QAAS,OAAQ,gBAAiB,UAAW,MAAO,OAAQ,UAAW,MAAO,EAC1G,SAAA,OAACjL,EAAW,CAAA,QAAQ,KAAK,MAAO,CAAE,WAAY,OAAQ,UAAW,SAAU,aAAc,MAAA,EAAU,SAEnG,wBAAA,EAEC3P,EAAAA,KAAA0P,EAAI,CAAA,GAAI,CAAE,QAAS,OAAQ,cAAe,SAAU,IAAK,CAAE,EAE1D,SAAA,CAAA1P,OAAC0P,EACC,CAAA,SAAA,CAAC3P,EAAAA,IAAA4P,EAAA,CAAW,UAAU,SAAS,MAAO,CAAE,WAAY,OAAQ,aAAc,KAAS,EAAA,SAEnF,eAAA,EACA5P,EAAA,IAACksB,GAAA,CACC,KAAK,eACL,MAAOjC,EACP,SAAU,CAAC9a,EAAOC,KAAa8a,EAAe9a,EAAQ,EACtD,UAAW,GACX,UAAYpP,EAAAA,IAAAmsB,GAAS,CAAA,MAAO,CAAE,QAAS,GAAK,EAAG,SAAS,UAAU,EAClE,KAAK,OAAA,CACP,CAAA,EACF,SAGCxc,EACC,CAAA,SAAA,CAAC3P,EAAAA,IAAA4P,EAAA,CAAW,UAAU,SAAS,MAAO,CAAE,WAAY,OAAQ,aAAc,KAAS,EAAA,SAEnF,cAAA,EACA5P,EAAA,IAACksB,GAAA,CACC,KAAK,cACL,MAAO/B,EACP,SAAU,CAAChb,EAAOC,KAAagb,GAAchb,EAAQ,EACrD,UAAW,GACX,UAAYpP,EAAAA,IAAAmsB,GAAS,CAAA,MAAO,CAAE,QAAS,GAAK,EAAG,SAAS,UAAU,EAClE,KAAK,OAAA,CACP,CAAA,EACF,EAGAnsB,EAAA,IAAC+a,GAAA,CACC,MAAM,sCACN,UAAS,GACT,KAAM,EACN,MAAOsP,GACP,SAAWttB,GAAMutB,GAAYvtB,EAAE,OAAO,KAAK,EAC3C,QAAQ,WACR,UAAS,EAAA,CACX,EAEAiD,EAAA,IAACob,GAAA,CACC,QAAQ,YACR,MAAM,UACN,QAASqQ,EACT,SAAU,CAACxB,GAAe,CAACE,EAC3B,MAAO,CAAE,UAAW,MAAO,EAC5B,SAAA,iBAAA,CAED,CAAA,EACF,CAAA,CAAA,CACF,CAAA,CACF,EAGDI,UACEzP,EAAK,CAAA,KAAI,GAAC,GAAI,GACb,SAAC9a,EAAAA,IAAA6a,GAAA,CAAM,UAAW,EAAG,MAAO,CAAE,QAAS,OAAQ,gBAAiB,UAAW,MAAO,OAAQ,UAAW,MAAO,EAC1G,SAAC7a,EAAA,IAAA4P,EAAA,CAAW,QAAQ,KAAK,MAAO,CAAE,UAAW,SAAU,MAAO,OAAA,EAAW,SAAA,sCAAA,CAEzE,CACF,CAAA,EACF,EAGA5P,EAAA,IAACosB,GAAA,CACH,KAAA5b,EACA,QAASua,EACT,UAAS,GACT,SAAS,KACT,GAAI,CAAE,gBAAiB,aAAc,EAErC,SAAC/qB,EAAA,IAAA+rB,GAAS,IAAT,CAAa,MAAOpB,GACnB,SAAA1qB,EAAA,KAAC0P,EAAA,CACC,GAAI,CACF,QAAS,OACT,cAAe,SACf,WAAY,SACZ,eAAgB,SAChB,OAAQ,QAER,aAAc,MACd,UAAW,GACX,EAAG,CACL,EAEA,SAAA,CAAA3P,EAAA,IAACmnB,GAAW,CAAA,QAAS4D,EAAkB,MAAO,CAAE,SAAU,WAAY,IAAK,GAAI,MAAO,IACpF,SAAA/qB,EAAAA,IAACqS,IAAU,CAAA,EACb,EACCoX,IAAc,QACZxpB,EAAAA,KAAA0P,EAAI,CAAA,QAAQ,OAAO,cAAc,SAAS,WAAW,SAAS,OAAO,OACpE,SAAA,CAAA3P,MAAC4P,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,SAAU,aAAA,EAChD5P,EAAA,IAAC2P,EAAA,CACC,UAAU,MACV,IAAK,iCAAuC4Z,CAAe,GAC3D,IAAI,OACJ,MAAO,CACL,MAAO,GAAGM,EAAY,GAAG,IACzB,OAAQ,OACR,aAAc,OACd,UAAW,OACX,UAAW,SACb,CAAA,CACF,SACCla,EAAI,CAAA,GAAI,EAAG,QAAQ,OAAO,eAAe,SACxC,SAAA,CAAC3P,EAAAA,IAAAmnB,IAAW,QAASgE,EAAc,aAAW,UAC5C,SAACnrB,EAAA,IAAAqsB,KAAW,EACd,EACCrsB,EAAAA,IAAAmnB,IAAW,QAASiE,EAAe,aAAW,WAC7C,SAACprB,EAAA,IAAAssB,KAAY,EACf,CAAA,EACF,CAAA,EACF,EAED7C,IAAc,SACZxpB,EAAAA,KAAA0P,EAAI,CAAA,QAAQ,OAAO,cAAc,SAAS,WAAW,SAAS,OAAO,OACpE,SAAA,CAAA3P,MAAC4P,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,SAAc,iBAAA,EACpD5P,EAAA,IAAC2P,EAAA,CACC,UAAU,MACV,IAAK4Z,EACL,IAAI,iBACJ,MAAO,CACL,MAAO,GAAGM,EAAY,GAAG,IACzB,OAAQ,OACR,aAAc,OACd,UAAW,OACX,UAAW,SACb,CAAA,CACF,SACCla,EAAI,CAAA,GAAI,EAAG,QAAQ,OAAO,eAAe,SACxC,SAAA,CAAC3P,EAAAA,IAAAmnB,IAAW,QAASgE,EAAc,aAAW,UAC5C,SAACnrB,EAAA,IAAAqsB,KAAW,EACd,EACCrsB,EAAAA,IAAAmnB,IAAW,QAASiE,EAAe,aAAW,WAC7C,SAACprB,EAAA,IAAAssB,KAAY,EACf,CAAA,EACF,CAAA,EACF,CAAA,CAAA,CAAA,EAGN,CAAA,CACF,CAAA,EAEE,QAGCxR,EAAK,CAAA,KAAI,GAAC,GAAI,GAEZ,aAAgB,IAAM,CACf,MAAAnE,MAAY,KACZrC,GAAc,IAAI,KAAK+W,EAAY,QAAQ,EAC3C9W,EAAe,IAAI,KAAK8W,EAAY,SAAS,EAKnD,OAF0B1U,GAASrC,IAAeqC,EAAQpC,EAGvDtU,EAAAA,KAAA4a,GAAM,CAAA,UAAW,EAAG,MAAO,CAC1B,QAAS,OACT,gBAAiB,UACjB,MAAO,OACP,UAAW,QAEX,SAAA,CAAC7a,EAAAA,IAAA4P,EAAA,CAAW,QAAQ,KAAK,MAAO,CAC9B,WAAY,OACZ,UAAW,SACX,aAAc,MAAA,EACb,SAEH,oBAAA,EAGEyb,EAAY,SAAW,UAAYA,EAAY,SAAW,aAC1DrrB,EAAA,IAAC2P,GAAI,GAAI,CACP,gBAAiB,OACjB,QAAS,EACT,aAAc,EACd,UAAW,6BAEX,SAAA3P,EAAA,IAAC+nB,GAAA,CACC,cAAesD,EAAY,GAAA,CAC7B,CAAA,CACF,EAEArrB,EAAA,IAACkpB,GAAM,CAAA,SAAS,OAAO,MAAO,CAAE,gBAAiB,MAAA,EAAU,SAE3D,iFAAA,EAIDlpB,EAAAA,IAAA2P,EAAI,CAAA,GAAI,CAAE,GAAI,CAAA,EACb,SAAC1P,EAAA,KAAA2P,EAAA,CAAW,QAAQ,QAAQ,MAAO,CACjC,gBAAiB,OACjB,QAAS,OACT,aAAc,MACd,UAAW,QAEX,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAW,cAAA,SAClB,KAAG,CAAA,MAAO,CAAE,UAAW,QACtB,SAAA,CAACA,EAAAA,IAAA,MAAG,SAA0D,6DAAA,EAC7DA,EAAAA,IAAA,MAAG,SAAwC,2CAAA,EAC3CA,EAAAA,IAAA,MAAG,SAA+C,kDAAA,EAClDA,EAAAA,IAAA,MAAG,SAA6B,gCAAA,QAChC,KACE,CAAA,UAAAqrB,GAAA,YAAAA,EAAa,UAAW,aACrB,kCACA,2CACN,CAAA,EACF,CAAA,CAAA,CACF,CAAA,CACF,EAGArrB,EAAA,IAACkpB,GAAA,CACC,SAAS,UACT,MAAO,CACL,UAAW,OACX,gBAAiB,MACnB,EAEA,SAACjpB,EAAA,KAAA2P,EAAW,CAAA,QAAQ,QAClB,SAAA,CAAC5P,EAAAA,IAAA,UAAO,SAAU,aAAA,EAClBC,OAAC,MAAG,MAAO,CAAE,UAAW,MAAO,aAAc,GAAI,EAC/C,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAiD,oDAAA,EACpDA,EAAAA,IAAA,MAAG,SAA8C,iDAAA,EACjDA,EAAAA,IAAA,MAAG,SAAoC,uCAAA,CAAA,EAC1C,CAAA,EACF,CAAA,CACF,CAAA,CACF,CAAA,EACE,IACN,GAAA,EACF,GACF,CAEJ,ECxvBMusB,GAAiB,IAAM,CAGzB,MAAMtuB,EAASzD,KACTqY,EAAW/F,KACjB,QAAQ,IAAI+F,CAAQ,EAGhB,MAAAlC,GAFUkC,EAAS,OAAS,IAEV,UAAY,GAE5B,QAAA,IAAI,WAAWlC,CAAS,EAChC,KAAM,CAACL,EAAaC,CAAc,EAAIrV,WAAS,CAAC,EAC1C,CAACsV,EAAMC,CAAO,EAAIvV,WAAS,EAAK,EAExByV,EAAU,KAM1B,MAAMkB,EAAW,IAAI,CACnB5T,EAAS,QAAQ,CAAA,EAkBb6T,EAASnB,EAAU,OAAO,IAAcoB,IAAA,CAC5C,IAAK,iCAAuCA,CAAK,EACjD,EAAA,EAEMC,EAAc5K,GAAM,CACxBmJ,EAAenJ,CAAC,EAChBqJ,EAAQ,EAAI,CAAA,EAGRwB,EAAcC,GAAc,CAC5B,IAAAE,EAGJ,MAAMD,EAAcL,EAAO,OAEvBI,IAAc,IAEhBE,EAAiB9B,IAAgB,EAAI6B,EAAc,EAAI7B,EAAc,EAGrE8B,EAAiB9B,IAAgB6B,EAAc,EAAI,EAAI7B,EAAc,EAGvEC,EAAe6B,CAAc,CAAA,gBAI5B,MACC,CAAA,SAAA,CAAApS,MAAC,MAAI,CAAA,UAAU,WACf,SAAAA,MAAC4B,IAAQ,CAAA,EACT,EACC3B,EAAAA,KAAA,MAAI,CAAA,UAAU,iBACZ,SAAA,CACCuQ,GAACvQ,EAAA,KAAA,MAAI,CAAA,UAAU,SACb,SAAA,CAAAD,EAAA,IAACqS,GAAA,CACC,UAAU,QACV,QAAS,IAAM5B,EAAQ,EAAK,EAC5B,MAAO,CAAE,OAAQ,SAAU,CAAA,CAC7B,EACAzQ,EAAA,IAACsS,GAAA,CACC,KAAMC,GACN,UAAU,QACV,QAAS,IAAMN,EAAW,GAAG,CAAA,CAC/B,EACCjS,EAAA,IAAA,MAAA,CAAI,UAAU,gBACb,eAAC,MAAI,CAAA,IAAK8R,EAAOxB,CAAW,EAAE,IAAK,IAAI,GAAG,UAAU,WAAY,CAAA,EAClE,EACAtQ,EAAA,IAACsS,GAAA,CACC,KAAME,GACN,UAAU,QACV,QAAS,IAAMP,EAAW,GAAG,CAAA,CAC/B,CAAA,EACF,EAEDhS,EAAAA,KAAA,MAAI,CAAA,UAAU,eACZ,SAAA,QAAC,SAAO,CAAA,UAAU,UAAW,QAAS4R,EAAY,SAAA,CAAA,yBAAuBlB,EAAU,KAAK,cAAA,EAAY,EACpG3Q,EAAA,IAAA,KAAA,CAAG,UAAU,aAAc,WAAU,SAAS,EAC9CC,EAAAA,KAAA,MAAI,CAAA,UAAU,eACb,SAAA,CAACD,EAAAA,IAAAsS,GAAA,CAAgB,KAAMG,GAAe,EACrCzS,EAAAA,IAAA,QAAK,SAAK,QAAA,CAAA,EACb,QACC,OAAA,CAAK,UAAU,gBAAgB,SAEhC,+CAAA,EACCC,EAAAA,KAAA,OAAK,CAAA,UAAU,sBAAsB,SAAA,CAAA,qBACjB0Q,EAAU,KAAK,+CAAA,EACpC,QACC,MAAA,CAAI,UAAU,cACZ,SAAUA,EAAA,OAAO,IAAI,CAACoB,EAAO3K,IAC3BpH,MAAA,MAAA,CAAI,UAAU,kBACb,SAAAA,EAAA,IAAC,MAAA,CACC,QAAS,IAAMgS,EAAW5K,CAAC,EAC3B,IAAK,iCAAuC2K,CAAK,GACjD,IAAI,GACJ,UAAU,UAAA,CAAA,GALwB3K,CAOtC,CACD,EACH,EACCnH,EAAAA,KAAA,MAAI,CAAA,UAAU,eACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,oBACb,SAAA,OAAC,KAAA,CAAG,UAAU,aAAa,SAAyB,4BAAA,EACnDD,EAAA,IAAA,IAAA,CAAE,UAAU,YACV,WAAU,YACb,EACCA,EAAA,IAAA,MAAA,CAAI,MAAO,CAAE,MAAO,MAAO,SAAU,OAAQ,UAAW,MAC/D,EAAA,eAAC,IAAA,CAAE,+DAAoD,CAAA,EACzD,EACAC,OAAC,OAAI,MAAO,CAAE,SAAU,OAAQ,UAAW,MAAO,EACtD,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAkB,qBAAA,EACtBC,OAAC,MAAG,MAAO,CAAE,cAAe,OAAQ,WAAY,MAAO,EAErD,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAc,iBAAA,EACjBA,EAAAA,IAAA,MAAG,SAA+C,kDAAA,EAClDA,EAAAA,IAAA,MAAG,SAAqC,wCAAA,EACxCA,EAAAA,IAAA,MAAG,SAAU,aAAA,EACbA,EAAAA,IAAA,MAAG,SAAoB,uBAAA,EACvBA,EAAAA,IAAA,MAAG,SAAsB,yBAAA,EACzBA,EAAAA,IAAA,MAAG,SAAY,eAAA,EACfA,EAAAA,IAAA,MAAG,SAAgC,mCAAA,EACnCA,EAAAA,IAAA,MAAG,SAAmB,sBAAA,EACtBA,EAAAA,IAAA,MAAG,SAAmC,sCAAA,CAAA,EACzC,CAAA,EACF,CAAA,EACY,EACCC,EAAAA,KAAA,MAAI,CAAA,UAAU,oBACb,SAAA,CAACD,EAAAA,IAAA,MAAG,SAA2B,8BAAA,EAC9BA,EAAAA,IAAA,QAAK,SAGN,4FAAA,SACC,KACC,CAAA,SAAA,CAAAC,OAAC,IAAE,CAAA,SAAA,CAAA,IAAE0Q,EAAU,IAAA,EAAK,EAAI,cAAA,EAC1B,QACC,SAAA,CAAO,QAASkB,EAAY,SAAoB,uBAAA,CAAA,EACnD,CAAA,EACF,CAAA,EACF,CAAA,EAGF,GACF,CAEJ,ECvKA,SAAS2a,IAAa,CACZ/Y,KACSjZ,GAAY,EAC7B,KAAM,CAACiyB,EAAaC,CAAc,EAAIxxB,EAAA,SAAS,CAAE,CAAA,EAC3C,CAAC2Y,EAAcC,CAAe,EAAI5Y,WAAS,CAAC,EAC5C,CAAC6Y,EAASC,CAAU,EAAI9Y,WAAS,EAAI,EACrC,CAAC4D,EAAOkH,CAAQ,EAAI9K,WAAS,IAAI,EACjC,CAAC+Y,EAAaC,CAAc,EAAIhZ,WAAS,EAAE,EAC3C,CAACyxB,EAAgBC,CAAiB,EAAI1xB,EAAA,SAAS,CAAE,CAAA,EACjD,CAACwc,EAAeC,CAAgB,EAAIzc,WAAS,IAAI,EACjD,CAAC2xB,EAAaC,CAAc,EAAI5xB,WAAS,EAAK,EAC9C,CAAC6xB,EAAWC,CAAY,EAAI9xB,WAAS,EAAK,EAC1C,CAAC+xB,EAAaC,CAAc,EAAIhyB,WAAS,IAAI,EAC7C,CAACiyB,EAAiBC,CAAkB,EAAIlyB,WAAS,IAAI,EACrDmyB,GAAYzwB,SAAO,IAAI,EAEvB0a,GAAY,gBACZC,GAAa,6BACb+V,GAAa,cACb9V,GAAW,sBACXC,GAAmB,iBAEzBhd,EAAAA,UAAU,IAAM,EACW,SAAY,CAC/B,GAAA,CACI,MAAAkS,EAAS,aAAa,QAAQ,QAAQ,EAC5C,GAAI,CAACA,EAAQ,CACX3G,EAAS,eAAe,EACxBgO,EAAW,EAAK,EAChB,MACF,CAEM,MAAAlU,EAAW,MAAM/E,GAAM,IAAI,2CAAiD4R,CAAM,EAAE,EACtF7M,EAAS,SAAW,KACtB4sB,EAAe5sB,EAAS,IAAI,EAC5B8sB,EAAkB9sB,EAAS,IAAI,GAE/BkG,EAAS,8BAA8B,OAE7B,CACZA,EAAS,+CAA+C,CAAA,QACxD,CACAgO,EAAW,EAAK,CAClB,CAAA,IAIJ,EAAG,CAAE,CAAA,EAELvZ,EAAAA,UAAU,IAAM,EACO,IAAM,CACzB,IAAI6U,EAAWmd,EAEXxY,IACS3E,EAAAmd,EAAY,OAAgB5S,GAAA,CAC/B,MAAArF,EAAcP,EAAY,cAChC,OACE4F,EAAM,KAAK,YAAA,EAAc,SAASrF,CAAW,GAC7CqF,EAAM,MAAM,cAAc,SAASrF,CAAW,GAC9CqF,EAAM,MAAM,SAASrF,CAAW,CAAA,CAEnC,GAGHoY,EAAkBtd,CAAQ,CAAA,IAGf,EACZ,CAAC2E,EAAawY,CAAW,CAAC,EAE7Bc,EAAAA,gBAAgB,IAAM,CACpB,MAAMC,EAASH,GAAU,QACzB,GAAI,CAACG,EAAQ,OAEb,IAAIC,EAAc,OAAO,YACrBC,EAAeF,EAAO,aACtBG,EAAiB,OAAO,YACxBC,EAAiB,SAAS,gBAAgB,aAE9C,MAAMnlB,EAAe,IAAM,CACzB,MAAMolB,EAAiB,OAAO,YACxBC,EAAYF,EAAiBD,EAC7BI,GAAmBF,EAAiBC,EACpCE,GAAsB,KAAK,IAAIN,EAAc,KAAK,IAAI,GAAIK,GAAmBL,CAAY,CAAC,EAE5FG,EAAiBJ,EAEZD,EAAA,MAAM,UAAY,0BAA0BQ,EAAmB,OAGtER,EAAO,MAAM,UAAY,gCAEbC,EAAAI,CAAA,EAGVI,EAAe,IAAM,CACzBP,EAAeF,EAAO,aACtBG,EAAiB,OAAO,YACxBC,EAAiB,SAAS,gBAAgB,YAAA,EAG5C,cAAO,iBAAiB,SAAUnlB,EAAc,CAAE,QAAS,GAAM,EAC1D,OAAA,iBAAiB,SAAUwlB,CAAY,EAGjCA,IACAxlB,IAEN,IAAM,CACJ,OAAA,oBAAoB,SAAUA,CAAY,EAC1C,OAAA,oBAAoB,SAAUwlB,CAAY,CAAA,CAErD,EAAG,CAAE,CAAA,EAEC,MAAAxsB,EAAgB1E,GAAM,CACXmX,EAAAnX,EAAE,OAAO,KAAK,CAAA,EAGzBmxB,GAAoBrU,GAAU,CAClClC,EAAiBkC,CAAK,EACtBqT,EAAe,CAAE,GAAGrT,EAAO,OAAQ,CAAA,CAAI,CAAA,EACvCiT,EAAe,EAAI,CAAA,EAGf/B,GAAmB,IAAM,CAC7B+B,EAAe,EAAK,EACpBE,EAAa,EAAK,EAClBrV,EAAiB,IAAI,EACrBuV,EAAe,IAAI,CAAA,EAGfiB,EAAkB,IAAM,CAC5BnB,EAAa,EAAI,CAAA,EAGbzU,EAAgB,CAACxa,EAAMC,IAAU,CACrC,OAAQD,EAAM,CACZ,IAAK,OACH,OAAOuZ,GAAU,KAAKtZ,CAAK,EAAI,GAAK,qCACtC,IAAK,QACH,OAAOuZ,GAAW,KAAKvZ,CAAK,EAAI,GAAK,uBACvC,IAAK,QACH,OAAKsvB,GAAW,KAAKtvB,CAAK,EAGtB,cAAc,KAAKA,CAAK,EACnB,mDAEF,GALE,0CAMX,IAAK,MACH,MAAM2a,EAAW3a,EAAM,MAAM,GAAG,EAAE,CAAC,EACnC,OAAOwZ,GAAS,KAAKmB,CAAQ,EAAI,GAAK,qCACxC,IAAK,cACH,OAAOlB,GAAiB,KAAKzZ,CAAK,EAAI,GAAK,8BAC7C,QACS,MAAA,EACX,CAAA,EAGIyhB,EAAqB1iB,GAAM,CAC/B,KAAM,CAAE,KAAAgB,EAAM,MAAAC,GAAUjB,EAAE,OACpB+B,EAAQyZ,EAAcxa,EAAMC,CAAK,EACvCkvB,EAAwB3mB,IAAA,CACtB,GAAGA,EACH,CAACxI,CAAI,EAAGC,EACR,OAAQ,CACN,GAAGuI,EAAK,OACR,CAACxI,CAAI,EAAGe,CACV,CACA,EAAA,CAAA,EAGEsvB,EAAiB,SAAY,CAEjC,GADkB,OAAO,OAAOnB,EAAY,MAAM,EAAE,KAAKnuB,GAASA,IAAU,EAAE,EAC/D,CACb,QAAQ,MAAM,yCAAyC,EACvD,MACF,CAEI,GAAA,EACe,MAAM/D,GAAM,IAAI,2CAAiDkyB,EAAY,GAAG,GAAIA,CAAW,GACnG,SAAW,KACtBP,EAAejR,GACbA,EAAW,IAAI5B,GAASA,EAAM,MAAQoT,EAAY,IAAMA,EAAcpT,CAAK,CAAA,EAE7EmT,EAAa,EAAK,EAClBrV,EAAiBsV,CAAW,GAE5B,QAAQ,MAAM,wBAAwB,QAEjCnuB,EAAO,CACN,QAAA,MAAM,wBAAyBA,CAAK,CAC9C,CAAA,EAGIuvB,EAAoB,MAAOC,GAAY,CACvC,GAAA,EACa,MAAMrxB,EAAK,KAAK,CAC7B,MAAO,eACP,KAAM,4EACN,KAAM,UACN,iBAAkB,GAClB,mBAAoB,OACpB,kBAAmB,UACnB,kBAAmB,cACnB,iBAAkB,SAClB,eAAgB,EAAA,CACjB,GAEU,cAETA,EAAK,KAAK,CACR,MAAO,iBACP,KAAM,iBACN,kBAAmB,GACnB,QAAS,IAAM,CACbA,EAAK,YAAY,CACnB,CAAA,CACD,GAEgB,MAAMlC,GAAM,OAC3B,2CAAiD2c,EAAc,GAAG,EAAA,GAGvD,SAAW,MAEtBgV,KACEjR,EAAW,UAAgB5B,EAAM,MAAQnC,EAAc,GAAG,CAAA,EAI3CqT,KAGjB,MAAM9tB,EAAK,KAAK,CACd,KAAM,UACN,MAAO,gBACP,KAAM,0CACN,MAAO,KACP,kBAAmB,EAAA,CACpB,UAGE6B,EAAO,CACN,QAAA,MAAM,wBAAyBA,CAAK,EAC5C7B,EAAK,KAAK,CACR,KAAM,QACN,MAAO,gBACP,KAAM,4CACN,mBAAoB,SAAA,CACrB,CACH,CAAA,EAGF,OAAI8W,EAAiB/T,MAAA,MAAA,CAAI,SAAU,aAAA,EAC/BlB,EAAekB,MAAA,MAAA,CAAK,SAAMlB,EAAA,SAG3B,MACC,CAAA,SAAA,CAAAkB,MAAC,MAAI,CAAA,UAAU,gBACb,SAAAA,MAAC4B,IAAO,CAAA,EACV,EAEC3B,EAAAA,KAAA,MAAI,CAAA,UAAU,yBACb,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAY,eAAA,QACf,KAAG,EAAA,EAEHA,EAAAA,IAAA,MAAI,CAAA,UAAU,aACb,SAAAA,EAAA,IAAC,QAAA,CACC,KAAK,OACL,YAAY,kCACZ,MAAOiU,EACP,SAAUxS,CAAA,CAAA,EAEd,EAECkrB,EAAe,SAAW,QACxB,IAAE,CAAA,SAAA,wBAAsB,CAAA,EAEzB3sB,EAAAA,IAAC,KAAG,CAAA,UAAU,oBACX,SAAA2sB,EAAe,MAAM,EAAG9Y,CAAY,EAAE,IAAKgG,GACzC7Z,EAAA,IAAA,KAAA,CAAmB,QAAS,IAAMkuB,GAAiBrU,CAAK,EACvD,gBAAC,MAAA,CAAI,UAAW5F,EAAc,iBAAmB,aAC/C,SAAA,CAAAhU,OAAC,IAAE,CAAA,SAAA,CAACD,EAAAA,IAAA,UAAO,SAAK,QAAA,EAAS,IAAE6Z,EAAM,IAAA,EAAK,SACrC,IAAE,CAAA,SAAA,CAAC7Z,EAAAA,IAAA,UAAO,SAAM,SAAA,EAAS,IAAE6Z,EAAM,KAAA,EAAM,SACvC,IAAE,CAAA,SAAA,CAAC7Z,EAAAA,IAAA,UAAO,SAAM,SAAA,EAAS,IAAE6Z,EAAM,KAAA,EAAM,CAAA,CAAA,CAC1C,CALO,EAAAA,EAAM,GAMf,CACD,EACH,EAGD5Z,EAAAA,KAAA,MAAI,CAAA,UAAU,oBACZ,SAAA,CAAA4T,EAAe8Y,EAAe,QAC5B3sB,EAAA,IAAA,SAAA,CAAO,UAAU,kBAAkB,QAAS,IAAM8T,EAAgBD,EAAe,CAAC,EAAG,SAEtF,WAAA,EAEDA,EAAe,GACb7T,EAAAA,IAAA,SAAO,CAAA,UAAU,kBAAkB,QAAS,IAAM8T,EAAgB,CAAC,EAAG,SAEvE,YAAA,CAAA,EAEJ,CAAA,EAEF,EAEC9T,EAAAA,IAAAosB,IAAM,KAAMS,EAAa,QAAS9B,GACjC,SAAC9qB,EAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,OAACoS,GAAU,CAAA,UAAU,aAAa,QAAS0Y,GAAkB,EAC5DrT,UACE,MACC,CAAA,SAAA,OAAC,KAAA,CAAI,WAAc,KAAK,EACvBqV,SACE,MACC,CAAA,SAAA,CAAA/sB,EAAA,IAAC+a,GAAA,CACC,KAAK,OACL,MAAM,OACN,MAAOkS,EAAY,KACnB,SAAUxN,EACV,UAAS,GACT,OAAO,SACP,MAAO,CAAC,CAACwN,EAAY,OAAO,KAC5B,WAAYA,EAAY,OAAO,IAAA,CACjC,EACAjtB,EAAA,IAAC+a,GAAA,CACC,KAAK,QACL,MAAM,QACN,MAAOkS,EAAY,MACnB,SAAUxN,EACV,UAAS,GACT,OAAO,SACP,MAAO,CAAC,CAACwN,EAAY,OAAO,MAC5B,WAAYA,EAAY,OAAO,KAAA,CACjC,EACAjtB,EAAA,IAAC+a,GAAA,CACC,KAAK,QACL,MAAM,QACN,MAAOkS,EAAY,MACnB,SAAUxN,EACV,UAAS,GACT,OAAO,SACP,MAAO,CAAC,CAACwN,EAAY,OAAO,MAC5B,WAAYA,EAAY,OAAO,KAAA,CACjC,EACAjtB,EAAA,IAAC+a,GAAA,CACC,KAAK,UACL,MAAM,UACN,MAAOkS,EAAY,QACnB,SAAUxN,EACV,UAAS,GACT,OAAO,SACP,UAAS,GACT,KAAM,CAAA,CACR,EACAzf,EAAA,IAAC+a,GAAA,CACC,KAAK,MACL,MAAM,gBACN,KAAK,OACL,MAAOkS,EAAY,IAAI,MAAM,GAAG,EAAE,CAAC,EACnC,SAAUxN,EACV,UAAS,GACT,OAAO,SACP,gBAAiB,CACf,OAAQ,EACV,EACA,MAAO,CAAC,CAACwN,EAAY,OAAO,IAC5B,WAAYA,EAAY,OAAO,GAAA,CACjC,SACCld,GAAA,CAAY,UAAS,GAAC,OAAO,SAC5B,SAAA,CAAC/P,EAAAA,IAAAgQ,IAAW,SAAU,aAAA,EACtB/P,EAAA,KAACgQ,GAAA,CACC,KAAK,YACL,MAAOgd,EAAY,UACnB,SAAUxN,EAEV,SAAA,OAACvP,GAAA,CAAS,MAAM,WAAW,SAAQ,WAAA,QAClCA,GAAA,CAAS,MAAM,iBAAiB,SAAe,kBAAA,QAC/CA,GAAA,CAAS,MAAM,SAAS,SAAM,SAAA,CAAA,CAAA,CACjC,CAAA,EACF,EACAlQ,EAAA,IAAC+a,GAAA,CACC,KAAK,cACL,MAAM,eACN,MAAOkS,EAAY,YACnB,SAAUxN,EACV,UAAS,GACT,OAAO,SACP,MAAO,CAAC,CAACwN,EAAY,OAAO,YAC5B,WAAYA,EAAY,OAAO,WAAA,CACjC,EACAjtB,EAAAA,IAACob,IAAO,QAASgT,EAAgB,QAAQ,YAAY,MAAM,UAAU,SAErE,cAAA,CAAA,GACF,EAECnuB,EAAAA,KAAA,MACC,CAAA,SAAA,CAAAA,OAAC,IAAE,CAAA,SAAA,CAACD,EAAAA,IAAA,UAAO,SAAM,SAAA,EAAS,IAAE0X,EAAc,KAAA,EAAM,SAC/C,IAAE,CAAA,SAAA,CAAC1X,EAAAA,IAAA,UAAO,SAAM,SAAA,EAAS,IAAE0X,EAAc,KAAA,EAAM,SAC/C,IAAE,CAAA,SAAA,CAAC1X,EAAAA,IAAA,UAAO,SAAQ,WAAA,EAAS,IAAE0X,EAAc,OAAA,EAAQ,SACnD,IAAE,CAAA,SAAA,CAAC1X,EAAAA,IAAA,UAAO,SAAc,iBAAA,EAAS,IAAE,IAAI,KAAK0X,EAAc,GAAG,EAAE,mBAAmB,OAAO,CAAA,EAAE,SAC3F,IAAE,CAAA,SAAA,CAAC1X,EAAAA,IAAA,UAAO,SAAW,cAAA,EAAS,IAAE0X,EAAc,SAAA,EAAU,SACxD,IAAE,CAAA,SAAA,CAAC1X,EAAAA,IAAA,UAAO,SAAa,gBAAA,EAAS,IAAE0X,EAAc,WAAA,EAAY,SAC5D,MACC,CAAA,SAAA,CAAC1X,EAAAA,IAAA,UAAO,SAAe,kBAAA,EACtB0X,EAAc,eACb1X,EAAA,IAAC,MAAA,CACC,IAAK,GAAG0X,EAAc,aAAa,GACnC,IAAI,iBACJ,UAAU,yBACV,QAAS,IAAM0V,EAAmB,GAAG1V,EAAc,aAAa,EAAE,CAAA,CACpE,CAAA,EAEJ,EACCzX,EAAAA,KAAA,MAAI,CAAA,UAAU,eACb,SAAA,CAAAD,EAAA,IAACob,GAAA,CACC,QAAS+S,EACT,QAAQ,YACR,MAAM,UACN,gBAAYI,GAAS,EAAA,EACrB,GAAI,CAAE,GAAI,CAAE,EACb,SAAA,MAAA,CAED,EACAvuB,EAAA,IAACob,GAAA,CACC,QAAS,IAAMiT,EAAkB3W,EAAc,GAAG,EAClD,QAAQ,YACR,MAAM,QACN,gBAAY8W,GAAW,EAAA,EACxB,SAAA,QAAA,CAED,CAAA,EACF,CAAA,EACF,CAAA,EAEJ,CAAA,CAAA,CAEJ,CAAA,CACF,EAECrB,GACEntB,EAAA,IAAAosB,GAAM,CAAA,KAAM,CAAC,CAACe,EAAiB,QAAS,IAAMC,EAAmB,IAAI,EACpE,SAACntB,EAAA,KAAA,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAD,MAAC,OAAI,IAAKmtB,EAAiB,IAAI,6BAA6B,UAAU,oBAAoB,EAC1FntB,MAACqS,IAAU,UAAU,aAAa,QAAS,IAAM+a,EAAmB,IAAI,EAAG,CAAA,CAAA,CAC7E,CAAA,CACF,QAED,MAAI,CAAA,UAAU,SACf,SAAAptB,MAACgM,IAAM,CAAA,EACT,GACA,CAGJ,CCndA,MAAMyiB,GAAe,IACO,aAAa,QAAQ,OAAO,EAE1BzuB,EAAAA,IAAA0uB,GAAA,EAAO,EAAM1uB,MAAA2uB,GAAA,CAAS,GAAG,SAAU,CAAA,ECE3DC,GAAS,CAAC,CAAE,KAAA7qB,EAAM,QAAA8qB,EAAS,UAAAC,EAAY,MAAS,CAC9C,MAAAC,EAAenyB,SAAO,IAAI,EAC1BD,EAAWC,SAAO,IAAI,EACtBoyB,EAAcpyB,SAAO,IAAI,EACzBqyB,EAAWryB,SAAO,IAAI,EACtBsyB,EAAYtyB,SAAO,IAAI,EACvBuyB,EAAcvyB,SAAO,IAAI,EACzBwyB,EAAYxyB,SAAO,CAAA,CAAE,EACrByyB,EAAUzyB,EAAAA,OAAO,CACrB,WAAY,GACZ,cAAe,KACf,MAAO,IAAI0yB,GACX,UAAW,IAAIC,GACf,MAAO,IAAIC,GACX,aAAc,IAAIC,EAAc,CACjC,EAEK,CAACC,EAAWC,CAAY,EAAIz0B,WAAS,EAAI,EACzC,CAAC4D,EAAOkH,CAAQ,EAAI9K,WAAS,IAAI,EACjC,CAAC00B,EAASC,CAAU,EAAI30B,WAAS,CAAC,CACtC,GAAG6I,EACH,SAAU,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC9B,MAAO,EACP,SAAU,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,CAAE,CAC9B,CAAA,CAAC,EACI,CAAC+rB,EAAgBC,CAAiB,EAAI70B,EAAA,SAC1C4zB,EAAU,OAAmBkB,GAAAA,EAAS,KAAOjsB,EAAK,EAAE,GAAK,CAAC,CAAA,EAEtD,CAACksB,EAAkBC,CAAmB,EAAIh1B,WAAS,EAAK,EACxD,CAACi1B,EAAmBC,EAAoB,EAAIl1B,WAAS,CAAC,EAG/B0B,EAAAA,OAAO,IAAI,EAGrB1B,EAAAA,SAAS,IAAM,CAChC,MAAMm1B,EAAK,UAAU,UACd,MAAA,iEAAiE,KAAKA,CAAE,CAAA,CAChF,EAGK,MAAAC,GAAY,CAACvsB,EAAMgD,IAAU,CAC3B,MAAAwpB,EAAS,IAAIC,GACbC,EAAY1sB,EAAK,SAAW,oBAE3BwsB,EAAA,KACLE,EACCC,GAAS,CACR,MAAMC,EAAQD,EAAK,MAGbE,GAAY,IAAIC,GAGtBF,EAAM,SAAS,IAAI,EAAG,EAAG,CAAC,EAC1BC,GAAU,SAAS,IACjB7sB,EAAK,SAAS,EACdA,EAAK,SAAS,EACdA,EAAK,SAAS,CAAA,EAEN6sB,GAAA,MAAM,UAAU7sB,EAAK,KAAK,EAGpC6sB,GAAU,IAAID,CAAK,EAGnB,MAAMG,GAAQC,GAAYhtB,EAAK,KAAM4sB,CAAW,EAIhD,GAHAC,GAAU,IAAIE,EAAK,EAGf7B,EAAS,QAAS,CAChBG,EAAU,QAAQroB,CAAK,GACzBkoB,EAAS,QAAQ,OAAOG,EAAU,QAAQroB,CAAK,CAAC,EAEzCkoB,EAAA,QAAQ,IAAI2B,EAAS,EACpBxB,EAAA,QAAQroB,CAAK,EAAI6pB,GAG3B,MAAMI,EAAc,IAAM,CACpBF,IAAS5B,EAAU,SACf4B,GAAA,OAAO5B,EAAU,QAAQ,QAAQ,CACzC,EAII+B,EAAU,IAAM,CACpB,sBAAsBA,CAAO,EACjBD,GAAA,EAENC,GACV,CACF,EACA,OACCnyB,GAAU,CACD,QAAA,MAAM,uBAAwBA,CAAK,CAC7C,CAAA,CACF,EAIIoyB,GAAsB/hB,GAAU,CAChC,GAAA,CAAC+f,EAAU,QAAS,OAExB,MAAMiC,EAAehiB,EAAM,6BACtBgiB,GAGD,KAAK,IAAIA,EAAa,CAAC,EAAI,KAC7BjC,EAAU,QAAQ,SAAS,GAAKiC,EAAa,EAAI,KACjDjC,EAAU,QAAQ,SAAS,EAAIkC,GAAgB,MAC7ClC,EAAU,QAAQ,SAAS,EAC3B,EACA,EAAA,EAIFE,EAAU,QAAQ,QAAQ,CAACwB,EAAW7pB,IAAU,CAC9C,GAAI6pB,EAAW,CAEP,MAAAS,EAAQ,EAAK,EADFnC,EAAU,QAAQ,SAAS,WAAW0B,EAAU,QAAQ,EAEzEA,EAAU,MAAM,UAAUS,EAAQzB,EAAQ7oB,CAAK,EAAE,KAAK,CACxD,CAAA,CACD,EACH,EAIFtM,EAAAA,UAAU,MACU,IAAM,CAEhB,MAAA62B,EAAQ,IAAIC,GAClBtC,EAAS,QAAUqC,EAGb,MAAAE,EAAS,IAAIC,GACjB,GACA,OAAO,WAAa,OAAO,YAC3B,GACA,GAAA,EAEFD,EAAO,SAAS,EAAI,EACpBtC,EAAU,QAAUsC,EAGd,MAAAE,EAAW,IAAIC,GAAoB,CACvC,MAAO,GACP,UAAW,EAAA,CACZ,EACDD,EAAS,QAAQ,OAAO,WAAY,OAAO,WAAW,EAC7CA,EAAA,cAAc,EAAU,CAAC,EACzBA,EAAA,cAAc,OAAO,gBAAgB,EAC9C1C,EAAY,QAAU0C,EAGtB,MAAME,EAAe,IAAIC,GAAmB,SAAU,EAAG,EACzDP,EAAM,IAAIM,CAAY,EAEtB,MAAME,EAAmB,IAAIC,GAAuB,SAAU,EAAG,EACjED,EAAiB,SAAS,IAAI,GAAI,GAAI,CAAC,EACvCR,EAAM,IAAIQ,CAAgB,EAG1B,MAAME,GAAW,IAAIC,GAAcT,EAAQE,EAAS,UAAU,EAY9D,GAXAM,GAAS,cAAgB,GACzBA,GAAS,cAAgB,IACzBA,GAAS,YAAc,EACvBA,GAAS,YAAc,GACvBA,GAAS,UAAY,GACrBA,GAAS,SAAW,GACpBA,GAAS,YAAc,GACvBA,GAAS,WAAa,GACtB7C,EAAY,QAAU6C,GAGlBjD,EAAa,QAAS,CACxB,MAAMpvB,EAAS+xB,EAAS,WACxB/xB,EAAO,MAAM,SAAW,WACxBA,EAAO,MAAM,IAAM,IACnBA,EAAO,MAAM,KAAO,IACpBA,EAAO,MAAM,OAAS,IACTovB,EAAA,QAAQ,YAAYpvB,CAAM,CACzC,CAGU2wB,GAAAV,EAAQ,CAAC,EAAG,CAAC,EAGvB,MAAM3B,GAAe,IAAM,CACzB,MAAMiE,EAAQ,OAAO,WACfC,GAAS,OAAO,YAEtBX,EAAO,OAASU,EAAQC,GACxBX,EAAO,uBAAuB,EAErBE,EAAA,QAAQQ,EAAOC,EAAM,CAAA,EAEzB,OAAA,iBAAiB,SAAUlE,EAAY,EAG9C,MAAMgD,EAAU,IAAM,CACpB,sBAAsBA,CAAO,EAEzB9B,EAAY,SACdA,EAAY,QAAQ,SAGbuC,EAAA,OAAOJ,EAAOE,CAAM,CAAA,EAEvBP,IAGR,MAAMtxB,EAAS+xB,EAAS,WACjB,OAAA/xB,EAAA,iBAAiB,YAAayyB,EAAe,EAC7CzyB,EAAA,iBAAiB,YAAa0yB,CAAe,EAC7C1yB,EAAA,iBAAiB,UAAW2yB,CAAa,EACzC3yB,EAAA,iBAAiB,aAAc2yB,CAAa,EAG5C3yB,EAAA,iBAAiB,aAAc4yB,CAAgB,EAC/C5yB,EAAA,iBAAiB,YAAa6yB,CAAe,EAC7C7yB,EAAA,iBAAiB,WAAY8yB,CAAc,EAC3C9yB,EAAA,iBAAiB,cAAe8yB,CAAc,EAGjD,OAAO,mBACF,OAAA,iBAAiB,eAAgBvB,EAAkB,EAIrD,IAAM,CACJ,OAAA,oBAAoB,SAAUjD,EAAY,EAC1C,OAAA,oBAAoB,eAAgBiD,EAAkB,EACtDvxB,EAAA,oBAAoB,YAAayyB,EAAe,EAChDzyB,EAAA,oBAAoB,YAAa0yB,CAAe,EAChD1yB,EAAA,oBAAoB,UAAW2yB,CAAa,EAC5C3yB,EAAA,oBAAoB,aAAc2yB,CAAa,EAC/C3yB,EAAA,oBAAoB,aAAc4yB,CAAgB,EAClD5yB,EAAA,oBAAoB,YAAa6yB,CAAe,EAChD7yB,EAAA,oBAAoB,WAAY8yB,CAAc,EAC9C9yB,EAAA,oBAAoB,cAAe8yB,CAAc,EACxDT,GAAS,QAAQ,CAAA,CACnB,KAKK,IAAM,CAIX,GAHIhD,EAAY,SACdA,EAAY,QAAQ,UAElBC,EAAS,QACX,KAAMA,EAAS,QAAQ,SAAS,OAAS,GACvCA,EAAS,QAAQ,OAAOA,EAAS,QAAQ,SAAS,CAAC,CAAC,EAGpDE,EAAY,SACdA,EAAY,QAAQ,SACtB,GAED,CAAE,CAAA,EAGL10B,EAAAA,UAAU,IAAM,CACd,MAAMi4B,EAAa,SAAY,CACzB,GAAA,CACF/C,EAAa,EAAI,EACjB3pB,EAAS,IAAI,EAEP,MAAA2sB,EAAQ,SAAS,cAAc,OAAO,EACtCA,EAAA,aAAa,WAAY,EAAE,EAC3BA,EAAA,aAAa,QAAS,EAAE,EACxBA,EAAA,aAAa,cAAe,EAAE,EACpCA,EAAM,MAAM,MAAQ,OACpBA,EAAM,MAAM,OAAS,OACrBA,EAAM,MAAM,UAAY,QAExBh2B,EAAS,QAAUg2B,EACf5D,EAAa,SACFA,EAAA,QAAQ,YAAY4D,CAAK,EAOxC,MAAMC,EAAc,CAClB,MAJe,4BAA4B,KAAK,UAAU,SAAS,EAKjE,CAAE,WAAY,CAAE,MAAO,cAAgB,EACvC,CAAE,MAAO,CAAE,MAAO,IAAA,EAAQ,OAAQ,CAAE,MAAO,KAAO,CAAA,EAGhDzzB,EAAS,MAAM,UAAU,aAAa,aAAayzB,CAAW,EACpED,EAAM,UAAYxzB,EAEZ,MAAA,IAAI,QAASC,GAAY,CAC7BuzB,EAAM,iBAAmB,IAAM,CACvBA,EAAA,KAAA,EAAO,KAAKvzB,CAAO,CAAA,CAC3B,CACD,EAEDuwB,EAAa,EAAK,QAEXzyB,EAAK,CACJ,QAAA,MAAM,gBAAiBA,CAAG,EAGlCD,EAAK,KAAK,CACR,KAAM,QACN,MAAO,yBACP,KAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAWN,kBAAmB,YACnB,iBAAkB,GAClB,iBAAkB,OAAA,CACnB,EAAE,KAAMsB,GAAW,CACdA,EAAO,YACTm0B,IAEQ7D,GACV,CACD,CACH,CAAA,EAGF6D,OAAAA,IAEO,IAAM,QACPh0B,EAAA/B,EAAS,UAAT,MAAA+B,EAAkB,WACX/B,EAAA,QAAQ,UAAU,UAAU,EAAE,QAAiBsC,GAAAA,EAAM,MAAM,CACtE,CACF,EACC,CAAC4vB,CAAO,CAAC,EAGZ,MAAMgE,GAAc,IAAM,CACxB7sB,EAAS,IAAI,EACb2pB,EAAa,EAAI,EACN,YAAA,EAIPmD,GAAe9C,GAAa,CAEhC,MAAM+C,EAAYnD,EAAQ,OACpBoD,EAAU,EACVC,EAAM,KAAK,MAAMF,EAAY,CAAC,EAC9BG,EAAMH,EAAY,EAElBI,EAAU,CACZ,GAAGnD,EACH,SAAU,CACV,EAAGkD,EAAMF,EAAUA,EAAQ,EAC3B,EAAG,EACH,EAAG,GAAMC,EAAMD,CACjB,EACA,MAAO,EACP,SAAU,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,CAAE,CAAA,EAG/BnD,EAAmBtpB,IAAA,CAAC,GAAGA,GAAM4sB,CAAO,CAAC,EACnBpD,EAAAxpB,IAAQA,GAAK,OAAOxC,IAAQA,GAAK,KAAOisB,EAAS,EAAE,CAAC,EACtEE,EAAoB,EAAK,EAGfI,GAAA6C,EAASvD,EAAQ,MAAM,CAAA,EAI7BmB,GAAc,CAAC5sB,EAAMwsB,EAAO5sB,IAAS,CACnC,MAAApE,EAAS,SAAS,cAAc,QAAQ,EACxCyzB,EAAUzzB,EAAO,WAAW,IAAI,EACtCA,EAAO,MAAQ,IACfA,EAAO,OAAS,IAGhByzB,EAAQ,UAAY,sBACpBC,EAAUD,EAAS,EAAG,EAAGzzB,EAAO,MAAOA,EAAO,OAAQ,EAAE,EACxDyzB,EAAQ,KAAK,EAGbA,EAAQ,UAAY,SACpBA,EAAQ,aAAe,SAGvBA,EAAQ,KAAO,kBACfA,EAAQ,UAAY,UACpBA,EAAQ,SAASjvB,EAAMxE,EAAO,MAAM,EAAG,EAAE,EAGzCyzB,EAAQ,KAAO,aACO,CACpB,gBACA,eACA,aACA,UAAA,EAIY,QAAQ,CAAC/rB,GAAMN,IAAU,CACrCqsB,EAAQ,SAAS/rB,GAAM1H,EAAO,MAAM,EAAG,IAAOoH,EAAQ,EAAG,CAAA,CAC1D,EAGD,MAAMusB,GAAU,IAAIC,GAAoB5zB,CAAM,EACxC6zB,GAAW,IAAIC,GAAqB,CACxC,IAAKH,GACL,YAAa,GACb,QAAS,GAAA,CACV,EACKI,EAAS,IAAIC,GAAaH,EAAQ,EAGlCI,EAAW,IAAIC,GAAW,EAAE,cAAclD,CAAK,EAC/CmD,EAAcF,EAAS,IAAI,EAAIA,EAAS,IAAI,EAClD,OAAAF,EAAO,SAAS,IAAI,EAAGI,EAAc,EAAG,CAAC,EACzCJ,EAAO,MAAM,IAAI,IAAK,KAAM,CAAC,EAEtBA,CAAA,EAIT,SAASL,EAAUxK,EAAKkL,EAAGC,EAAG9B,EAAOC,EAAQ8B,EAAQ,CACnDpL,EAAI,UAAU,EACVA,EAAA,OAAOkL,EAAIE,EAAQD,CAAC,EACxBnL,EAAI,OAAOkL,EAAI7B,EAAQ+B,EAAQD,CAAC,EAChCnL,EAAI,iBAAiBkL,EAAI7B,EAAO8B,EAAGD,EAAI7B,EAAO8B,EAAIC,CAAM,EACxDpL,EAAI,OAAOkL,EAAI7B,EAAO8B,EAAI7B,EAAS8B,CAAM,EACrCpL,EAAA,iBAAiBkL,EAAI7B,EAAO8B,EAAI7B,EAAQ4B,EAAI7B,EAAQ+B,EAAQD,EAAI7B,CAAM,EAC1EtJ,EAAI,OAAOkL,EAAIE,EAAQD,EAAI7B,CAAM,EACjCtJ,EAAI,iBAAiBkL,EAAGC,EAAI7B,EAAQ4B,EAAGC,EAAI7B,EAAS8B,CAAM,EACtDpL,EAAA,OAAOkL,EAAGC,EAAIC,CAAM,EACxBpL,EAAI,iBAAiBkL,EAAGC,EAAGD,EAAIE,EAAQD,CAAC,EACxCnL,EAAI,UAAU,CAChB,CAGM,MAAAqL,GAAaC,GAAW,CACxB,GAAA/E,EAAU,QAAQe,CAAiB,EAAG,CACxC,MAAMiE,EAAehF,EAAU,QAAQe,CAAiB,EAAE,MAAM,EAC1DkE,EAAW,KAAK,IAAI,GAAK,KAAK,IAAI,EAAGD,EAAeD,CAAM,CAAC,EACjE/E,EAAU,QAAQe,CAAiB,EAAE,MAAM,UAAUkE,CAAQ,EAE/DxE,EAAmBtpB,GAAA,CACX,MAAA+tB,EAAW,CAAC,GAAG/tB,CAAI,EACzB,OAAA+tB,EAASnE,CAAiB,EAAI,CAC1B,GAAGmE,EAASnE,CAAiB,EAC7B,MAAOkE,CAAA,EAEJC,CAAA,CACR,CACD,CAAA,EAIIlC,GAAmBjjB,GAAU,CACjCA,EAAM,eAAe,EAEf,MAAAolB,EAAOplB,EAAM,OAAO,sBAAsB,EAC1C4kB,GAAM5kB,EAAM,QAAUolB,EAAK,MAAQA,EAAK,MAAS,EAAI,EACrDP,EAAI,GAAG7kB,EAAM,QAAUolB,EAAK,KAAOA,EAAK,QAAU,EAAI,EAE5DlF,EAAQ,QAAQ,MAAM,IAAI0E,EAAGC,CAAC,EAC9B3E,EAAQ,QAAQ,UAAU,cAAcA,EAAQ,QAAQ,MAAOH,EAAU,OAAO,EAG1E,MAAAsF,EAAanF,EAAQ,QAAQ,UAAU,iBAC3CD,EAAU,QAAQ,OAAO,OAAO,EAChC,EAAA,EAGE,GAAAoF,EAAW,OAAS,EAAG,CAErB,IAAA5D,EAAY4D,EAAW,CAAC,EAAE,OAC9B,KAAO5D,EAAU,QAAU,CAACxB,EAAU,QAAQ,SAASwB,CAAS,GAC9DA,EAAYA,EAAU,OAIpBzB,EAAY,UACdA,EAAY,QAAQ,QAAU,IAGhCE,EAAQ,QAAQ,WAAa,GAC7BA,EAAQ,QAAQ,cAAgBuB,EAG1B,MAAA6D,GAAkB,IAAIhF,GAClBP,EAAA,QAAQ,kBAAkBuF,EAAe,EACnDpF,EAAQ,QAAQ,MAAM,8BACpBoF,GACA7D,EAAU,QAAA,CAEd,CAAA,EAGIyB,EAAmBljB,GAAU,CACjC,GAAI,CAACkgB,EAAQ,QAAQ,YAAc,CAACA,EAAQ,QAAQ,cAAe,OAE7D,MAAAkF,EAAOplB,EAAM,OAAO,sBAAsB,EAC1C4kB,GAAM5kB,EAAM,QAAUolB,EAAK,MAAQA,EAAK,MAAS,EAAI,EACrDP,EAAI,GAAG7kB,EAAM,QAAUolB,EAAK,KAAOA,EAAK,QAAU,EAAI,EAMxD,GAJJlF,EAAQ,QAAQ,MAAM,IAAI0E,EAAGC,CAAC,EAC9B3E,EAAQ,QAAQ,UAAU,cAAcA,EAAQ,QAAQ,MAAOH,EAAU,OAAO,EAG5EG,EAAQ,QAAQ,UAAU,IAAI,eAChCA,EAAQ,QAAQ,MAChBA,EAAQ,QAAQ,YAAA,EACf,CAEDA,EAAQ,QAAQ,cAAc,SAAS,KAAKA,EAAQ,QAAQ,YAAY,EAGxE,MAAMqF,EAAatF,EAAU,QAAQ,QAAQC,EAAQ,QAAQ,aAAa,EACtEqF,IAAe,IACjB7E,EAAmBtpB,GAAA,CACX,MAAA+tB,GAAW,CAAC,GAAG/tB,CAAI,EACzB,OAAA+tB,GAASI,CAAU,EAAI,CACrB,GAAGJ,GAASI,CAAU,EACtB,SAAU,CACR,EAAGrF,EAAQ,QAAQ,aAAa,EAChC,EAAGA,EAAQ,QAAQ,aAAa,EAChC,EAAGA,EAAQ,QAAQ,aAAa,CAClC,CAAA,EAECiF,EAAA,CACR,CAED,CAAA,EAGIhC,EAAgB,IAAM,CAC1BjD,EAAQ,QAAQ,WAAa,GAC7BA,EAAQ,QAAQ,cAAgB,KAG5BF,EAAY,UACdA,EAAY,QAAQ,QAAU,GAChC,EAGIoD,EAAoBpjB,GAAU,CAClCA,EAAM,eAAe,EACf,MAAAwlB,EAAQxlB,EAAM,QAAQ,CAAC,EACbijB,GAAA,CACd,eAAgB,IAAM,CAAC,EACvB,QAASuC,EAAM,QACf,QAASA,EAAM,QACf,OAAQxlB,EAAM,MAAA,CACf,CAAA,EAGGqjB,EAAmBrjB,GAAU,CAC3B,MAAAwlB,EAAQxlB,EAAM,QAAQ,CAAC,EACbkjB,EAAA,CACd,QAASsC,EAAM,QACf,QAASA,EAAM,QACf,OAAQxlB,EAAM,MAAA,CACf,CAAA,EAGGsjB,EAAiBH,EAuBjBsC,EAAgC,SAAY,CAC5C,GAAA,CACE,OAAO,kBAAsB,KAC7B,OAAO,kBAAkB,mBAAsB,WAC9B,MAAM,kBAAkB,sBACxB,WACV,OAAA,iBAAiB,eAAgB1D,EAAkB,EAIrD,OAAA,iBAAiB,eAAgBA,EAAkB,QAErDpyB,EAAO,CACN,QAAA,MAAM,6CAA8CA,CAAK,CACnE,CAAA,EAIFrE,EAAAA,UAAU,KACsBm6B,IAEvB,IAAM,CACJ,OAAA,oBAAoB,eAAgB1D,EAAkB,CAAA,GAE9D,CAAE,CAAA,EAGL,MAAM2D,EAAmB,IAChB/F,EAAU,OAAS,EAItBgG,EAAe,IACnB70B,OAAC,MAAI,CAAA,UAAU,mBAAmB,MAAO,CACvC,SAAU,QACV,IAAK,MACL,KAAM,MACN,UAAW,wBACX,gBAAiB,QACjB,aAAc,OACd,QAAS,OACT,UAAW,6BACX,SAAU,MACV,MAAO,QACP,UAAW,OACX,UAAW,OACX,OAAQ,IAER,EAAA,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,iBAAiB,MAAO,CACrC,QAAS,OACT,eAAgB,gBAChB,WAAY,SACZ,aAAc,OACd,aAAc,iBACd,cAAe,MAEf,EAAA,SAAA,CAACD,EAAAA,IAAA,KAAA,CAAG,MAAO,CAAE,SAAU,OAAQ,WAAY,KAAA,EAAS,SAAsB,wBAAA,CAAA,EAC1EA,EAAA,IAAC,SAAA,CACC,QAAS,IAAMkwB,EAAoB,EAAK,EACxC,MAAO,CACL,WAAY,OACZ,OAAQ,OACR,SAAU,OACV,OAAQ,UACR,MAAO,MACT,EAEA,eAACppB,GAAQ,EAAA,CAAA,CACX,CAAA,EACF,EAEC9G,EAAAA,IAAA,MAAA,CAAI,UAAU,gBAAgB,MAAO,CACpC,QAAS,OACT,IAAK,MAAA,EAEJ,SAAe8vB,EAAA,SAAW,EACzB9vB,MAAC,OAAI,MAAO,CACV,QAAS,OACT,UAAW,SACX,MAAO,OACP,gBAAiB,UACjB,aAAc,MAAA,EACb,SAAA,2CAEH,EAEA8vB,EAAe,IACbE,GAAA/vB,EAAA,KAAC,MAAA,CAEC,UAAU,eACV,QAAS,IAAM6yB,GAAY9C,CAAQ,EACnC,MAAO,CACL,QAAS,OACT,cAAe,SACf,QAAS,OACT,gBAAiB,UACjB,aAAc,OACd,OAAQ,UACR,WAAY,gBACZ,SAAU,CACR,UAAW,mBACX,UAAW,2BACb,CACF,EAEA,SAAA,CAAC/vB,EAAAA,KAAA,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,WAAY,SAAU,aAAc,MAAA,EACjE,SAAA,CAAAD,EAAA,IAAC,MAAA,CACC,IAAKgwB,EAAS,OAAS,2BACvB,IAAKA,EAAS,KACd,MAAO,CACL,MAAO,OACP,OAAQ,OACR,UAAW,QACX,aAAc,MACd,YAAa,MACf,CAAA,CACF,SACC,MAAI,CAAA,MAAO,CAAE,KAAM,CAClB,EAAA,SAAA,CAAAhwB,MAAC,OAAI,MAAO,CACV,WAAY,MACZ,aAAc,KAAA,EACZ,WAAS,KAAK,EAClBC,OAAC,OAAI,MAAO,CACV,MAAO,UACP,WAAY,KACX,EAAA,SAAA,CAAA,IAAE+vB,EAAS,MAAM,QAAQ,CAAC,CAAA,EAAE,CAAA,EACjC,EACAhwB,MAAC+0B,IAAO,MAAO,CACb,MAAO,UACP,WAAY,MAAA,EACX,CAAA,EACL,EAGA/0B,MAAC,OAAI,MAAO,CACV,gBAAiB,OACjB,QAAS,OACT,aAAc,MACd,UAAW,KACb,EACE,SAACC,EAAA,KAAA,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,oBAAqB,iBAAkB,IAAK,KAAA,EACzE,SAAA,CAAAA,EAAA,KAAC,MAAI,CAAA,MAAO,CAAE,MAAO,MACnB,EAAA,SAAA,CAAAD,MAAC,QAAK,MAAO,CAAE,WAAY,OAAS,SAAS,YAAA,EAAO,IAAEgwB,EAAS,UAAY,KAAA,EAC7E,SACC,MAAI,CAAA,MAAO,CAAE,MAAO,MACnB,EAAA,SAAA,CAAAhwB,MAAC,QAAK,MAAO,CAAE,WAAY,OAAS,SAAQ,WAAA,EAAO,IAAEgwB,EAAS,SAAW,MAAM,GAAA,EACjF,SACC,MAAI,CAAA,MAAO,CAAE,MAAO,MACnB,EAAA,SAAA,CAAAhwB,MAAC,QAAK,MAAO,CAAE,WAAY,OAAS,SAAM,SAAA,EAAO,IAAEgwB,EAAS,OAAS,MAAM,GAAA,EAC7E,SACC,MAAI,CAAA,MAAO,CAAE,MAAO,MACnB,EAAA,SAAA,CAAAhwB,MAAC,QAAK,MAAO,CAAE,WAAY,OAAS,SAAI,OAAA,EAAO,IAAEgwB,EAAS,KAAO,MAAM,GAAA,EACzE,CAAA,CAAA,CACF,CACF,CAAA,CAAA,CAAA,EAlEKA,EAAS,EAoEjB,CAAA,EAEL,CACF,CAAA,CAAA,EAGFv1B,OAAAA,EAAAA,UAAU,IAAM,CACN,QAAA,IAAI,mBAAoBq1B,CAAc,EACtC,QAAA,IAAI,cAAehB,CAAS,CAAA,EACnC,CAACgB,EAAgBhB,CAAS,CAAC,EAG5B7uB,EAAA,KAAC,MAAI,CAAA,UAAU,oBACb,SAAA,CAAAD,EAAAA,IAAC,UAAO,UAAU,eAAe,QAAS6uB,EACxC,SAAA7uB,EAAA,IAAC8G,KAAQ,CACX,CAAA,EAEA9G,EAAAA,IAAC,MAAI,CAAA,UAAU,qBAAqB,IAAK+uB,EACvC,SAAC/uB,EAAAA,IAAA,SAAA,CAAO,UAAU,WAAA,CAAY,CAChC,CAAA,EAEC0vB,GACCzvB,EAAA,KAAC,MAAI,CAAA,UAAU,qBACb,SAAA,CAACD,EAAAA,IAAA,MAAA,CAAI,UAAU,YAAa,CAAA,EAC5BA,EAAAA,IAAC,KAAE,SAAuB,yBAAA,CAAA,CAAA,EAC5B,EAGDlB,GACCmB,EAAA,KAAC,MAAI,CAAA,UAAU,WACb,SAAA,CAAAD,EAAAA,IAAC,KAAG,SAAMlB,CAAA,CAAA,EACVmB,EAAAA,KAAC,MAAI,CAAA,UAAU,mBACb,SAAA,CAAAD,MAAC,SAAO,CAAA,QAAS6yB,GAAa,UAAU,YAAY,SAEpD,YAAA,QACC,SAAO,CAAA,QAAShE,EAAS,UAAU,YAAY,SAEhD,gBAAA,CAAA,EACF,CAAA,EACF,EAGD,CAACa,GAAa,CAAC5wB,GAGXmB,EAAA,KAAAC,EAAA,SAAA,CAAA,SAAA,CAAiB20B,KAAK/E,EAAe,OAAS,GAC7C7vB,EAAA,KAAC,SAAA,CACC,QAAS,IAAMiwB,EAAoB,CAACD,CAAgB,EACpD,MAAO,CACL,SAAU,QACV,OAAQ,QACR,KAAM,MACN,UAAW,mBACX,gBAAiB,UACjB,MAAO,QACP,QAAS,YACT,aAAc,OACd,OAAQ,OACR,UAAW,4BACX,OAAQ,UACR,QAAS,OACT,WAAY,SACZ,IAAK,MACL,SAAU,OACV,WAAY,MACZ,OAAQ,IACR,MAAO,OACP,SAAU,QACV,eAAgB,QAClB,EAEA,SAAA,CAAAjwB,EAAA,IAAC+0B,GAAO,EAAA,EAAE,oBAAkBjF,EAAe,OAAO,aAAA,CAAA,CACpD,QAID,MAAI,CAAA,UAAU,cACb,SAAC7vB,EAAA,KAAA,MAAA,CAAI,UAAU,mBACb,SAAA,CAACD,EAAAA,IAAA,SAAA,CAAO,UAAU,iBAAiB,QAAS,IAAMk0B,GAAU,GAAG,EAC7D,SAACl0B,EAAAA,IAAA+0B,GAAA,CAAA,CAAO,CACV,CAAA,EACA/0B,EAAAA,IAAC,SAAO,CAAA,UAAU,iBAAiB,QAAS,IAAMk0B,GAAU,EAAG,EAC7D,SAACl0B,EAAAA,IAAAg1B,GAAA,CAAA,CAAQ,CACX,CAAA,CAAA,CAAA,CACF,CACF,CAAA,EAEC/E,SAAqB6E,EAAa,EAAA,CAAA,EACrC,EAGF70B,EAAAA,KAAC,MAAI,CAAA,UAAU,kBACb,SAAA,CAAAD,EAAAA,IAAC,KAAE,SAAqC,uCAAA,CAAA,EACxCA,EAAAA,IAAC,KAAE,SAA0B,4BAAA,CAAA,EAC7BA,EAAAA,IAAC,KAAE,SAA8B,gCAAA,CAAA,EACjCA,EAAAA,IAAC,KAAE,SAAuC,yCAAA,CAAA,EACzC60B,EAAiB,GAAK/E,EAAe,OAAS,GAC5C9vB,EAAAA,IAAA,IAAA,CAAE,MAAO,CAAE,MAAO,UAAW,WAAY,MAAA,EAAU,SAEpD,2CAAA,CAAA,EAEJ,CACF,CAAA,CAAA,CAEJ,EC/0BMi1B,GAAc,CAAC,CAAE,UAAAC,KAAgB,CACrC,KAAM,CAACpG,EAAWqG,CAAY,EAAIj6B,EAAA,SAAS,CAAE,CAAA,EACvC,CAACk6B,EAAYC,CAAa,EAAIn6B,EAAA,SAAS,CAAE,CAAA,EACzC,CAACo6B,EAAkBC,CAAmB,EAAIr6B,WAAS,KAAK,EACxD,CAACs6B,EAAYC,CAAa,EAAIv6B,WAAS,EAAE,EACzC,CAAC6Y,EAASC,CAAU,EAAI9Y,WAAS,EAAI,EACrC,CAAC4D,EAAOkH,CAAQ,EAAI9K,WAAS,IAAI,EACjC6G,EAAQ,aAAa,QAAQ,OAAO,EACpC,CAAC2zB,EAAUC,CAAW,EAAIz6B,WAAS,IAAI,EACvC,CAAC06B,EAAeC,CAAgB,EAAI36B,WAAS,EAAK,EAClD,CAAC46B,EAAkBC,CAAmB,EAAI76B,WAAS,IAAI,EACbA,EAAAA,SAAS,EAAK,EACdA,EAAAA,SAAS,IAAI,EACxC0B,EAAAA,OAAO,IAAI,EAChC,KAAM,CAACo5B,EAAQC,CAAS,EAAI/6B,WAAS,EAAK,EACpC,CAACg7B,GAAgBC,EAAiB,EAAIj7B,WAAS,IAAI,EACnD,CAACk7B,GAAgBC,EAAiB,EAAIn7B,WAAS,EAAK,EACpD,CAACo7B,GAAeC,EAAgB,EAAIr7B,WAAS,EAAK,EAClD,CAACs7B,EAAkBC,EAAmB,EAAIv7B,WAAS,IAAI,EACvDw7B,GAAgB95B,SAAO,IAAI,EAEjCnC,EAAAA,UAAU,IAAM,EACI,SAAY,CACxB,GAAA,CACFuZ,EAAW,EAAI,EACfhO,EAAS,IAAI,EAEP,MAAA2wB,EAAe,MAAM57B,GAAM,IAAI,iDAAuD,EAC/Eo6B,EAAA,MAAM,QAAQwB,EAAa,IAAI,EAAIA,EAAa,KAAO,CAAA,CAAE,EAC9D,QAAA,IAAI,eAAeA,EAAa,IAAI,EAEtC,MAAAC,EAAmB,MAAM77B,GAAM,IAAI,mDAAyD,EACpFs6B,EAAA,MAAM,QAAQuB,EAAiB,IAAI,EAAIA,EAAiB,KAAO,CAAA,CAAE,QAExE15B,EAAK,CACJ,QAAA,MAAM,uBAAwBA,CAAG,EACzC8I,EAAS,mDAAmD,EAC5DmvB,EAAa,CAAE,CAAA,EACfE,EAAc,CAAE,CAAA,CAAA,QAChB,CACArhB,EAAW,EAAK,CAClB,CAAA,IAIJ,EAAG,CAAE,CAAA,EAEC,MAAA6iB,EAAgB,MAAM,QAAQ/H,CAAS,EAAIA,EAAU,OAAe/qB,GAAA,CACxE,MAAM+yB,EAAkBxB,IAAqB,OAASvxB,EAAK,WAAauxB,EAClEyB,EAAgBhzB,EAAK,KAAK,YAAY,EAAE,SAASyxB,EAAW,YAAA,CAAa,GAC1DzxB,EAAK,YAAY,cAAc,SAASyxB,EAAW,aAAa,EACrF,OAAOsB,GAAmBC,CAC3B,CAAA,EAAI,CAAA,EAECC,EAAqB,IAAM,CAC3B,GAAA,CACIj1B,MAAAA,EAAQ,aAAa,QAAQ,OAAO,EACtC,OAACA,EAEWod,GAAUpd,CAAK,EAChB,IAHI,WAIZjD,EAAO,CACN,eAAA,MAAM,wBAAyBA,CAAK,EACrC,IACT,CAAA,EAGIm4B,EAAkB,MAAOlzB,GAAS,SAClC,GAAA,CACF,MAAM4I,EAASqqB,IAEf,GAAI,CAACrqB,EAAQ,CACX1P,EAAK,KAAK,CACR,KAAM,QACN,MAAO,0BACP,KAAM,oCACN,kBAAmB,GACnB,SAAU,QAAA,CACX,EACD,MACF,CAEA,MAAMi6B,EAAW,CACf,UAAWnzB,EAAK,KAChB,MAAOA,EAAK,MACZ,OAAQA,EAAK,QAAU,EACvB,MAAOA,EAAK,MACZ,SAAU,EACV,SAAUA,EAAK,MACf,WAAYA,EAAK,IACjB,kBAAmBA,EAAK,mBAAqB,IAC7C,OAAA4I,EACA,oBAAqB,EAAA,GAKN,MAAM5R,GAAM,KAC3B,iDACAm8B,CAAA,GAIW,KAAK,SAChBj6B,EAAK,KAAK,CACR,KAAM,UACN,MAAO,iBACP,KAAM,GAAG8G,EAAK,IAAI,+BAClB,kBAAmB,GACnB,MAAO,KACP,SAAU,UACV,MAAO,GACP,WAAY,UACZ,MAAO,OACP,YAAa,CACX,MAAO,eACT,CAAA,CACD,QAEIjF,EAAO,CACN,QAAA,MAAM,wBAAyBA,CAAK,EAE5C7B,EAAK,KAAK,CACR,KAAM,QACN,MAAO,UACP,OAAM6B,GAAAA,EAAAA,EAAM,WAANA,YAAAA,EAAgB,OAAhBA,YAAAA,EAAsB,UAAW,6BACvC,kBAAmB,GACnB,SAAU,SACV,WAAY,OACZ,mBAAoB,SAAA,CACrB,CACH,CAAA,EAGIq4B,EAAkB,MAAO16B,EAAQ26B,IAAW,SAC5C,GAAA,CACI,MAAAn0B,EAAQ,IAAIC,GAAmBk0B,CAAM,EACrCzG,GAAQ1tB,EAAM,mBAAmB,CAAE,MAAO,wBAAyB,EAErE,GAAA,CAmBI,MAAAsS,GAJW,MAdF,MAAMob,GAAM,gBAAgB,CACzC,SAAU,CAAC,CACT,MAAO,CAAC,CACN,KAAMl0B,CAAAA,CACP,CAAA,CACF,EACD,iBAAkB,CAChB,YAAa,GACb,KAAM,GACN,KAAM,IACN,gBAAiB,IACnB,CAAA,CACD,GAE6B,UACR,OAInB,QAAQ,qBAAsB,EAAE,EAChC,QAAQ,aAAc,EAAE,EAEvB,GAAA,CACK,OAAA,KAAK,MAAM8Y,CAAS,QACpB8hB,GAAY,CACX,cAAA,MAAM,oBAAqBA,EAAU,EACvC,IAAI,MAAM,qCAAqC,CACvD,QACOv4B,GAAO,CACVA,IAAAA,EAAAA,GAAM,UAANA,MAAAA,EAAe,SAAS,eAAgBA,EAAAA,GAAM,UAANA,MAAAA,EAAe,SAAS,OAAQ,CAC1E,QAAQ,IAAI,4BAA4B,EAiBlC,MAAAw4B,IADmB,MAdF,MADDr0B,EAAM,mBAAmB,CAAE,MAAO,aAAc,EAC3B,gBAAgB,CACzD,SAAU,CAAC,CACT,MAAO,CAAC,CACN,KAAMxG,CAAAA,CACP,CAAA,CACF,EACD,iBAAkB,CAChB,YAAa,GACb,KAAM,GACN,KAAM,IACN,gBAAiB,IACnB,CAAA,CACD,GAE6C,UACR,KAAA,EACnC,QAAQ,qBAAsB,EAAE,EAChC,QAAQ,aAAc,EAAE,EAEpB,OAAA,KAAK,MAAM66B,EAAY,CAChC,CACMx4B,MAAAA,EACR,QACOA,EAAO,CACN,cAAA,MAAM,oBAAqBA,CAAK,EAClCA,CACR,CAAA,EAGIy4B,EAAc,MAAOC,GAAa,CACtC3B,EAAiB,EAAI,EACrBE,EAAoByB,CAAQ,EACxB,GAAA,CACI/6B,MAAAA,EAAS,oEAAoE+6B,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SA4BrFC,EAAiB,0CAKjBl5B,EAAS,MAAM44B,EAAgB16B,EAAQg7B,CAAc,EAC3D9B,EAAYp3B,CAAM,QACXO,EAAO,CACN,QAAA,MAAM,mCAAoCA,CAAK,EACvD7B,EAAK,KAAK,CACR,KAAM,QACN,MAAO,6BACP,KAAM,uEACN,OAA8C,IAAA,CAC/C,CAAA,QACD,CACA44B,EAAiB,EAAK,CACxB,CAAA,EAGI6B,EAAmB,IAAM,CAC7B/B,EAAY,IAAI,EAChBI,EAAoB,IAAI,CAAA,EAGpB4B,EAAY,CAAC,CAAE,KAAAtwB,EAAM,QAAAwnB,EAAS,SAAA2I,KAC7BnwB,QAGF,MAAI,CAAA,UAAU,kBACb,SAACpH,EAAA,KAAA,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAD,EAAA,IAAC,SAAA,CACC,QAAS6uB,EACT,UAAU,6EAEV,SAAC7uB,EAAAA,IAAA8G,GAAQ,CAAA,KAAM,GAAI,CAAA,CACrB,EAEC7G,EAAAA,KAAA,MAAI,CAAA,UAAU,gCACb,SAAA,CAACD,EAAAA,IAAA43B,GAAA,CAAiB,UAAU,wCAAwC,QACnE,KAAA,CAAG,UAAU,wCAAyC,SAASJ,EAAA,QAC/D,KAAA,CAAG,UAAU,sCAAsC,SAAgB,mBAAA,CAAA,EACtE,EAECv3B,EAAAA,KAAA,MAAI,CAAA,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,mBACb,SAAA,CAACD,EAAAA,IAAA43B,GAAA,CAAiB,UAAU,wCAAwC,QACnE,KAAA,CAAG,UAAU,mCAAmC,SAAgB,mBAAA,CAAA,EACnE,EAEC33B,EAAAA,KAAA,UAAQ,CAAA,UAAU,8BACjB,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,iBACb,SAAA,CAACD,EAAAA,IAAA63B,GAAA,CAAgB,UAAU,6BAA6B,EACvD73B,EAAAA,IAAA,MAAG,SAAgB,mBAAA,CAAA,EACtB,QACC,MAAI,CAAA,UAAU,OACb,SAACC,EAAA,KAAA,IAAA,CAAE,UAAU,gBACX,SAAA,OAAC,OAAA,CAAK,UAAU,cAAc,SAAQ,WAAA,EAAO,IAAEoH,EAAK,OAAO,cAAS,KAAE,EAAA,QACrE,OAAA,CAAK,UAAU,cAAc,SAAO,UAAA,EAAO,IAAEA,EAAK,OAAO,aAAQ,KAAE,EAAA,QACnE,OAAA,CAAK,UAAU,cAAc,SAAQ,WAAA,EAAO,IAAEA,EAAK,OAAO,OAAA,CAAA,CAC7D,CAAA,CACF,CAAA,EACF,EAECpH,EAAAA,KAAA,UAAQ,CAAA,UAAU,mCACjB,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,iBACb,SAAA,CAACD,EAAAA,IAAA83B,GAAA,CAAS,UAAU,8BAA8B,EACjD93B,EAAAA,IAAA,MAAG,SAAW,cAAA,CAAA,EACjB,EACCC,EAAAA,KAAA,MAAI,CAAA,UAAU,iCACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,OAAC,KAAA,CAAG,UAAU,iCAAiC,SAAiB,oBAAA,QAC/D,KAAG,CAAA,UAAU,gDACX,SAAAoH,EAAK,YAAY,gBAAgB,IAAI,CAAC0wB,EAAK7wB,IACzClH,EAAA,IAAA,KAAA,CAAc,SAAN+3B,CAAA,EAAA7wB,CAAU,CACpB,EACH,CAAA,EACF,SACC,MACC,CAAA,SAAA,OAAC,KAAA,CAAG,UAAU,iCAAiC,SAAe,kBAAA,QAC7D,KAAG,CAAA,UAAU,gDACX,SAAAG,EAAK,YAAY,eAAe,IAAI,CAAC2wB,EAAO9wB,IAC1ClH,EAAA,IAAA,KAAA,CAAc,SAANg4B,CAAA,EAAA9wB,CAAY,CACtB,EACH,CAAA,EACF,CAAA,EACF,CAAA,EACF,EAECjH,EAAAA,KAAA,UAAQ,CAAA,UAAU,iCACjB,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,iBACb,SAAA,CAACD,EAAAA,IAAAi4B,GAAA,CAAY,UAAU,+BAA+B,EACrDj4B,EAAAA,IAAA,MAAG,SAAe,kBAAA,CAAA,EACrB,EACCC,EAAAA,KAAA,MAAI,CAAA,UAAU,iCACb,SAAA,CAAAD,EAAAA,IAAC,OAAI,UAAU,oCACb,SAACC,EAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,IAAA,CAAE,UAAU,gBAAgB,SAAA,OAAC,OAAA,CAAK,UAAU,cAAc,SAAS,YAAA,EAAO,IAAEoH,EAAK,UAAU,QAAA,EAAS,EACpGpH,EAAAA,KAAA,IAAE,CAAA,UAAU,gBAAgB,SAAA,OAAC,OAAA,CAAK,UAAU,cAAc,SAAQ,WAAA,EAAO,IAAEoH,EAAK,UAAU,OAAA,EAAQ,EAClGpH,EAAAA,KAAA,IAAE,CAAA,UAAU,gBAAgB,SAAA,OAAC,OAAA,CAAK,UAAU,cAAc,SAAM,SAAA,EAAO,IAAEoH,EAAK,UAAU,KAAA,EAAM,EAC9FpH,EAAAA,KAAA,IAAE,CAAA,UAAU,gBAAgB,SAAA,OAAC,OAAA,CAAK,UAAU,cAAc,SAAK,QAAA,EAAO,IAAEoH,EAAK,UAAU,IAAA,EAAK,CAAA,CAAA,CAC/F,CAAA,CACF,SACC,MACC,CAAA,SAAA,OAAC,KAAA,CAAG,UAAU,iCAAiC,SAAoB,uBAAA,QAClE,KAAG,CAAA,UAAU,gDACX,SAAAA,EAAK,UAAU,SAAS,IAAI,CAAC6wB,EAAShxB,IACpClH,EAAA,IAAA,KAAA,CAAc,SAANk4B,CAAA,EAAAhxB,CAAc,CACxB,EACH,CAAA,EACF,CAAA,EACF,CAAA,EACF,EAECjH,EAAAA,KAAA,UAAQ,CAAA,UAAU,+BACjB,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,iBACb,SAAA,CAACD,EAAAA,IAAAm4B,GAAA,CAAa,UAAU,+BAA+B,EACtDn4B,EAAAA,IAAA,MAAG,SAAmB,sBAAA,CAAA,EACzB,EACCC,EAAAA,KAAA,MAAI,CAAA,UAAU,OACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,4BACZ,SAAA,CAAAoH,EAAK,YAAY,cACfpH,EAAA,KAAA,OAAA,CAAK,UAAU,iGACd,SAAA,CAAAD,EAAA,IAACo4B,GAAO,EAAA,EAAE,aAAA,EACZ,EAED/wB,EAAK,YAAY,SACfpH,EAAA,KAAA,OAAA,CAAK,UAAU,iGACd,SAAA,CAAAD,EAAA,IAACo4B,GAAO,EAAA,EAAE,QAAA,EACZ,EAED/wB,EAAK,YAAY,cACfpH,EAAA,KAAA,OAAA,CAAK,UAAU,+FACd,SAAA,CAAAD,EAAA,IAACq4B,GAAO,EAAA,EAAE,cAAA,EACZ,CAAA,EAEJ,EACChxB,EAAK,YAAY,UAAU,OAAS,UAClC,MAAA,CAAI,UAAU,OACb,SAAA,CAACpH,EAAAA,KAAA,MAAA,CAAI,UAAU,+CACb,SAAA,CAAAD,EAAA,IAACs4B,GAAsB,EAAA,QACtB,KAAA,CAAG,UAAU,cAAc,SAAU,aAAA,CAAA,EACxC,EACCt4B,EAAAA,IAAA,KAAE,UAAU,gBAAiB,WAAK,YAAY,UAAU,KAAK,IAAI,CAAA,CAAE,CAAA,EACtE,CAAA,EAEJ,CAAA,EACF,CAAA,EACF,CAAA,CACF,CAAA,CACF,CAAA,EA5HgB,KAyNdu4B,EAAiB,MAAOx0B,GAAS,CAEjC,GAAA,CAACA,EAAK,MAAO,CACf9G,EAAK,KAAK,CACR,KAAM,QACN,MAAO,oBACP,KAAM,8CACN,kBAAmB,GACnB,SAAU,QAAA,CACX,EACD,MACF,CAEAo5B,GAAkB,EAAI,EAElB,GAAA,CAQFF,GAAkB,CAAC,GAAGpyB,EAAM,UANV,mBAMoB,CAAA,EACtCkyB,EAAU,EAAI,QACPn3B,EAAO,CACN,QAAA,MAAM,2BAA4BA,CAAK,EAC/C7B,EAAK,KAAK,CACR,KAAM,QACN,MAAO,iBACP,KAAM,kDACN,kBAAmB,GACnB,SAAU,QAAA,CACX,CAAA,QACD,CACAo5B,GAAkB,EAAK,CACzB,CAAA,EAGImC,EAAwB,MAAOrpB,GAAU,CAC7C,MAAM4F,EAAO5F,EAAM,OAAO,MAAM,CAAC,EACjC,GAAK4F,EAEL,CAAAwhB,GAAiB,EAAI,EACrBE,GAAoB,IAAI,EACxBhB,EAAc,EAAE,EAEZ,GAAA,CACM,MAAA/3B,EAAW,IAAI,SACZA,EAAA,OAAO,QAASqX,CAAI,EAEvB,MAAAjV,EAAW,MAAM/E,GAAM,KACzB,6DACA2C,EACA,CACI,QAAS,CACL,eAAgB,qBACpB,CACJ,CAAA,EAGA,GAAAoC,EAAS,KAAK,QAAS,CAEjB,MAAA24B,EAAiB34B,EAAS,KAAK,SAAS,MAAM,GAAG,EAAE,CAAC,EAAE,OAGtD44B,GAAgB5J,EAAU,WAC5BkB,GAAS,KAAK,YAAY,EAAE,SAASyI,EAAe,YAAa,CAAA,GACjEzI,GAAS,YAAY,YAAA,EAAc,SAASyI,EAAe,aAAa,CAAA,EAGpE,QAAA,IAAI,mBAAoBA,CAAc,EACtC,QAAA,IAAI,wBAAyBC,GAAc,MAAM,EAErDA,GAAc,SAAW,EACzBjC,GAAoB,8BAA8B,GAElDhB,EAAcgD,CAAc,EAG5Bx7B,EAAK,KAAK,CACN,KAAM,UACN,MAAO,mBACP,KAAM,cAAcw7B,CAAc,8BAClC,MAAO,IACP,kBAAmB,EAAA,CACtB,EACL,KAEM,OAAA,IAAI,MAAM,oBAAoB,QAEnC35B,EAAO,CACJ,QAAA,MAAM,0BAA2BA,CAAK,EAC9C23B,GAAoB,6CAA6C,EAEjEx5B,EAAK,KAAK,CACN,KAAM,QACN,MAAO,qBACP,KAAM,+DACN,kBAAmB,EAAA,CACtB,CAAA,QACH,CACEs5B,GAAiB,EAAK,EAClBG,GAAc,UACdA,GAAc,QAAQ,MAAQ,GAEtC,EAAA,EAGF,OAAI3iB,EAEC9T,EAAA,KAAA,MAAI,CAAA,UAAU,oBACb,SAAA,CAACD,EAAAA,IAAA,MAAA,CAAI,UAAU,kBAAkB,EAChCA,EAAAA,IAAA,KAAE,SAAe,kBAAA,GACpB,EAIAlB,EAECmB,EAAA,KAAA,MAAI,CAAA,UAAU,kBACb,SAAA,OAAC,IAAA,CAAE,UAAU,gBAAiB,SAAMnB,EAAA,EACpCkB,MAAC,UAAO,QAAS,IAAM,OAAO,SAAS,OAAO,EAAG,SAEjD,YAAA,GACF,SAKD,MACC,CAAA,SAAA,CAACA,EAAAA,IAAA,MAAA,CAAI,UAAU,UACb,SAAAA,EAAA,IAAC4B,IAAO,MAAM,oBAAoB,SAAS,uBAAA,CAAwB,EACrE,EAGC,CAACG,GACC/B,EAAA,IAAA,MAAA,CAAI,UAAU,sBACb,SAACC,EAAAA,KAAA,MAAI,CAAA,UAAU,iBACb,SAAA,CAACD,EAAAA,IAAA24B,GAAA,CAAe,UAAU,cAAc,SACvC,IAAE,CAAA,SAAA,CAAA,gBAAQ,IAAA,CAAE,KAAK,UAAU,SAAK,QAAA,EAAI,4BAAA,EAA0B,CAAA,CAAA,CACjE,CAAA,CACF,EAGD14B,EAAAA,KAAA,MAAI,CAAA,UAAU,eACb,SAAA,CAAAD,EAAAA,IAAC,OAAI,UAAU,cACb,SAACC,EAAA,KAAA,MAAA,CAAI,UAAU,iBACb,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAQ,WAAA,EACXA,EAAAA,IAAA,KAAE,SAAgC,mCAAA,CAAA,CAAA,CACrC,CAAA,CACF,EAECC,EAAAA,KAAA,MAAI,CAAA,UAAU,iBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,wBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,uBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,aACb,SAAA,CAAAD,EAAA,IAAC44B,GAAS,EAAA,EACV54B,EAAA,IAAC,QAAA,CACC,KAAK,OACL,YAAY,iBACZ,MAAOw1B,EACP,SAAWz4B,GAAM04B,EAAc14B,EAAE,OAAO,KAAK,CAAA,CAC/C,CAAA,EACF,EAECkD,EAAAA,KAAA,MAAI,CAAA,UAAU,oBACb,SAAA,CAAAD,EAAA,IAAC,QAAA,CACC,KAAK,OACL,OAAO,UACP,SAAUw4B,EACV,UAAU,SACV,IAAK9B,GACL,GAAG,uBAAA,CACL,EACA12B,EAAA,IAAC,SAAA,CACC,QAAS,IAAM,OAAA,OAAAtB,EAAAg4B,GAAc,UAAd,YAAAh4B,EAAuB,SACtC,UAAU,wBACV,SAAU43B,GACV,MAAM,4BAEL,YACEt2B,MAAA64B,GAAA,CAAU,UAAU,cAAe,CAAA,QAEnCC,GAAS,EAAA,CAAA,CAEd,CAAA,EACF,CAAA,EACF,EAECtC,SACE,MAAI,CAAA,UAAU,4BACZ,SACHA,EAAA,EAGDv2B,EAAAA,KAAA,MAAI,CAAA,UAAU,kBACb,SAAA,CAAAD,EAAA,IAAC,SAAA,CACC,UAAWs1B,IAAqB,MAAQ,SAAW,GACnD,QAAS,IAAMC,EAAoB,KAAK,EACzC,SAAA,KAAA,CAED,EACCH,EAAW,IACVtxB,GAAA9D,EAAA,IAAC,SAAA,CAEC,UAAWs1B,IAAqBxxB,EAAW,SAAW,GACtD,QAAS,IAAMyxB,EAAoBzxB,CAAQ,EAE1C,SAAAA,CAAA,EAJIA,CAAA,CAMR,CAAA,EACH,CAAA,EACF,QAEC,MAAA,CAAI,UAAU,kBACZ,SAAc+yB,EAAA,OAAS,EACtBA,EAAc,IAAI9yB,GACf9D,EAAA,KAAA,MAAA,CAAmB,UAAU,YAC5B,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,qBACb,SAAA,CAAAD,EAAA,IAAC,MAAA,CACC,IAAK+D,EAAK,MACV,IAAKA,EAAK,KACV,UAAU,aACV,QAAUhH,GAAM,CACdA,EAAE,OAAO,IAAM,yBACjB,CAAA,CACF,EACCiD,EAAA,IAAA,MAAA,CAAI,UAAU,sBACZ,WAAK,WAAa,MAChBA,EAAA,IAAA,MAAA,CAAI,UAAU,WACb,SAACA,MAAAo4B,GAAA,CAAO,MAAO,CAAE,MAAO,OAAA,CAAW,CAAA,EACrC,EAECp4B,EAAA,IAAA,MAAA,CAAI,UAAU,eACb,SAAAA,EAAAA,IAACq4B,GAAO,CAAA,MAAO,CAAE,MAAO,MAAS,CAAA,CACnC,CAAA,EAEJ,CAAA,EACF,EACCp4B,EAAAA,KAAA,MAAI,CAAA,UAAU,eACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,cACb,SAAA,OAAC,KAAA,CAAI,WAAK,KAAK,EACdA,EAAAA,KAAA,MAAI,CAAA,UAAU,eACb,SAAA,CAAAD,EAAA,IAAC,SAAA,CACC,QAAS,IAAMu3B,EAAYxzB,EAAK,IAAI,EACpC,UAAU,WACV,SAAU6xB,EAET,WACE51B,MAAA64B,GAAA,CAAU,UAAU,cAAe,CAAA,QAEnCE,GAAa,EAAA,CAAA,CAElB,EACA/4B,EAAA,IAAC,SAAA,CACC,QAAS,IAAMu4B,EAAex0B,CAAI,EAClC,UAAU,SACV,SAAUqyB,GAET,YACEp2B,MAAA64B,GAAA,CAAU,UAAU,cAAe,CAAA,QAEnCG,GAAO,EAAA,CAAA,CAEZ,CAAA,EACF,CAAA,EACF,EACCh5B,EAAA,IAAA,IAAA,CAAE,UAAU,mBAAoB,WAAK,YAAY,EACjDC,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAACA,EAAAA,KAAA,OAAA,CAAK,UAAU,QAAQ,SAAA,CAAA,IAAE8D,EAAK,MAAM,QAAQ,CAAC,CAAA,EAAE,EAC/ChC,GACC9B,EAAA,KAAC,SAAA,CACC,QAAS,IAAMg3B,EAAgBlzB,CAAI,EACnC,UAAU,kBACV,GAAG,MAEH,SAAA,CAAA/D,EAAA,IAAC24B,GAAe,EAAA,EAAE,MAAA,CAAA,CACpB,CAAA,EAEJ,CAAA,EACF,CAAA,GA/DQ50B,EAAK,GAgEf,CACD,EAEA/D,EAAAA,IAAA,MAAA,CAAI,UAAU,mBACb,SAACA,EAAAA,IAAA,IAAA,CAAE,SAA+D,iEAAA,CAAA,CACpE,CAAA,EAEJ,CAAA,EACF,CAAA,EACF,QACC,MAAI,CAAA,UAAU,SACf,SAAAA,MAACgM,IAAM,CAAA,EACT,EAEG0pB,GACC11B,EAAA,IAAC23B,EAAA,CACC,KAAMjC,EACN,QAASgC,EACT,SAAU5B,CAAA,CACZ,EAIDE,GAAUE,IACTl2B,EAAA,IAAC4uB,GAAA,CACC,KAAMsH,GACN,QAAS,IAAM,CACbD,EAAU,EAAK,EACfE,GAAkB,IAAI,CACxB,CAAA,CACF,GAEJ,CAEJ,EC5xBM8C,GAAiB,IAAM,CACnBxlB,KACR,MAAMxV,EAAWzD,KACX,CAAC0+B,EAAWC,CAAY,EAAIj+B,EAAA,SAAS,CAAE,CAAA,EACvC,CAAC6Y,EAASC,CAAU,EAAI9Y,WAAS,EAAI,EACrC,CAACk+B,EAAqBC,CAAsB,EAAIn+B,EAAA,SAAS,CAAE,CAAA,EAC3D,CAACo+B,EAAkBC,CAAmB,EAAIr+B,EAAA,SAAS,CAAE,CAAA,EACrD,CAACs+B,EAAWC,CAAY,EAAIv+B,WAAS,EAAE,EACvC,CAACw+B,EAAmBC,CAAoB,EAAIz+B,WAAS,CACzD,cAAe,GACf,cAAe,GACf,eAAgB,CAAA,CACjB,EACK,CAAC0+B,EAAmBC,CAAoB,EAAI3+B,EAAA,SAAS,CAAE,CAAA,EACvD,CAAC4+B,EAAqBC,CAAsB,EAAI7+B,WAAS,IAAI,EAC7D,CAAC8+B,EAAuBC,CAAwB,EAAI/+B,WAAS,EAAK,EAClE,CAACg/B,EAAaC,CAAc,EAAIj/B,EAAA,SAAS,CAAE,CAAA,EAC3C,CAACk/B,EAAcC,EAAe,EAAIn/B,WAAS,EAAE,EAC7C,CAACo/B,GAAgBC,EAAiB,EAAIr/B,WAAS,EAAE,EACjD,CAACs/B,GAA2BC,EAA4B,EAAIv/B,WAAS,EAAE,EACvE,CAACw/B,GAAgBC,CAAiB,EAAIz/B,WAAS,EAAK,EAEpD87B,GAAqB,IAAM,CAC3B,GAAA,CACI,MAAAj1B,EAAQ,aAAa,QAAQ,OAAO,EACtC,OAACA,EACWod,GAAUpd,CAAK,EAChB,IAFI,WAGZjD,EAAO,CACN,eAAA,MAAM,wBAAyBA,CAAK,EACrC,IACT,CAAA,EAII87B,GAAiB,SAAY,CAC7B,GAAA,CACF5mB,EAAW,EAAI,EACf,MAAMrH,EAASqqB,KACf,GAAI,CAACrqB,EACG,MAAA,IAAI,MAAM,wBAAwB,EAGpC,MAAA7M,EAAW,MAAM/E,GAAM,IAC3B,8CAAoD4R,CAAM,EAAA,EAEpD,QAAA,IAAI,gBAAiB7M,EAAS,IAAI,EAC7Bq5B,EAAAr5B,EAAS,KAAK,KAAK,KAAK,QAC9BhB,EAAO,CACN,QAAA,MAAM,uBAAwBA,CAAK,EAC3C7B,EAAK,KAAK,CACR,KAAM,QACN,MAAO,QACP,KAAM,2BAAA,CACP,CAAA,QACD,CACA+W,EAAW,EAAK,CAClB,CAAA,EAGFvZ,EAAAA,UAAU,IAAM,CACCmgC,IACjB,EAAG,CAAE,CAAA,EAELngC,EAAAA,UAAU,IAAM,CACN,QAAA,IAAI,cAAey+B,CAAS,CAAA,EACnC,CAACA,CAAS,CAAC,EAGR,MAAA2B,EAAiB,MAAOC,EAAYC,IAAgB,CACpD,GAAA,CACF,MAAM7D,EAAWgC,EAAU,KAAan1B,GAAAA,EAAK,MAAQ+2B,CAAU,EAC/D,GAAI,CAAC5D,EAAU,OAGf,GAAI6D,EAAc,GAAKA,EAAc7D,EAAS,WAAW,kBAAmB,CAC1Ej6B,EAAK,KAAK,CACR,KAAM,UACN,MAAO,mBACP,KAAM89B,EAAc7D,EAAS,WAAW,kBACtC,QAAQA,EAAS,WAAW,iBAAiB,mBAC7C,uBAAA,CACH,EACD,MACF,CAEA,MAAMn8B,GAAM,IACV,qDAA2D+/B,CAAU,GACrE,CAAE,SAAUC,CAAY,CAAA,EAGXH,WACR97B,EAAO,CACN,QAAA,MAAM,2BAA4BA,CAAK,EAC/C7B,EAAK,KAAK,CACR,KAAM,QACN,MAAO,QACP,KAAM,2BAAA,CACP,CACH,CAAA,EAuBI+9B,EAAiB,MAAOF,GAAe,CACnC,QAAA,IAAI,iBAAkBA,CAAU,EACpC,GAAA,EACa,MAAM79B,EAAK,KAAK,CAC7B,MAAO,eACP,KAAM,4DACN,KAAM,UACN,iBAAkB,GAClB,mBAAoB,OACpB,kBAAmB,UACnB,kBAAmB,iBAAA,CACpB,GAEU,cACT,MAAMlC,GAAM,OACV,qDAA2D+/B,CAAU,EAAA,EAGlE79B,EAAA,KAAK,WAAY,mCAAoC,SAAS,EACpD29B,YAEV97B,EAAO,CACN,QAAA,MAAM,uBAAwBA,CAAK,EAC3C7B,EAAK,KAAK,CACR,KAAM,QACN,MAAO,QACP,KAAM,iCAAA,CACP,CACH,CAAA,EAIIg+B,EAAoB,IACjB/B,EAAU,OAAO,CAACjS,EAAOljB,IAASkjB,GAASljB,EAAK,UAAY,GAAI,CAAC,EAGpEm3B,EAAe,IACZD,EAAsB,EAAA,GAGzBE,EAAiB,IACdF,EAAA,EAAsBC,IAIzBE,EAAqB,IAClB,IAAI,QAASh8B,GAAY,CACxB,MAAA6c,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,IAAM,+CACbA,EAAO,OAAS,IAAM,CACpB7c,EAAQ,EAAI,CAAA,EAEd6c,EAAO,QAAU,IAAM,CACrB7c,EAAQ,EAAK,CAAA,EAEN,SAAA,KAAK,YAAY6c,CAAM,CAAA,CACjC,EAIHxhB,EAAAA,UAAU,IAAM,EACW,SAAY,CACnC,GAAI++B,IAAc,WACZ,GAAA,CACFmB,EAAkB,EAAI,EACtB,MAAMhuB,EAASqqB,KACTl3B,EAAW,MAAM/E,GAAM,IAC3B,2CAAiD4R,CAAM,EAAA,EAG1CwtB,EAAAr6B,EAAS,KAAK,IAAI,EACjC,QAAQ,IAAI,gBAAiBA,EAAS,KAAK,IAAI,QACxChB,EAAO,CACN,QAAA,MAAM,+BAAgCA,CAAK,EACnD7B,EAAK,KAAK,CACR,KAAM,QACN,MAAO,QACP,KAAM,6BAAA,CACP,CAAA,QACD,CACA09B,EAAkB,EAAK,CACzB,CACF,IAGe,EAChB,CAACnB,CAAS,CAAC,EAGR,MAAA6B,EAAuBt+B,GAAM,CAC3B,MAAAu+B,EAAav+B,EAAE,OAAO,MACtBw+B,EAAkBrB,EAAY,KAClC7lB,GAAWA,EAAQ,QAAQ,SAAWinB,CAAA,EAIpCC,GACFlB,GAAgBiB,CAAU,EAERf,GAAAgB,EAAgB,QAAQ,GAAG,EAC7C,QAAQ,IAAI,iBAAiBA,EAAgB,QAAQ,GAAG,EACxDd,GAA6Bc,EAAgB,GAAG,EACxC,QAAA,IAAI,4BAA4BA,EAAgB,GAAG,IAK3DlB,GAAgB,EAAE,EAClBE,GAAkB,EAAE,EACpBE,GAA6B,EAAE,EACjC,EAKIe,EAAiB,SAAY,CAC7B,GAAAtC,EAAU,SAAW,EAAG,CAC1Bj8B,EAAK,KAAK,CACR,KAAM,UACN,MAAO,aACP,KAAM,mDAAA,CACP,EACD,MACF,CAEA,GAAI,CAACu8B,EAAW,CACdv8B,EAAK,KAAK,CACR,KAAM,UACN,MAAO,oBACP,KAAM,+DAAA,CACP,EACD,MACF,CAEA,GAAIu8B,IAAc,WAAa,CAACM,IAC3B,CAACJ,EAAkB,eACnB,CAACA,EAAkB,eACnB,CAACA,EAAkB,gBAAiB,CACvCz8B,EAAK,KAAK,CACR,KAAM,UACN,MAAO,gCACP,KAAM,gEAAA,CACP,EACD,MACF,CAEI,GAAAu8B,IAAc,YAAc,CAACY,EAAc,CAC7Cn9B,EAAK,KAAK,CACR,KAAM,UACN,MAAO,0BACP,KAAM,6CAAA,CACP,EACD,MACF,CAEI,GAAA,CAGF,GAAI,CADa,MAAMm+B,IAEf,MAAA,IAAI,MAAM,6BAA6B,EAI/C,MAAMzuB,EAASqqB,KACTyE,EAAY,CAChB,OAAQN,IAAmB,IAC3B,UAAAjC,EACA,UAAAM,EACA,OAAA7sB,EACA,GAAI6sB,IAAc,WAAa,CAC7B,cAAeM,EACX,CACE,cAAeA,EAAoB,IACnC,KAAMA,EAAoB,KAC1B,KAAMA,EAAoB,KAC1B,YAAaA,EAAoB,YACjC,eAAgBA,EAAoB,cAAA,EAEtCJ,CACN,EACA,GAAIF,IAAc,YAAc,CAE9B,gBAAiB,CACf,WAAYY,EACZ,QAASE,GACT,cAAeE,EACjB,CACF,CAAA,EAGI16B,EAAW,MAAM/E,GAAM,KAC3B,qDACA0gC,CAAA,EAGI32B,GAAU,CACd,IAAK,0BACL,OAAQhF,EAAS,KAAK,OACtB,SAAU,MACV,KAAM,kBACN,YAAa,wBAAwB05B,EAAU,YAAa,CAAA,GAC5D,SAAU15B,EAAS,KAAK,GACxB,QAAS,eAAgBA,EAAU,CAC7B,GAAA,CACI,KAAA,CAAE,KAAAmf,CAAS,EAAA,MAAMlkB,GAAM,KAAK,uDAA8D,CAC9F,oBAAqB+E,EAAS,oBAC9B,kBAAmBA,EAAS,kBAC5B,mBAAoBA,EAAS,mBAC7B,OAAA6M,CAAA,CACD,EAEGsS,EAAK,UACC,QAAA,IAAI,OAAOya,CAAiB,EAEpC,MAAM3+B,GAAM,KAAK,+CAAsD,CACrE,OAAQ4R,EACR,UAAAusB,EACA,eAAgBp5B,EAChB,YAAaq7B,EAAe,EAC5B,oBAAA/B,EACA,UAAAI,EAEA,GAAIA,IAAc,WAAa,CAC7B,cAAeM,EACX,CACE,cAAeA,EAAoB,IACnC,KAAMA,EAAoB,KAC1B,KAAMA,EAAoB,KAC1B,YAAaA,EAAoB,YACjC,eAAgBA,EAAoB,cAAA,EAEtCJ,CACN,EACA,GAAIF,IAAc,YAAc,CAC9B,gBAAiB,CACf,WAAYY,EACZ,QAASE,GACT,cAAeE,EACjB,CACF,CAAA,CAED,EAEDrB,EAAa,CAAE,CAAA,EAEfl8B,EAAK,KAAK,CACR,KAAM,UACN,MAAO,6BACP,KAAMu8B,IAAc,UAChB,8BAA8BM,EAAsBA,EAAoB,KAAOJ,EAAkB,aAAa,GAC9G,0BAAA,CACL,EAEDz7B,EAAS,oBAAoB,SAExBa,EAAO,CACN,QAAA,MAAM,+BAAgCA,CAAK,EACnD7B,EAAK,KAAK,CACR,KAAM,QACN,MAAO,iBACP,KAAM,4CAAA,CACP,CACH,CACF,EACA,QAAS,CACP,KAAM,gBACN,MAAO,uBACP,QAAS,YACX,EACA,MAAO,CACL,MAAO,SACT,EACA,MAAO,CACL,UAAAu8B,EACA,GAAIA,IAAc,WAAa,CAC7B,cAAeM,EACX,UAAUA,EAAoB,WAAW,WAAWA,EAAoB,IAAI,aAAaA,EAAoB,cAAc,GAC3H,UAAUJ,EAAkB,aAAa,WAAWA,EAAkB,aAAa,aAAaA,EAAkB,cAAc,EACtI,EACA,GAAIF,IAAc,YAAc,CAC9B,gBAAiB,SAASY,CAAY,EACxC,CACF,CAAA,EAGoB,IAAI,OAAO,SAASt1B,EAAO,EACnC,KAAK,QAEZhG,EAAO,CACN,QAAA,MAAM,mBAAoBA,CAAK,EACvC7B,EAAK,KAAK,CACR,KAAM,QACN,MAAO,kBACP,KAAM6B,EAAM,SAAW,6CAAA,CACxB,CACH,CAAA,EAII48B,EAAsBC,GAAW,CACrCpC,EAA6BhzB,IAAA,CAC3B,GAAGA,EACH,CAACo1B,CAAM,EAAG,CAACp1B,EAAKo1B,CAAM,CACtB,EAAA,CAAA,EAeEC,EAAoB,IAAM,CAC9B,MAAMC,EAAQ,CAAA,EAId,QAASC,EAAO,GAAOA,GAAQ,GAAKA,IAC5BD,EAAA,KAAK,GAAGC,CAAI,KAAK,EACjBD,EAAA,KAAK,GAAGC,CAAI,KAAK,EAElB,OAAAD,CAAA,EAuCT,OAnCAphC,EAAAA,UAAU,IAAM,EACY,SAAY,CACpC,GAAI++B,IAAc,UACZ,GAAA,CACFS,EAAyB,EAAI,EAC7B,MAAMttB,EAASqqB,KACTl3B,EAAW,MAAM/E,GAAM,IAC3B,sDAA4D4R,CAAM,EAAA,EAI9DovB,MAAU,KACVC,GAAuBl8B,EAAS,KAAK,KAAK,aAAa,OAAc9C,IACjD,IAAI,KAAKA,GAAI,eAAe,GAC1B++B,CAC3B,EAGDlC,EAAqBmC,EAAoB,QAClCl9B,EAAO,CACN,QAAA,MAAM,+BAAgCA,CAAK,EACnD7B,EAAK,KAAK,CACR,KAAM,QACN,MAAO,QACP,KAAM,mCAAA,CACP,CAAA,QACD,CACAg9B,EAAyB,EAAK,CAChC,CACF,IAGgB,EACjB,CAACT,CAAS,CAAC,EAEVzlB,EAEC9T,EAAA,KAAA,MAAI,CAAA,UAAU,oBACb,SAAA,CAACD,EAAAA,IAAA,MAAA,CAAI,UAAU,UAAU,EACxBA,EAAAA,IAAA,KAAE,SAAe,kBAAA,GACpB,EAMAC,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACF,EAAAA,IAAA,MAAA,CAAI,UAAU,UACb,SAAAA,EAAA,IAAC4B,IAAO,MAAM,gBAAgB,SAAS,mBAAA,CAAoB,EAC7D,EACC3B,EAAAA,KAAA,MAAI,CAAA,UAAU,iBACb,SAAA,CAAAA,OAAC,KAAG,CAAA,SAAA,CAAAD,EAAA,IAAC24B,GAAe,EAAA,EAAE,YAAA,EAAU,EAE/BO,EAAU,SAAW,EACnBj5B,EAAA,KAAA,MAAA,CAAI,UAAU,aACb,SAAA,CAACD,EAAAA,IAAA,KAAE,SAAkB,qBAAA,EACpBA,EAAAA,IAAA,UAAO,QAAS,IAAM/B,EAAS,kBAAkB,EAAG,UAAU,gBAAgB,SAE/E,WAAA,CAAA,CAAA,CACF,CAAA,EAEAgC,EAAAA,KAAC,MAAI,CAAA,UAAU,cACb,SAAA,CAACD,EAAA,IAAA,MAAA,CAAI,UAAU,qBACZ,SAAUk5B,EAAA,IAAKn1B,sBACb9D,OAAAA,EAAA,KAAA,MAAmB,CAAA,UAAU,YAC7B,SAAA,OAAC,MAAI,CAAA,UAAU,aACd,eAAC,MAAI,CAAA,IAAK8D,EAAK,WAAW,MAAO,IAAKA,EAAK,SAAW,CAAA,EACxD,EAEG9D,EAAAA,KAAA,MAAI,CAAA,UAAU,eACb,SAAA,CAAAD,EAAAA,IAAC,OAAI,UAAU,cACb,SAACC,EAAA,KAAA,MAAA,CAAI,UAAU,iBACb,SAAA,OAAC,KAAA,CAAI,UAAKvB,EAAAqF,EAAA,aAAA,YAAArF,EAAY,KAAK,EAC1BuB,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,OAAA,CAAK,UAAW,sBAAoBrB,EAAAoF,EAAK,aAAL,YAAApF,EAAiB,WAAY,OAAO,YAAa,CAAA,GACnF,WAAAC,EAAAmF,EAAK,aAAL,YAAAnF,EAAiB,YAAa,UAC5BoB,EAAAA,IAAAi8B,GAAA,CAAgB,UAAU,yBAAyB,EAEnDj8B,EAAAA,IAAAo4B,GAAA,CAAO,UAAU,oBAAA,CAAqB,EAE3C,QACC,OAAK,CAAA,UAAU,gBAAiB,UAAAv5B,GAAAkF,EAAK,aAAL,YAAAlF,GAAiB,SAAS,CAAA,EAC7D,CAAA,CAAA,CACF,CAAA,CACF,QAEC,IAAE,CAAA,UAAU,mBAAoB,UAAAq9B,GAAAn4B,EAAK,aAAL,YAAAm4B,GAAiB,YAAY,EAE7Dj8B,EAAAA,KAAA,MAAI,CAAA,UAAU,yBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,gBACb,SAAA,CAACA,EAAAA,KAAA,IAAA,CAAE,UAAU,aAAa,SAAA,CAAA,OAAGk8B,EAAAp4B,EAAK,aAAL,YAAAo4B,EAAiB,QAAS,GAAG,QAAQ,CAAC,CAAA,EAAE,EACpEl8B,EAAAA,KAAA,IAAE,CAAA,UAAU,gBAAgB,SAAA,CAAA,eACd8D,EAAK,UAAY,GAAG,QAAQ,CAAC,CAAA,EAC5C,CAAA,EACF,EAEC9D,EAAAA,KAAA,MAAI,CAAA,UAAU,mBACb,SAAA,CAACD,EAAAA,IAAA,SAAM,SAAS,YAAA,EACfC,EAAAA,KAAA,MAAI,CAAA,UAAU,oBACf,SAAA,CAAAD,EAAA,IAAC,SAAA,CACC,QAAS,IAAM66B,EAAe92B,EAAK,IAAKA,EAAK,SAAW,CAAC,EACzD,UAAU,eACV,SAAUA,EAAK,UAAY,EAE3B,eAACixB,GAAQ,EAAA,CAAA,CACX,QAEC,OAAK,CAAA,UAAU,WAAY,SAAAjxB,EAAK,UAAY,EAAE,EAE/C/D,EAAA,IAAC,SAAA,CACC,QAAS,IAAM66B,EAAe92B,EAAK,IAAKA,EAAK,SAAW,CAAC,EACzD,UAAU,eACV,SAAUA,EAAK,UAAYA,EAAK,WAAW,kBAE3C,eAACgxB,GAAO,EAAA,CAAA,CACV,CAAA,EAEA,CAAA,EACF,CAAA,EACF,EAEC90B,EAAAA,KAAA,MAAI,CAAA,UAAU,eACb,SAAA,CAAAD,EAAA,IAAC,SAAA,CACC,QAAS,IAAM07B,EAAmB33B,EAAK,GAAG,EAC1C,UAAU,0BAET,SAAiBu1B,EAAAv1B,EAAK,GAAG,EAAI,oBAAsB,kBAAA,CACtD,EAECu1B,EAAiBv1B,EAAK,GAAG,GACxB/D,EAAA,IAAC,WAAA,CACC,YAAY,0BACZ,MAAOo5B,EAAoBr1B,EAAK,GAAG,GAAK,GACxC,SAAWhH,GAAMs8B,EAAgC9yB,IAAA,CAC/C,GAAGA,EACH,CAACxC,EAAK,GAAG,EAAGhH,EAAE,OAAO,KAAA,EACrB,EACF,UAAU,sBAAA,CACZ,EAGFkD,EAAA,KAAC,SAAA,CACC,QAAS,IAAM+6B,EAAej3B,EAAK,GAAG,EACtC,UAAU,aAEV,SAAA,CAAA/D,EAAA,IAACo8B,GAAQ,EAAA,EAAE,SAAA,CAAA,CACb,CAAA,EACF,CAAA,EACF,IApFQr4B,EAAK,GAqFf,EACD,EACH,QAEC,MAAI,CAAA,UAAU,mBACb,SAAC9D,EAAA,KAAA,MAAA,CAAI,UAAU,eACb,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAa,gBAAA,EAEhBC,EAAAA,KAAA,MAAI,CAAA,UAAU,uBACb,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAkB,qBAAA,EACrBC,EAAAA,KAAA,MAAI,CAAA,UAAU,qBACb,SAAA,CAAAA,EAAA,KAAC,SAAA,CACC,UAAW,kBAAkBu5B,IAAc,UAAY,SAAW,EAAE,GACpE,QAAS,IAAMC,EAAa,SAAS,EAErC,SAAA,CAACz5B,EAAAA,IAAA,IAAA,CAAE,UAAU,kBAAkB,EAAI,SAAA,CAAA,CAErC,EACAC,EAAA,KAAC,SAAA,CACC,UAAW,kBAAkBu5B,IAAc,WAAa,SAAW,EAAE,GACrE,QAAS,IAAMC,EAAa,UAAU,EAEtC,SAAA,CAACz5B,EAAAA,IAAA,IAAA,CAAE,UAAU,sBAAsB,EAAI,UAAA,CAAA,CAEzC,EACAC,EAAA,KAAC,SAAA,CACC,UAAW,kBAAkBu5B,IAAc,WAAa,SAAW,EAAE,GACrE,QAAS,IAAMC,EAAa,UAAU,EAEtC,SAAA,CAACz5B,EAAAA,IAAA,IAAA,CAAE,UAAU,oBAAoB,EAAI,UAAA,CAAA,CAEvC,CAAA,EACF,CAAA,EACF,EAECw5B,IAAc,WACZv5B,OAAA,MAAA,CAAI,UAAU,kBACb,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAiB,oBAAA,EACpBg6B,QACE,MAAA,CAAI,UAAU,kBAAkB,mCAAuB,EACtDJ,EAAkB,OAAS,QAC5B,MAAI,CAAA,UAAU,oBACZ,SAAkBA,EAAA,IAAKvO,GACtBprB,EAAA,KAAC,MAAA,CAEC,UAAW,qBAAoB65B,GAAA,YAAAA,EAAqB,OAAQzO,EAAY,IAAM,WAAa,EAAE,GAC7F,QAAS,IAAM0O,EAAuB1O,CAAW,EAEjD,SAAA,CAACprB,EAAAA,KAAA,MAAA,CAAI,UAAU,qBACb,SAAA,CAACD,EAAAA,IAAA,OAAA,CAAK,UAAU,mBACb,SAAA,IAAI,KAAKqrB,EAAY,eAAe,EAAE,qBACzC,EACCrrB,EAAA,IAAA,OAAA,CAAK,UAAU,mBAAoB,WAAY,KAAK,CAAA,EACvD,EAECC,EAAAA,KAAA,MAAI,CAAA,UAAU,sBACb,SAAA,CAAAA,OAAC,OAAK,CAAA,SAAA,CAAA,SAAOorB,EAAY,WAAA,EAAY,SACpC,OAAM,CAAA,SAAA,CAAYA,EAAA,eAAe,SAAA,EAAO,CAAA,EAC3C,GACCyO,GAAA,YAAAA,EAAqB,OAAQzO,EAAY,YACvC,MAAA,CAAI,UAAU,qBACb,SAAA,CAACrrB,EAAAA,IAAA,IAAA,CAAE,UAAU,sBAAsB,EAAI,WAAA,EACzC,CAAA,CAAA,EAlBGqrB,EAAY,GAAA,CAqBpB,EACH,SAEC,MAAA,CAAI,UAAU,kBACb,SAAA,CAACrrB,EAAAA,IAAA,KAAE,SAA8B,iCAAA,EACjCA,EAAA,IAAC,SAAA,CACC,QAAS,IAAM/B,EAAS,0BAA0B,EAClD,UAAU,uBACX,SAAA,oBAAA,CAED,CAAA,EACF,EAGD,CAAC67B,GACC75B,EAAAA,KAAA,MAAA,CAAI,UAAU,qBACb,SAAA,CAACD,EAAAA,IAAA,MAAG,SAA2B,8BAAA,EAC9BC,EAAAA,KAAA,MAAI,CAAA,UAAU,oBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,SAAM,SAAc,iBAAA,EACrBC,EAAA,KAAC,SAAA,CACC,MAAOy5B,EAAkB,cACzB,SAAW38B,GAAM48B,EAA8BpzB,IAAA,CAC7C,GAAGA,EACH,cAAexJ,EAAE,OAAO,KAAA,EACxB,EAEF,SAAA,OAAC,SAAA,CAAO,MAAM,GAAG,SAAW,cAAA,EAC3B6+B,EAAkB,EAAE,IACnBS,GAACr8B,EAAA,IAAA,UAAkB,MAAOq8B,EAAO,SAApBA,CAAA,EAAAA,CAAyB,CACvC,CAAA,CAAA,CACH,CAAA,EACF,EAECp8B,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,SAAM,SAAgB,mBAAA,EACvBA,EAAA,IAAC,QAAA,CACC,KAAK,SACL,IAAI,IACJ,IAAI,KACJ,MAAO05B,EAAkB,eACzB,SAAW38B,GAAM48B,EAA8BpzB,IAAA,CAC7C,GAAGA,EACH,eAAgB,KAAK,IAAI,EAAG,SAASxJ,EAAE,OAAO,KAAK,GAAK,CAAC,CAAA,EACzD,CAAA,CACJ,CAAA,EACF,EAECkD,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,SAAM,SAAc,iBAAA,EACrBC,EAAA,KAAC,SAAA,CACC,MAAOy5B,EAAkB,cACzB,SAAW38B,GAAM48B,EAA8BpzB,IAAA,CAC7C,GAAGA,EACH,cAAexJ,EAAE,OAAO,KAAA,EACxB,EAEF,SAAA,OAAC,SAAA,CAAO,MAAM,GAAG,SAAe,kBAAA,EAC/B,CAAC,cAAe,cAAe,SAAU,UAAW,cAAc,EAAE,IAAI8V,GACtE7S,EAAAA,IAAA,SAAsB,CAAA,MAAO6S,EAAW,SAAAA,CAAA,EAA5BA,CAAqC,CACnD,CAAA,CAAA,CACH,CAAA,EACF,CAAA,EACF,CAAA,EACF,CAAA,EAEJ,EAGD2mB,IAAc,YACZv5B,OAAA,MAAA,CAAI,UAAU,mBACb,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAoB,uBAAA,EACvB06B,GACE16B,EAAA,IAAA,MAAI,CAAA,UAAU,kBAAkB,SAAA,kBAAgB,CAAA,EAC/Ck6B,EAAY,OAAS,EACtBj6B,EAAA,KAAA,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAA,KAAC,SAAA,CACC,MAAOm6B,EACP,SAAUiB,EACV,UAAU,cAEV,SAAA,OAAC,SAAA,CAAO,MAAM,GAAG,SAAW,cAAA,EAC3BnB,EAAY,IAAK7lB,GAChBpU,EAAA,KAAC,SAAA,CAEC,MAAOoU,EAAQ,QAAQ,OACxB,SAAA,CAAA,QACOA,EAAQ,QAAQ,OAAO,kBACb,IAAI,KAAKA,EAAQ,SAAS,EAAE,mBAAmB,EAAE,GAAA,CAAA,EAJ5DA,EAAQ,GAAA,CAOhB,CAAA,CAAA,CACH,EACC+lB,GACEn6B,EAAA,KAAA,MAAI,CAAA,UAAU,qBACb,SAAA,CAAAA,OAAC,IAAE,CAAA,SAAA,CAAA,kBAAgBm6B,CAAA,EAAa,SAC/B,IAAE,CAAA,SAAA,CAAA,eAAaE,EAAA,EAAe,CAAA,EACjC,CAAA,CAEJ,CAAA,EAEAr6B,EAAAA,KAAC,MAAI,CAAA,UAAU,WACb,SAAA,CAACD,EAAAA,IAAA,KAAE,SAA6B,gCAAA,EAC/BA,EAAAA,IAAA,KAAE,SAAqD,wDAAA,CAAA,EAC1D,CAAA,EAEJ,EAGDC,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,QAAK,SAAS,YAAA,SACd,OAAK,CAAA,SAAA,CAAA,IAAEi7B,EAAoB,EAAA,QAAQ,CAAC,CAAA,EAAE,CAAA,EACzC,EAECh7B,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAACD,EAAAA,IAAA,QAAK,SAAU,aAAA,SACf,OAAK,CAAA,SAAA,CAAA,IAAEk7B,EAAe,EAAA,QAAQ,CAAC,CAAA,EAAE,CAAA,EACpC,EAECj7B,EAAAA,KAAA,MAAI,CAAA,UAAU,oBACb,SAAA,CAACD,EAAAA,IAAA,QAAK,SAAM,SAAA,SACX,OAAK,CAAA,SAAA,CAAA,IAAEm7B,EAAiB,EAAA,QAAQ,CAAC,CAAA,EAAE,CAAA,EACtC,EAEAn7B,EAAA,IAAC,SAAA,CACC,QAASw7B,EACT,UAAU,eACV,SAAU,CAAChC,EAEZ,SAAA,qBAAA,CAED,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,CAAA,EAEJ,QACC,MAAI,CAAA,UAAU,SACf,SAAAx5B,MAACgM,IAAM,CAAA,EACT,GACA,CAEJ,ECjzBMswB,GAAS,IAEXt8B,EAAA,IAAC,OAAI,UAAU,mBACb,eAAC,MAAI,CAAA,UAAU,QAAS,CAAA,CAC1B,CAAA,ECaEG,GAAco8B,GAAe,CAC3B,MAAAn8B,EAAO,IAAI,KAAKm8B,CAAU,EAG1Bl8B,EAAMD,EAAK,QAAQ,EAAE,WAAW,SAAS,EAAG,GAAG,EAC/CE,GAASF,EAAK,WAAa,GAAG,SAAS,EAAE,SAAS,EAAG,GAAG,EACxDG,EAAOH,EAAK,cAGZo8B,EAAQp8B,EAAK,SAAS,EAAE,WAAW,SAAS,EAAG,GAAG,EAClDq8B,EAAUr8B,EAAK,WAAW,EAAE,WAAW,SAAS,EAAG,GAAG,EACtDs8B,EAAOF,GAAS,GAAK,KAAO,KAG5BG,EAAWH,EAAQ,IAAO,GAGzB,MAAA,GAAGn8B,CAAG,IAAIC,CAAK,IAAIC,CAAI,OAAOo8B,CAAO,IAAIF,CAAO,IAAIC,CAAI,EACjE,EAEME,GAAe,IAAM,CACzB,KAAM,CAACC,EAAQC,CAAS,EAAI5hC,EAAA,SAAS,CAAE,CAAA,EACjC,CAAC6Y,EAASC,CAAU,EAAI9Y,WAAS,EAAI,EACrC,CAAC6hC,EAAQC,CAAS,EAAI9hC,WAAS,KAAK,EACpC87B,EAAqB,IAAM,CAC3B,GAAA,CACI,MAAAj1B,EAAQ,aAAa,QAAQ,OAAO,EACtC,OAACA,EACWod,GAAUpd,CAAK,EAChB,IAFI,WAGZjD,EAAO,CACN,eAAA,MAAM,wBAAyBA,CAAK,EACrC,IACT,CAAA,EAGFrE,EAAAA,UAAU,IAAM,CACFwiC,GACd,EAAG,CAAE,CAAA,EAEL,MAAMA,EAAc,SAAY,CAC1B,GAAA,CACFjpB,EAAW,EAAI,EACf,MAAMrH,EAASqqB,IACTl3B,EAAW,MAAM/E,GAAM,IAAI,mDAAyD4R,CAAM,EAAE,EAClG,QAAQ,IAAI,WAAW7M,EAAS,KAAK,IAAI,EAC/Bg9B,EAAA,MAAM,QAAQh9B,EAAS,KAAK,IAAI,EAAIA,EAAS,KAAK,KAAO,CAAE,CAAA,QAE9DhB,EAAO,CACN,QAAA,MAAM,yBAA0BA,CAAK,EAC7Cg+B,EAAU,CAAE,CAAA,CAAA,QACZ,CACA9oB,EAAW,EAAK,CAClB,CAAA,EAGIkpB,EAAkBC,IACP,CACb,QAAW,UACX,UAAa,UACb,UAAa,UACb,MAAS,UACT,UAAa,UACb,UAAa,SAAA,GAEDA,CAAM,GAAK,UAGrBC,EAAiB,MAAM,QAAQP,CAAM,EAAIA,EAAO,OAAgBQ,GAChEN,IAAW,MAAc,GACtBM,EAAM,SAAWN,CACzB,EAAI,CAAA,EAECO,EAAoBntB,GAAS,CACzB,OAAAA,GAAA,YAAAA,EAAM,cAAe,CAC3B,IAAK,UACI,OAACnQ,EAAA,IAAAu9B,GAAQ,CAAA,UAAU,yBAA0B,CAAA,EACtD,IAAK,WACI,OAACv9B,EAAA,IAAAw9B,GAAc,CAAA,UAAU,0BAA2B,CAAA,EAC7D,IAAK,WACI,OAACx9B,EAAA,IAAAy9B,GAAa,CAAA,UAAU,0BAA2B,CAAA,EAC5D,QACS,OAACz9B,EAAA,IAAA09B,GAAgB,CAAA,UAAU,iBAAkB,CAAA,CACxD,CAAA,EAGIC,EAAqBxtB,GACpBA,EACEA,EAAK,OAAO,CAAC,EAAE,YAAA,EAAgBA,EAAK,MAAM,CAAC,EAAE,cADlC,MAMdytB,EAAoB,MAAOC,GAAY,SACvC,GAAA,CAwBF,IAtBsB,MAAM5gC,EAAK,KAAK,CACpC,MAAO,8BACP,KAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAUN,KAAM,UACN,iBAAkB,GAClB,mBAAoB,OACpB,kBAAmB,UACnB,kBAAmB,4BACnB,iBAAkB,aAClB,eAAgB,EAAA,CACjB,GAGiB,cAEM,MAAMA,EAAK,KAAK,CACpC,MAAO,uBACP,KAAM,8CACN,KAAM,WACN,iBAAkB,GAClB,mBAAoB,OACpB,kBAAmB,UACnB,kBAAmB,oBACnB,iBAAkB,iBAClB,eAAgB,EAAA,CACjB,GAEiB,YAAa,CAE7BA,EAAK,KAAK,CACR,MAAO,mBACP,KAAM,iBACN,kBAAmB,GACnB,eAAgB,GAChB,cAAe,GACf,kBAAmB,GACnB,QAAS,IAAM,CACbA,EAAK,YAAY,CACnB,CAAA,CACD,EAGD,MAAM0P,EAASqqB,IACTl3B,EAAW,MAAM/E,GAAM,IAC3B,uDAA6D8iC,CAAO,GACpE,CAAC,OAAAlxB,CAAM,EACP,CACE,QAAS,CACP,cAAe,UAAU,aAAa,QAAQ,OAAO,CAAC,EACxD,CACF,CAAA,EAGE,GAAA7M,EAAS,KAAK,QAEhB,MAAM7C,EAAK,KAAK,CACd,MAAO,kBACP,KAAM,6CACN,KAAM,UACN,MAAO,IACP,kBAAmB,EAAA,CACpB,EAGWggC,QAEZ,OAAM,IAAI,MAAMn9B,EAAS,KAAK,SAAW,wBAAwB,CAErE,QAEKhB,EAAO,CACN,QAAA,MAAM,0BAA2BA,CAAK,EAG9C,MAAM7B,EAAK,KAAK,CACd,MAAO,sBACP,OAAM0B,GAAAD,EAAAI,EAAM,WAAN,YAAAJ,EAAgB,OAAhB,YAAAC,EAAsB,UAAW,4CACvC,KAAM,QACN,mBAAoB,SAAA,CACrB,CACH,CAAA,EAGF,OAAIoV,QACMuoB,GAAO,CAAA,CAAA,EAKfr8B,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACF,EAAAA,IAAA,MAAA,CAAI,UAAU,UACb,SAAAA,EAAA,IAAC4B,IAAO,MAAM,oBAAoB,SAAS,uBAAA,CAAwB,EACrE,EACC3B,EAAAA,KAAA,MAAI,CAAA,UAAU,0BACb,SAAA,CAAAA,OAAC,KAAG,CAAA,SAAA,CAAAD,EAAA,IAAC89B,GAAU,EAAA,EAAE,gBAAA,EAAc,QAE9B,MAAA,CAAI,UAAU,iBACZ,UAAC,MAAO,UAAW,YAAa,YAAa,QAAS,YAAa,WAAW,EAAE,IAC/EX,GAAAn9B,EAAA,IAAC,SAAA,CAEC,UAAW,cAAc+8B,IAAWI,EAAS,SAAW,EAAE,GAC1D,QAAS,IAAMH,EAAUG,CAAM,EAE9B,SAAAA,EAAO,OAAO,CAAC,EAAE,cAAgBA,EAAO,MAAM,CAAC,CAAA,EAJ3CA,CAMR,CAAA,EACH,EAECC,EAAe,SAAW,EACxBp9B,EAAAA,IAAA,MAAI,CAAA,UAAU,YAAY,SAAe,iBAAA,CAAA,QAEzC,MAAI,CAAA,UAAU,cACZ,SAAeo9B,EAAA,OACbn9B,OAAAA,OAAAA,EAAAA,KAAA,MAAA,CAAoB,UAAU,aAC7B,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,eACb,SAAA,CAACA,EAAAA,KAAA,OAAA,CAAK,UAAU,WAAW,SAAA,CAAA,UAAQo9B,EAAM,IAAI,MAAM,EAAE,CAAA,EAAE,EACvDr9B,EAAA,IAAC,OAAA,CACC,UAAU,eACV,MAAO,CAAE,gBAAiBk9B,EAAeG,EAAM,MAAM,CAAE,EAEtD,SAAMA,EAAA,MAAA,CACT,CAAA,EACF,EAECp9B,EAAAA,KAAA,MAAI,CAAA,UAAU,gBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,4BACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAD,EAAA,IAACgD,GAAW,EAAA,EACXhD,EAAAA,IAAA,QAAK,SAAY,eAAA,CAAA,EACpB,QACC,MAAI,CAAA,UAAU,aACZ,SAAAq9B,EAAM,MAAM,IACXt5B,GAAC9D,EAAAA,KAAA,MAAmB,CAAA,UAAU,aAC5B,SAAA,CAACD,EAAAA,IAAA,MAAA,CAAI,UAAU,uBACb,SAAAA,EAAA,IAAC,MAAA,CACC,IAAK+D,EAAK,SAAS,MACnB,IAAKA,EAAK,SAAS,KACnB,UAAU,aACV,QAAUhH,GAAM,CACdA,EAAE,OAAO,IAAM,0BACfA,EAAE,OAAO,QAAU,IACrB,EACA,QAAQ,MAAA,CAAA,EAEZ,EACCkD,EAAAA,KAAA,MAAI,CAAA,UAAU,YACb,SAAA,CAAAD,MAAC,OAAK,CAAA,UAAU,YAAa,SAAA+D,EAAK,SAAS,KAAK,EAC/C9D,EAAAA,KAAA,OAAK,CAAA,UAAU,gBAAgB,SAAA,CAAA,QAAM8D,EAAK,QAAA,EAAS,CAAA,EACtD,IAhBQA,EAAK,GAiBf,CACD,EACH,CAAA,EACF,EAECs5B,EAAM,qBACJp9B,OAAA,MAAA,CAAI,UAAU,kCACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAD,EAAA,IAAC+9B,GAAQ,EAAA,EACR/9B,EAAAA,IAAA,QAAK,SAA0B,6BAAA,CAAA,EAClC,EACCC,EAAAA,KAAA,MAAI,CAAA,UAAU,sBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,mBACb,SAAA,CAACD,EAAAA,IAAA+9B,GAAA,CAAQ,UAAU,OAAO,SACzB,OAAK,CAAA,SAAA,CAAA,UAAQV,EAAM,oBAAoB,WAAA,EAAY,CAAA,EACtD,EACCp9B,EAAAA,KAAA,MAAI,CAAA,UAAU,mBACb,SAAA,CAACD,EAAAA,IAAAg+B,GAAA,CAAc,UAAU,OAAO,SAC/B,OAAK,CAAA,SAAA,CAAA,SAAO,IAAI,KAAKX,EAAM,oBAAoB,eAAe,EAAE,mBAAmB,CAAA,EAAE,CAAA,EACxF,EACCp9B,EAAAA,KAAA,MAAI,CAAA,UAAU,mBACb,SAAA,CAACD,EAAAA,IAAAi+B,GAAA,CAAQ,UAAU,OAAO,SACzB,OAAK,CAAA,SAAA,CAAA,SAAOZ,EAAM,oBAAoB,IAAA,EAAK,CAAA,EAC9C,EACCp9B,EAAAA,KAAA,MAAI,CAAA,UAAU,mBACb,SAAA,CAACD,EAAAA,IAAAk+B,GAAA,CAAQ,UAAU,OAAO,SACzB,OAAK,CAAA,SAAA,CAAA,WAASb,EAAM,oBAAoB,cAAA,EAAe,CAAA,EAC1D,CAAA,EACF,CAAA,EACF,EAEDA,EAAM,YAAc,YAAcA,EAAM,wBACxC,MAAA,CAAI,UAAU,+BACb,SAAA,CAACp9B,EAAAA,KAAA,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAD,EAAA,IAACy9B,GAAa,EAAA,EACbz9B,EAAAA,IAAA,QAAK,SAAiB,oBAAA,CAAA,EACzB,EACCC,EAAAA,KAAA,MAAI,CAAA,UAAU,wBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,qBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,aACb,SAAA,CAACD,EAAAA,IAAA+9B,GAAA,CAAQ,UAAU,OAAO,EACzB/9B,EAAAA,IAAA,QAAK,SAAY,eAAA,CAAA,EACpB,QACC,MAAI,CAAA,UAAU,aACZ,SAAAq9B,EAAM,gBAAgB,WACzB,CAAA,EACF,EAECp9B,EAAAA,KAAA,MAAI,CAAA,UAAU,qBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,aACb,SAAA,CAACD,EAAAA,IAAAg+B,GAAA,CAAc,UAAU,OAAO,EAC/Bh+B,EAAAA,IAAA,QAAK,SAAW,cAAA,CAAA,EACnB,EACCA,EAAAA,IAAA,MAAI,CAAA,UAAU,2BAA2B,MAAOq9B,EAAM,gBAAgB,cACpE,SAAMA,EAAA,gBAAgB,cACzB,CAAA,EACF,EAECA,EAAM,gBAAgB,uBACpBp9B,EAAA,KAAA,MAAA,CAAI,UAAU,qBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,aACb,SAAA,CAACD,EAAAA,IAAAi+B,GAAA,CAAQ,UAAU,OAAO,EACzBj+B,EAAAA,IAAA,QAAK,SAAU,aAAA,CAAA,EAClB,QACC,MAAA,CAAI,UAAU,2BAA2B,MAAOG,GAAWk9B,EAAM,gBAAgB,qBAAqB,EACpG,SAAAl9B,GAAWk9B,EAAM,gBAAgB,qBAAqB,EACzD,CAAA,EACF,EAGDA,EAAM,gBAAgB,sBACpBp9B,EAAA,KAAA,MAAA,CAAI,UAAU,qBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,aACb,SAAA,CAACD,EAAAA,IAAA+4B,GAAA,CAAa,UAAU,OAAO,EAC9B/4B,EAAAA,IAAA,QAAK,SAAa,gBAAA,CAAA,EACrB,QACC,MAAI,CAAA,UAAU,uBACZ,SAAAq9B,EAAM,gBAAgB,qBACzB,CAAA,EACF,CAAA,EAEJ,CAAA,EACF,EAGCp9B,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAAAD,EAAA,IAACi+B,GAAQ,EAAA,EACRj+B,EAAAA,IAAA,QAAK,SAAW,cAAA,EAChBG,GAAWk9B,EAAM,SAAS,CAAA,EAC7B,EAECp9B,EAAAA,KAAA,MAAI,CAAA,UAAU,yBACZ,SAAA,CAAAq9B,EAAiBD,EAAM,SAAS,EAChCr9B,EAAAA,IAAA,QAAK,SAAW,cAAA,EAChBA,EAAA,IAAA,OAAA,CAAK,UAAW,eAActB,EAAA2+B,EAAM,YAAN,YAAA3+B,EAAiB,aAAa,GAC1D,SAAAi/B,EAAkBN,EAAM,SAAS,EACpC,CAAA,EACF,EAECp9B,EAAAA,KAAA,MAAI,CAAA,UAAU,cACb,SAAA,CAAAD,EAAA,IAACm+B,GAAY,EAAA,EACZn+B,EAAAA,IAAA,QAAK,SAAa,gBAAA,EAAO,IACxBq9B,EAAM,WAAA,EACV,CAAA,EACF,EAECA,EAAM,SAAW,WAChBr9B,EAAA,IAAC,SAAA,CACC,UAAU,aACV,QAAS,IAAM49B,EAAkBP,EAAM,GAAG,EAC3C,SAAA,cAAA,CAED,IApJMA,EAAM,GAsJhB,EACD,EACH,CAAA,EAEJ,QACC,MAAI,CAAA,UAAU,SACb,SAAAr9B,MAACgM,IAAM,CAAA,EACT,GACA,CAEJ,EC9XMoyB,GAAmB,IAAM,CAC7B,KAAM,CAACC,EAAQC,CAAS,EAAIpjC,EAAA,SAAS,CAAE,CAAA,EACjC,CAAC6Y,EAASC,CAAU,EAAI9Y,WAAS,EAAI,EACrC,CAAC4D,EAAOkH,CAAQ,EAAI9K,WAAS,IAAI,EACjC,CAACqjC,EAAcC,CAAe,EAAItjC,EAAAA,SAAS,IAAI,IAAM,EACrD,CAACujC,EAAcC,CAAe,EAAIxjC,WAAS,EAAE,EAC7C,CAACyf,EAAQgkB,CAAS,EAAIzjC,WAAS,CAAC,EAChC,CAAC0jC,EAAkBC,CAAmB,EAAI3jC,WAAS,KAAK,EACdA,EAAAA,SAAS,KAAK,EAC9D,KAAM,CAAC4jC,EAAiBC,CAAkB,EAAI7jC,WAAS,EAAE,EACnD,CAAC8jC,EAAuBC,CAAwB,EAAI/jC,EAAA,SAAS,CAAE,CAAA,EAG/DgkC,EAAe,IAAM,CACzB,MAAMrD,EAAQ,CAAA,EACRsD,OAAkB,KAClBC,GAAkBb,EAAa,eAC/Bc,EAAUF,GAAY,aAAA,IAAmBC,GACzCE,EAAcH,GAAY,WAC1BI,EAAiBJ,GAAY,aAEnC,QAAS/3B,EAAI,GAAIA,GAAK,GAAIA,IAExB,GAAIi4B,EAAS,CAEX,GAAIj4B,EAAIk4B,EAAa,SAGjBl4B,IAAMk4B,EAEJC,EAAiB,IACb1D,EAAA,KAAK,GAAGz0B,CAAC,KAAK,GAIhBy0B,EAAA,KAAK,GAAGz0B,CAAC,KAAK,EACdy0B,EAAA,KAAK,GAAGz0B,CAAC,KAAK,EACtB,MAGMy0B,EAAA,KAAK,GAAGz0B,CAAC,KAAK,EACdy0B,EAAA,KAAK,GAAGz0B,CAAC,KAAK,EAGjB,OAAAy0B,CAAA,EAGH2D,EAAc,SAAY,CAC1B,GAAA,CACFxrB,EAAW,EAAI,EACfhO,EAAS,IAAI,EACP,MAAAlG,EAAW,MAAM/E,GAAM,IAAI,8CAAoD,EAErF,GAAI+E,EAAS,MAAQA,EAAS,KAAK,KACvBw+B,EAAAx+B,EAAS,KAAK,IAAI,MAEtB,OAAA,IAAI,MAAM,8BAA8B,QAEzChB,EAAO,CACN,QAAA,MAAM,yBAA0BA,CAAK,EACpCA,EAAAA,EAAM,SAAW,uBAAuB,EACjD2gC,GAAe,uBAAuB,EACtCnB,EAAU,CAAE,CAAA,CAAA,QACZ,CACAtqB,EAAW,EAAK,CAClB,CAAA,EAII0rB,EAA6B,MAAOt/B,EAAMi8B,KAAS,CACnD,GAAA,CACI,MAAAv8B,GAAW,MAAM/E,GAAM,IAAI,+DAAsE,CACrG,OAAQ,CACN,KAAMqF,EAAK,YAAY,EACvB,KAAAi8B,EACF,CAAA,CACD,EAEGv8B,GAAS,KAAK,SACSm/B,EAAAn/B,GAAS,KAAK,IAAI,QAEtChB,GAAO,CACN,QAAA,MAAM,yCAA0CA,EAAK,EAC7D6gC,GAAM,MAAM,mCAAmC,CACjD,CAAA,EAIFllC,EAAAA,UAAU,IAAM,CACV8jC,GAAgBE,GAClBiB,EAA2BnB,EAAcE,CAAY,CACvD,EACC,CAACF,EAAcE,CAAY,CAAC,EAE/BhkC,EAAAA,UAAU,IAAM,CACF+kC,GACd,EAAG,CAAE,CAAA,EAEC,MAAAI,EAAmB/sB,GAAa,CACpC,OAAQA,EAAU,CAChB,IAAK,SACI,OAAC7S,EAAA,IAAA6/B,GAAW,CAAA,UAAU,sBAAuB,CAAA,EACtD,IAAK,UACI,OAAC7/B,EAAA,IAAA8/B,GAAW,CAAA,UAAU,uBAAwB,CAAA,EACvD,IAAK,UACI,OAAC9/B,EAAA,IAAA+9B,GAAQ,CAAA,UAAU,uBAAwB,CAAA,EACpD,QACS,OAAC/9B,EAAA,IAAAoM,GAAe,CAAA,UAAU,eAAgB,CAAA,CACrD,CAAA,EAGI2zB,GAAoB,MAAOC,GAAY,WACvC,GAAA,CACF,MAAMC,EAAgB5B,EAAO,KAAU6B,GAAAA,EAAE,MAAQF,CAAO,EAwBxD,IAtBe,MAAM/iC,EAAK,KAAK,CAC7B,MAAO,sBACP,KAAM;AAAA;AAAA,yCAE2BgjC,EAAc,WAAW;AAAA,wCAC1B1B,EAAa,oBAAoB;AAAA,wCACjCE,CAAY;AAAA,0CACV9jB,CAAM;AAAA,4CACJslB,EAAc,QAAQ;AAAA;AAAA,UAG1D,KAAM,WACN,iBAAkB,GAClB,mBAAoB,UACpB,kBAAmB,OACnB,kBAAmB,sBACnB,iBAAkB,SAClB,YAAa,CACX,MAAO,mBACT,CAAA,CACD,GAEU,YAAa,CAChB,MAAAl+B,EAAQ,aAAa,QAAQ,OAAO,EACpCo+B,EAAUhhB,GAAUpd,CAAK,EAC/B,QAAQ,IAAI4Y,CAAM,GACD,MAAM5f,GAAM,KAAK,2DAAkE,CAClG,OAAQolC,EAAQ,IAChB,SAAUF,EAAc,IACxB,YAAaA,EAAc,YAC3B,gBAAiB1B,EACjB,eAAgB5jB,EAChB,gBAAAmkB,EACA,KAAML,CAAA,CACP,GAEY,KAAK,SACC2B,IAErB,QACOthC,EAAO,CACN,QAAA,MAAM,qBAAsBA,CAAK,EACzC2gC,KAAe3gC,IAAAA,GAAAA,EAAM,WAANA,YAAAA,GAAgB,OAAhBA,YAAAA,GAAsB,UAAW,4BAA4B,CAC9E,CAAA,EAGIshC,GAAmB,IAAM,CAC7BnjC,EAAK,KAAK,CACR,MAAO,yBACP,KAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAQN,KAAM,UACN,MAAO,IACP,kBAAmB,EAAA,CACpB,CAAA,EAGGwiC,GAAkBz6B,GAAY,CAClC/H,EAAK,KAAK,CACR,MAAO,UACP,KAAM+H,EACN,KAAM,QACN,YAAa,CACX,MAAO,aACT,CAAA,CACD,CAAA,EAIGq7B,GAAoB,IAAM,CAC9B,GAAI,CAAC,MAAM,QAAQhC,CAAM,QAAU,CAAA,EAG7B,MAAAiC,EAAkBjC,EAAO,OAAgBkC,GAAA,CACvC,GAAA,CAACA,EAAc,MAAA,GAEnB,MAAMC,EAAaxB,EAAsB,KACrC3T,GAAeA,EAAY,cAAgBkV,EAAM,WAAA,EAG/CE,EAAgB7B,IAAqB,OAAS2B,EAAM,WAAa3B,EAEhE,MAAA,CAAC4B,GAAcC,GAAiBF,EAAM,WAAA,CAChD,EAGKG,GAAeJ,EAAgB,OAAgBC,GAAAA,EAAM,WAAa5lB,CAAM,EAE1E,GAAA+lB,GAAa,OAAS,EAEf,OAAAA,GAIX,MAAMC,GAAiBL,EAAgB,OAAgBC,GAAAA,EAAM,SAAW5lB,CAAM,EAC1E,GAAAgmB,GAAe,OAAS,EAAG,CAErB,MAAAC,EAAc,KAAK,IAAI,GAAGD,GAAe,IAAIJ,GAASA,EAAM,QAAQ,CAAC,EAE3E,OAAOI,GACF,OAAgBJ,GAAAA,EAAM,WAAaK,CAAW,EAC9C,KAAK,CAACvmB,EAAGwmB,IAAMxmB,EAAE,SAAWwmB,EAAE,QAAQ,CAC/C,CAGA,MAAO,EAAC,EAIJC,GAAuBC,GACvBA,EAAgBpmB,QAEX,MAAA,CAAI,UAAU,mBACX,SAAC1a,OAAA,QAAA,CAAM,MAAO,CAAE,MAAO,OAAQ,SAAU,UAAY,SAAA,CAAA,MAC7C0a,EAAO,gCAA8BomB,EAAc,gDAAA,CAC3D,CAAA,CACJ,CAAA,EAGD,KAGHC,GAAgBC,GAAa,CAE3B,MAAAC,GAAgBC,IACb,MAAMA,EAAK,EAAE,KAAK,CAAC,EAAE,IAAI,CAACxnB,EAAG5S,IAClC/G,EAAA,IAACohC,GAAA,CAEC,UAAW,oBAAoBr6B,EAAQ,CAAC,EAAA,EADnCA,CAAA,CAGR,eAIA,MAAI,CAAA,UAAU,eACZ,SAAAk6B,GAAY,EAEThhC,EAAAA,KAAAC,EAAA,SAAA,CAAA,SAAA,CAACF,EAAAA,IAAA,OAAI,UAAU,cACb,SAACA,MAAAqhC,GAAa,CAAA,UAAU,aAAa,EACvC,QACC,MAAI,CAAA,UAAU,mBACZ,SAAAH,GAAaD,CAAQ,EACxB,GACF,EAGEhhC,EAAAA,KAAAC,EAAA,SAAA,CAAA,SAAA,CAACF,EAAAA,IAAA,OAAI,UAAU,cACb,SAACA,MAAAshC,GAAkB,CAAA,UAAU,aAAa,EAC5C,QACC,MAAI,CAAA,UAAU,yBACZ,SAAAJ,GAAaD,CAAQ,EACxB,CAAA,CACF,CAAA,CAEJ,CAAA,CAAA,EAMF,OAAAhhC,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACF,EAAAA,IAAA,MAAA,CAAI,UAAU,UACb,SAAAA,EAAA,IAAC4B,IAAO,MAAM,oBAAoB,SAAS,uBAAA,CAAwB,EACrE,EACC3B,EAAAA,KAAA,MAAI,CAAA,UAAU,8BACb,SAAA,CAACA,EAAAA,KAAA,KAAA,CAAG,UAAU,gBACZ,SAAA,CAAAD,EAAA,IAACuhC,GAAW,EAAA,EAAE,oBAAA,EAChB,EAECziC,GACEmB,EAAA,KAAA,MAAI,CAAA,UAAU,gBACb,SAAA,CAACD,EAAAA,IAAA,KAAG,SAAMlB,EAAA,QACT,SAAA,CAAO,QAAS0gC,EAAa,SAAS,YAAA,CAAA,EACzC,EAGDv/B,EAAAA,KAAA,MAAI,CAAA,UAAU,mBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,wBACb,SAAA,CAACD,EAAAA,IAAAg+B,GAAA,CAAc,UAAU,YAAY,EACpCh+B,EAAAA,IAAA,SAAM,SAAW,cAAA,EAClBA,EAAA,IAAC0B,GAAA,CACC,SAAU68B,EACV,SAAkBn+B,GAAAo+B,EAAgBp+B,CAAI,EACtC,YAAa,KACb,UAAU,cACV,WAAW,aACX,gBAAgB,YAChB,gBAAiB,CACf,CACE,KAAM,SACN,QAAS,CACP,OAAQ,CAAC,EAAG,CAAC,CACf,CACF,EACA,CACE,KAAM,kBACN,QAAS,CACP,SAAU,WACV,QAAS,GACT,QAAS,CACX,CACF,CACF,EACA,aAAsBA,GAEbA,EAAW,IAAA,KAAA,EAAO,SAAS,EAAG,EAAG,EAAG,CAAC,EACxC,8BACA,OAEN,kBAAmB,CAACC,EAAKD,KACfJ,EAAA,IAAA,QAAM,SAAIK,CAAA,CAAA,EAEpB,gBAAiB,GACjB,iBAAkB,CAAA,CACpB,CAAA,EACF,EAECJ,EAAAA,KAAA,MAAI,CAAA,UAAU,wBACb,SAAA,CAACD,EAAAA,IAAAi+B,GAAA,CAAQ,UAAU,YAAY,EAC9Bj+B,EAAAA,IAAA,SAAM,SAAW,cAAA,EAClBC,EAAA,KAAC,SAAA,CACC,MAAOw+B,EACP,SAAW1hC,GAAM2hC,EAAgB3hC,EAAE,OAAO,KAAK,EAC/C,UAAU,cAEV,SAAA,OAAC,SAAA,CAAO,MAAM,GAAG,SAAW,cAAA,EAC3BmiC,IAAe,IACdsC,GAAAxhC,EAAA,IAAC,SAAA,CAEC,MAAOwhC,EAEN,SAAAA,CAAA,EAHIA,CAAA,CAKR,CAAA,CAAA,CACH,CAAA,EACF,EAECvhC,EAAAA,KAAA,MAAI,CAAA,UAAU,0BACb,SAAA,CAACD,EAAAA,IAAAk+B,GAAA,CAAQ,UAAU,YAAY,EAC9Bl+B,EAAAA,IAAA,SAAM,SAAgB,mBAAA,EACvBA,EAAA,IAAC,QAAA,CACC,KAAK,SACL,IAAI,IACJ,IAAI,KACJ,MAAO2a,EACP,SAAW5d,GAAM4hC,EAAU,SAAS5hC,EAAE,OAAO,KAAK,CAAC,EACnD,UAAU,cAAA,CACZ,CAAA,EACF,EAECkD,EAAAA,KAAA,MAAI,CAAA,UAAU,4BACb,SAAA,CAACD,EAAAA,IAAAoM,GAAA,CAAe,UAAU,YAAY,EACrCpM,EAAAA,IAAA,SAAM,SAAkB,qBAAA,EACzBC,EAAA,KAAC,SAAA,CACC,MAAO2+B,EACP,SAAW7hC,GAAM8hC,EAAoB9hC,EAAE,OAAO,KAAK,EACnD,UAAU,kBAEV,SAAA,OAAC,SAAA,CAAO,MAAM,MAAM,SAAa,gBAAA,QAChC,SAAA,CAAO,MAAM,SAAS,SAAM,SAAA,QAC5B,SAAA,CAAO,MAAM,UAAU,SAAO,UAAA,QAC9B,SAAA,CAAO,MAAM,UAAU,SAAO,UAAA,CAAA,CAAA,CACjC,CAAA,EACF,CAAA,EACF,QAEC,MAAI,CAAA,UAAU,cACZ,SAAAsjC,GAAkB,EAAE,IACnBE,GAACtgC,EAAAA,KAAA,MAAoB,CAAA,UAAU,aAC7B,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,eACb,SAAA,CAAAA,OAAC,KAAG,CAAA,SAAA,CAAA,SAAOsgC,EAAM,WAAA,EAAY,EAC5BX,EAAgBW,EAAM,QAAQ,CAAA,EACjC,QAEC,MAAI,CAAA,UAAU,sBACZ,SAAaS,GAAAT,EAAM,QAAQ,EAC9B,EAECtgC,EAAAA,KAAA,MAAI,CAAA,UAAU,gBACb,SAAA,CAAAA,OAAC,IACC,CAAA,SAAA,CAAAD,EAAA,IAACk+B,GAAQ,EAAA,EAAE,aACAqC,EAAM,SAAS,WACzBO,GAAoBP,EAAM,QAAQ,CAAA,EACrC,SACC,IACC,CAAA,SAAA,CAAAvgC,EAAA,IAACoM,GAAe,EAAA,EAAE,aACPm0B,EAAM,QAAA,EACnB,CAAA,EACF,EAEAvgC,EAAA,IAAC,WAAA,CACC,YAAY,+BACZ,MAAO8+B,EACP,SAAW/hC,IAAMgiC,EAAmBhiC,GAAE,OAAO,KAAK,EAClD,UAAU,kBAAA,CACZ,EAEAiD,EAAA,IAAC,SAAA,CACC,UAAU,cACV,QAAS,IAAM+/B,GAAkBQ,EAAM,GAAG,EAC1C,SAAU,CAAChC,GAAgB,CAACE,EAC7B,SAAA,eAAA,CAED,IAnCQ8B,EAAM,GAoChB,CACD,EACH,EAECxsB,GACE9T,EAAA,KAAA,MAAI,CAAA,UAAU,kBACb,SAAA,CAACD,EAAAA,IAAA,MAAA,CAAI,UAAU,UAAU,EACxBA,EAAAA,IAAA,KAAE,SAA2B,8BAAA,CAAA,EAChC,EAGD,CAAC+T,GAAW,CAACjV,GAASuhC,GAAkB,EAAE,SAAW,GACnDpgC,EAAAA,KAAA,MAAI,CAAA,UAAU,YACb,SAAA,CAAAA,OAAC,IAAE,CAAA,SAAA,CAAA,2BAAyB0a,EAAO,SAAA,EAAO,EACzC3a,EAAAA,IAAA,SAAM,SAEP,wEAAA,CAAA,EACF,CAAA,EAEJ,QACC,MAAI,CAAA,UAAU,SACb,SAAAA,MAACgM,IAAM,CAAA,EACT,GACA,CAEJ,EC5cMy1B,GAAiB,IAElBzhC,EAAA,IAAA,MAAA,CAAI,UAAU,oBACb,SAACA,EAAAA,IAAA,MAAA,CAAI,UAAU,UACb,SAACA,EAAA,IAAA,MAAA,CAAI,UAAU,eAAgB,CAAA,EACjC,CACF,CAAA,ECGE0hC,GAAqB,IAAM,CACvBjuB,KACR,KAAM,CAACkuB,EAAcC,CAAe,EAAI1mC,EAAA,SAAS,CAAE,CAAA,EAC7C,CAAC6Y,EAASC,CAAU,EAAI9Y,WAAS,EAAI,EACrC,CAAC4D,EAAOkH,CAAQ,EAAI9K,WAAS,IAAI,EACjC,CAAC2mC,EAAWC,CAAY,EAAI5mC,WAAS,UAAU,EAErDT,EAAAA,UAAU,IAAM,CACIsnC,GACpB,EAAG,CAAE,CAAA,EAEL,MAAMA,EAAoB,SAAY,CAChC,GAAA,CACI,MAAAhgC,EAAQ,aAAa,QAAQ,OAAO,EACpCo+B,EAAUhhB,GAAUpd,CAAK,EAEzBjC,EAAW,MAAM/E,GAAM,IAAI,2DAAiEolC,EAAQ,GAAG,EAAE,EAE3GrgC,EAAS,KAAK,SACA8hC,EAAA9hC,EAAS,KAAK,IAAI,EAEpCkU,EAAW,EAAK,QACTlV,EAAO,CACN,QAAA,MAAM,+BAAgCA,CAAK,EACnDkH,EAAS,6BAA6B,EACtCgO,EAAW,EAAK,EAChB2rB,GAAM,MAAM,6BAA6B,CAC3C,CAAA,EAGIqC,EAAoB,MAAO5lB,GAAkB,CAC7C,GAAA,EACe,MAAMrhB,GAAM,IAAI,4DAAkEqhB,CAAa,SAAS,GAE5G,KAAK,UAChBujB,GAAM,QAAQ,oCAAoC,EAChCoC,WAEbjjC,EAAO,CACN,QAAA,MAAM,gCAAiCA,CAAK,EACpD6gC,GAAM,MAAM,8BAA8B,CAC5C,CAAA,EAGIzC,EAAkBC,IACP,CACb,QAAS,kBACT,UAAW,iBACX,UAAW,eACX,UAAW,eAAA,GAECA,CAAM,GAAK,gBAGrB8E,EAAsB9xB,GAAS,CAC7B,MAAA4rB,MAAU,KACT,OAAA4F,EAAa,OAAsBtW,GAAA,CACxC,MAAM6W,EAAkB,IAAI,KAAK7W,EAAY,eAAe,EAC5D,OAAIlb,IAAS,WACJ+xB,GAAmBnG,GAAO1Q,EAAY,SAAW,YAEjD6W,EAAkBnG,GAAO1Q,EAAY,SAAW,WACzD,CACD,CAAA,EAGC,GAAAtX,EAAgB,OAAC/T,EAAAA,IAAAyhC,GAAe,CAAA,CAAA,EAChC,GAAA3iC,SAAekB,EAAA,IAAA,MAAI,CAAA,UAAU,gBAAiB,SAAMlB,CAAA,CAAA,EAElD,MAAAqjC,EAAuBF,EAAmBJ,CAAS,EAIvD,OAAA5hC,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACF,EAAAA,IAAA,MAAA,CAAI,UAAU,UACb,SAAAA,EAAA,IAAC4B,IAAO,MAAM,oBAAoB,SAAS,uBAAA,CAAwB,EACrE,EACC3B,EAAAA,KAAA,MAAI,CAAA,UAAU,4BACb,SAAA,OAAC,KAAA,CAAG,UAAU,aAAa,SAAqB,wBAAA,EAE/CA,EAAAA,KAAA,MAAI,CAAA,UAAU,OACb,SAAA,CAAAD,EAAA,IAAC,SAAA,CACC,UAAW,OAAO6hC,IAAc,WAAa,SAAW,EAAE,GAC1D,QAAS,IAAMC,EAAa,UAAU,EACvC,SAAA,uBAAA,CAED,EACA9hC,EAAA,IAAC,SAAA,CACC,UAAW,OAAO6hC,IAAc,OAAS,SAAW,EAAE,GACtD,QAAS,IAAMC,EAAa,MAAM,EACnC,SAAA,mBAAA,CAED,CAAA,EACF,EAECK,EAAqB,SAAW,EAC9BliC,EAAA,KAAA,MAAA,CAAI,UAAU,kBAAkB,SAAA,CAAA,MAC3B4hC,EAAU,qBAAA,CAChB,CAAA,QAEC,MAAI,CAAA,UAAU,oBACZ,SAAAM,EAAqB,IAAK9W,GACzBprB,OAAC,MAA0B,CAAA,UAAU,mBACnC,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,cACb,SAAA,CAACA,EAAAA,KAAA,OAAA,CAAK,UAAU,iBAAiB,SAAA,CAAA,IAAEorB,EAAY,IAAI,MAAM,EAAE,CAAA,EAAE,EAC7DrrB,MAAC,QAAK,UAAW,UAAUk9B,EAAe7R,EAAY,MAAM,CAAC,GAC1D,SAAAA,EAAY,OAAO,OAAO,CAAC,EAAE,YAAY,EAAIA,EAAY,OAAO,MAAM,CAAC,EAC1E,CAAA,EACF,EAECprB,EAAAA,KAAA,MAAI,CAAA,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,WACb,SAAA,CAACD,EAAAA,IAAA,IAAA,CAAE,UAAU,kBAAkB,EAC9BA,EAAAA,IAAA,QAAM,SAAOuT,GAAA,IAAI,KAAK8X,EAAY,eAAe,EAAG,cAAc,EAAE,CAAA,EACvE,EACCprB,EAAAA,KAAA,MAAI,CAAA,UAAU,WACb,SAAA,CAACD,EAAAA,IAAA,IAAA,CAAE,UAAU,eAAe,QAC3B,OAAM,CAAA,SAAAqrB,EAAY,KAAK,CAAA,EAC1B,EACCprB,EAAAA,KAAA,MAAI,CAAA,UAAU,WACb,SAAA,CAACD,EAAAA,IAAA,IAAA,CAAE,UAAU,eAAe,SAC3B,OAAM,CAAA,SAAA,CAAYqrB,EAAA,eAAe,SAAA,EAAO,CAAA,EAC3C,EACCprB,EAAAA,KAAA,MAAI,CAAA,UAAU,WACb,SAAA,CAACD,EAAAA,IAAA,IAAA,CAAE,UAAU,eAAe,SAC3B,OAAK,CAAA,SAAA,CAAA,SAAOqrB,EAAY,WAAA,EAAY,CAAA,EACvC,EACCA,EAAY,iBACVprB,OAAA,MAAA,CAAI,UAAU,mBACb,SAAA,CAACD,EAAAA,IAAA,KAAE,SAAiB,oBAAA,QACnB,IAAG,CAAA,SAAAqrB,EAAY,gBAAgB,CAAA,EAClC,CAAA,EAEJ,EAECA,EAAY,SAAW,WACrBrrB,EAAA,IAAA,MAAA,CAAI,UAAU,eACb,SAAAA,EAAA,IAAC,SAAA,CACC,UAAU,aACV,QAAS,IAAMgiC,EAAkB3W,EAAY,GAAG,EACjD,SAAA,oBAAA,CAAA,EAGH,IAzCMA,EAAY,GA2CtB,CACD,EACH,CAAA,EAEJ,QACC,MAAI,CAAA,UAAU,SACb,SAAArrB,MAACgM,IAAM,CAAA,EACT,GACA,CAEJ,ECjJMo2B,GAAmB,WAEpBC,GAEC,CAAA,SAAA,CAAAriC,MAACsiC,IAAM,KAAK,OAAO,QAAStiC,MAACi1B,IAAY,CAAA,EAAI,QAC5CqN,GAAM,CAAA,KAAK,UAAU,QAAStiC,MAAC4uB,IAAO,CAAA,EAAI,EAG1C3uB,EAAA,KAAAqiC,GAAA,CAAM,QAAStiC,EAAA,IAACyuB,KAAa,EAC5B,SAAA,CAAAzuB,MAACsiC,IAAM,KAAK,eAAe,QAAStiC,MAACo+B,IAAiB,CAAA,EAAI,QACzDkE,GAAM,CAAA,KAAK,qBAAqB,QAAStiC,MAAC0hC,IAAmB,CAAA,EAAI,QACjEY,GAAM,CAAA,KAAK,SAAS,QAAStiC,MAAC48B,IAAa,CAAA,EAAI,QAC/C0F,GAAM,CAAA,KAAK,OAAO,QAAStiC,MAACi5B,IAAe,CAAA,EAAI,CAAA,EAClD,CAUF,CAAA,CAAA,ECvCEsJ,GAAQ,IAAM,CAClB,MAAMtkC,EAAWzD,KACX,CAACkD,EAAUC,CAAW,EAAIzC,WAAS,CACvC,MAAO,GACP,SAAU,EAAA,CACX,EACK,CAAC4D,EAAOkH,CAAQ,EAAI9K,WAAS,EAAE,EAE/BgD,EAAe,MAAOnB,GAAM,SAChCA,EAAE,eAAe,EACb,GAAA,CACI,MAAA+C,EAAW,MAAM/E,GAAM,KAC3B,+CACA2C,CAAA,EAIF,aAAa,QAAQ,QAASoC,EAAS,KAAK,KAAK,EACjD,aAAa,QAAQ,OAAQA,EAAS,KAAK,KAAK,IAAI,EAGpD7B,EAAS,mBAAmB,QACrBa,EAAO,CACdkH,IAASlH,GAAAA,EAAAA,EAAM,WAANA,YAAAA,EAAgB,OAAhBA,YAAAA,EAAsB,UAAW,cAAc,CAC1D,CAAA,eAIC,MAAI,CAAA,UAAU,kBACb,SAACmB,EAAA,KAAA,MAAA,CAAI,UAAU,aACb,SAAA,CAACD,EAAAA,IAAA,MAAG,SAAK,QAAA,EACRlB,SAAU,MAAI,CAAA,UAAU,gBAAiB,SAAMA,EAAA,EAC/CmB,EAAAA,KAAA,OAAK,CAAA,SAAU/B,EACd,SAAA,CAAC+B,EAAAA,KAAA,MAAA,CAAI,UAAU,aACb,SAAA,CAACD,EAAAA,IAAA,SAAM,SAAK,QAAA,EACZA,EAAA,IAAC,QAAA,CACC,KAAK,QACL,MAAOtC,EAAS,MAChB,SAAWX,GAAMY,EAAY,CAAC,GAAGD,EAAU,MAAOX,EAAE,OAAO,MAAM,EACjE,SAAQ,EAAA,CACV,CAAA,EACF,EACCkD,EAAAA,KAAA,MAAI,CAAA,UAAU,aACb,SAAA,CAACD,EAAAA,IAAA,SAAM,SAAQ,WAAA,EACfA,EAAA,IAAC,QAAA,CACC,KAAK,WACL,MAAOtC,EAAS,SAChB,SAAWX,GAAMY,EAAY,CAAC,GAAGD,EAAU,SAAUX,EAAE,OAAO,MAAM,EACpE,SAAQ,EAAA,CACV,CAAA,EACF,QACC,SAAO,CAAA,KAAK,SAAS,UAAU,eAAe,SAAK,QAAA,CAAA,EACtD,CAAA,CACF,CAAA,CACF,CAAA,CAEJ,EC3DMylC,GAAqBr+B,GAAS,CAClC,GAAI,CAEF,IAAIoR,EAAYpR,EAAK,QAAQ,cAAe,EAAE,EAAE,QAAQ,UAAW,EAAE,EAGrEoR,EAAYA,EAAU,QAAQ,QAAS,EAAE,EAGzC,MAAMktB,EAAYltB,EAAU,MAAM,aAAa,EAC/C,OAAIktB,IACFltB,EAAYktB,EAAU,CAAC,GAGlB,KAAK,MAAMltB,CAAS,CAC5B,OAAQzW,EAAO,CACd,eAAQ,MAAM,sBAAuBA,CAAK,EACnC,CACL,MAAO,GACP,QAAS,2BACT,QAASqF,CACf,CACG,CACH,EAEagzB,GAAkB,MAAO16B,EAAQ26B,IAAW,CACvD,GAAI,CAEF,MAAMn0B,EAAQ,IAAIC,GAAmBk0B,CAAM,EAE3C,GAAI,CAiBF,MAAMjzB,GADW,MAJF,MAVDlB,EAAM,mBAAmB,CACrC,MAAO,wBACP,iBAAkB,CAChB,YAAa,GACb,KAAM,GACN,KAAM,IACN,gBAAiB,IAClB,CACT,CAAO,EAE0B,gBAAgB,CACzC,SAAU,CAAC,CAAE,MAAO,CAAC,CAAE,KAAMxG,EAAS;AAAA,oDAAyD,CAAA,EAAG,CAC1G,CAAO,GAE6B,UACR,OACtB,OAAO+lC,GAAkBr+B,CAAI,CAE9B,MAAe,CAEd,QAAQ,IAAI,4BAA4B,EAgBxC,MAAMA,GADW,MAJF,MAVOlB,EAAM,mBAAmB,CAC7C,MAAO,aACP,iBAAkB,CAChB,YAAa,GACb,KAAM,GACN,KAAM,IACN,gBAAiB,IAClB,CACT,CAAO,EAEkC,gBAAgB,CACjD,SAAU,CAAC,CAAE,MAAO,CAAC,CAAE,KAAMxG,EAAS;AAAA,oDAAyD,CAAA,EAAG,CAC1G,CAAO,GAE6B,UACR,OACtB,OAAO+lC,GAAkBr+B,CAAI,CAC9B,CACF,OAAQrF,EAAO,CACd,cAAQ,MAAM,oBAAqBA,CAAK,EAClCA,CACP,CACH,ECvCM8oB,GAAaC,GAAOC,EAAI,EAAE,CAAC,CAAE,MAAAnK,MAAa,CAC9C,WAAY,kCACZ,UAAW,CACT,UAAW,mBACX,UAAWA,EAAM,QAAQ,CAAC,CAC5B,EACA,WAAY,mDACd,EAAE,EAEI+kB,GAAc7a,GAAOlY,CAAG,EAAE,CAAC,CAAE,MAAAgO,MAAa,CAC9C,QAAS,OACT,WAAY,SACZ,MAAOA,EAAM,QAAQ,QAAQ,KAC7B,aAAcA,EAAM,QAAQ,CAAC,CAC/B,EAAE,EAEIglB,GAAY9a,GAAOtM,EAAI,EAAE,CAAC,CAAE,MAAAoC,MAAa,CAC7C,WAAYA,EAAM,QAAQ,QAAQ,MAClC,MAAOA,EAAM,QAAQ,QAAQ,YAC/B,EAAE,EAEIilB,GAAa/a,GAAOtM,EAAI,EAAE,CAAC,CAAE,MAAAoC,MAAa,CAC9C,WAAYA,EAAM,QAAQ,QAAQ,MAClC,MAAOA,EAAM,QAAQ,QAAQ,YAC/B,EAAE,EAGIklB,GAAoB,CACxB,OAAQ,CAAE,QAAS,CAAE,EACrB,QAAS,CACP,QAAS,EACT,WAAY,CACV,gBAAiB,EACnB,CACF,CACF,EAEMC,GAAe,CACnB,OAAQ,CAAE,EAAG,GAAI,QAAS,CAAE,EAC5B,QAAS,CACP,EAAG,EACH,QAAS,CACX,CACF,EAEMC,GAAc,IAAM,CACxB,KAAM,CAAChvB,EAASC,CAAU,EAAI9Y,WAAS,EAAK,EACtC,CAAC4D,EAAOkH,CAAQ,EAAI9K,WAAS,IAAI,EACjC,CAAC2X,EAAUmwB,CAAW,EAAI9nC,WAAS,EAAE,EACrC,CAAC+nC,EAAcC,CAAe,EAAIhoC,WAAS,IAAI,EAC/Cu8B,EAAiB,0CAEjB0L,EAAkB,MAAOtwB,GAAa,CAC1C,GAAI,CAACA,EAAU,CACb7M,EAAS,yBAAyB,EAClC,MACF,CAEAgO,EAAW,EAAI,EACfhO,EAAS,IAAI,EAET,GAAA,CAEI,MAAAo9B,EAAmB,uBAAuBvwB,CAAQ,wOAElDwwB,EAAmB,MAAMlM,GAAgBiM,EAAkB3L,CAAc,EAE/E,GAAI4L,EAAiB,MACb,MAAA,IAAI,MAAMA,EAAiB,OAAO,EAG1C,MAAMC,EAAoBD,EAAiB,kBAGvCC,EAAkB,YAAA,IAAkBzwB,EAAS,gBAC/C5V,EAAK,KAAK,CACR,KAAM,OACN,MAAO,qBACP,KAAM,wBAAwBqmC,CAAiB,iBAAiBzwB,CAAQ,IACxE,kBAAmB,GACnB,MAAO,GAAA,CACR,EACDmwB,EAAYM,CAAiB,GAIzB,MAAA7mC,EAAS,yEAAyE6mC,CAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAWnG/kC,EAAS,MAAM44B,GAAgB16B,EAAQg7B,CAAc,EAE3D,GAAIl5B,EAAO,MACH,MAAA,IAAI,MAAMA,EAAO,OAAO,EAGhC2kC,EAAgB3kC,CAAM,QACfO,EAAO,CACN,QAAA,MAAM,yBAA0BA,CAAK,EAC7CkH,EAAS,yDAAyD,CAAA,QAClE,CACAgO,EAAW,EAAK,CAClB,CAAA,gBAICrE,EAAI,CAAA,GAAI,CAAE,EAAG,GACZ,SAAA,CAAC3P,EAAA,IAAAujC,GAAA,CAAK,GAAE,GAAC,QAAS,IAChB,SAACtjC,EAAAA,KAAA2P,EAAA,CAAW,QAAQ,KAAK,aAAY,GAAC,GAAI,CACxC,UAAW,SACX,MAAO,eACP,WAAY,OACZ,GAAI,GAEJ,SAAA,CAAA5P,MAACwjC,IAAc,GAAI,CAAE,GAAI,EAAG,cAAe,QAAS,EAAG,EAAE,cAAA,CAAA,CAE3D,CAAA,CACF,EAECxjC,EAAAA,IAAAyjC,IAAK,GAAE,GAAC,QAAS,IAChB,SAACzjC,EAAA,IAAA4nB,GAAW,CAAA,GAAI,CAAE,GAAI,CAAA,EACpB,SAAC5nB,EAAA,IAAA0jC,IACC,SAACzjC,EAAAA,KAAA6a,EAAA,CAAK,UAAS,GAAC,QAAS,EAAG,WAAW,SACrC,SAAA,CAAA9a,MAAC8a,GAAK,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,SAAA9a,EAAA,IAAC+a,GAAA,CACC,UAAS,GACT,MAAM,iBACN,MAAOlI,EACP,SAAW9V,GAAMimC,EAAYjmC,EAAE,OAAO,KAAK,EAC3C,YAAY,qBAAA,CAAA,EAEhB,QACC+d,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,SAAA9a,EAAA,IAACob,GAAA,CACC,UAAS,GACT,QAAQ,YACR,QAAS,IAAM+nB,EAAgBtwB,CAAQ,EACvC,SAAUkB,EACX,SAAA,kBAAA,CAAA,EAGH,CAAA,EACF,CAAA,CACF,CACF,CAAA,EACF,EAECjV,SACEykC,GAAK,CAAA,GAAE,GACN,eAACra,GAAA,CAAM,SAAS,QAAQ,GAAI,CAAE,GAAI,GAC/B,UACH,CAAA,EACF,EAGDnV,EACE/T,EAAA,IAAA2P,EAAA,CAAI,QAAQ,OAAO,eAAe,SAAS,WAAW,SAAS,UAAU,QACxE,SAAC3P,MAAAqb,IAAiB,KAAM,GAAI,UAAW,EAAG,CAAA,CAC5C,EACE4nB,GACFjjC,EAAA,IAACipB,GAAO,IAAP,CACC,SAAU4Z,GACV,QAAQ,SACR,QAAQ,UAER,gBAAC/nB,EAAA,CAAK,UAAS,GAAC,QAAS,EAEvB,SAAA,CAAA9a,MAAC8a,EAAK,CAAA,KAAI,GAAC,GAAI,GACb,SAAC9a,EAAA,IAAAipB,GAAO,IAAP,CAAW,SAAU6Z,GACpB,SAAC9iC,MAAA4nB,GAAA,CACC,gBAAC8b,GACC,CAAA,SAAA,CAAAzjC,OAACyiC,GACC,CAAA,SAAA,CAAA1iC,EAAA,IAACwjC,GAAc,CAAA,GAAI,CAAE,GAAI,CAAA,EAAK,QAC7B5zB,EAAA,CAAW,QAAQ,KAAK,SAAkB,qBAAA,CAAA,EAC7C,QACCkL,EAAK,CAAA,UAAS,GAAC,QAAS,EACtB,WAAa,kBAAkB,IAAI,CAAC6oB,EAAY58B,IAC9C/G,EAAA,IAAA8a,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,SAAA9a,EAAA,IAACipB,GAAO,IAAP,CACC,WAAY,CAAE,MAAO,IAAK,EAC1B,SAAU,CAAE,MAAO,GAAK,EAExB,SAAAhpB,EAAAA,KAAC4a,GAAM,CAAA,UAAW,EAAG,GAAI,CAAE,EAAG,EAAG,OAAQ,MAAA,EACvC,SAAA,CAAA7a,MAAC4P,GAAW,QAAQ,KAAK,MAAM,UAC5B,WAAW,KACd,EACC5P,EAAAA,IAAA4P,EAAW,CAAA,QAAQ,QAAQ,GAAI,CAAE,GAAI,CAAE,EACrC,SAAA+zB,EAAW,YACd,EACC1jC,EAAAA,KAAA0P,EAAI,CAAA,GAAI,CAAE,QAAS,OAAQ,SAAU,OAAQ,IAAK,CAAE,EACnD,SAAA,CAAA3P,EAAA,IAAC2iC,GAAA,CACC,WAAOiB,GAAY,EAAA,EACnB,MAAOD,EAAW,YAClB,KAAK,OAAA,CACP,EACA3jC,EAAA,IAAC4iC,GAAA,CACC,WAAOiB,GAAK,EAAA,EACZ,MAAO,GAAGF,EAAW,MAAM,KAC3B,KAAK,OAAA,CACP,CAAA,EACF,CAAA,EACF,CAAA,CAAA,GAxB2B58B,CA0B/B,CACD,EACH,CAAA,EACF,CAAA,CACF,CACF,CAAA,EACF,QAGC+T,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,eAAC8M,GACC,CAAA,SAAC3nB,EAAAA,KAAAyjC,GACC,CAAA,SAAA,CAAAzjC,OAACyiC,GACC,CAAA,SAAA,CAAA1iC,EAAA,IAAC8jC,GAAW,CAAA,GAAI,CAAE,GAAI,CAAA,EAAK,QAC1Bl0B,EAAA,CAAW,QAAQ,KAAK,SAAa,gBAAA,CAAA,EACxC,EACCqzB,EAAa,UAAU,IAAI,CAACc,EAAMh9B,IAChC9G,EAAAA,KAAA0P,EAAA,CAAgB,GAAI,CAAE,GAAI,CAAA,EACzB,SAAA,CAAA3P,EAAA,IAAC4P,EAAW,CAAA,QAAQ,KAAM,SAAAm0B,EAAK,KAAK,QACnCn0B,EAAW,CAAA,QAAQ,QAAQ,UAAS,GAClC,WAAK,YACR,EACC3P,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAA,iBACXm0B,EAAK,KAAA,EACtB,EACC9jC,EAAAA,KAAA2P,EAAW,CAAA,QAAQ,QAAQ,SAAA,CAAA,UAClBm0B,EAAK,KAAA,EACf,EACCA,EAAK,SACJ/jC,EAAA,IAACub,GAAA,CACC,MAAM,YACN,MAAM,UACN,KAAK,QACL,GAAI,CAAE,GAAI,CAAE,CAAA,CACd,CAAA,CAjBM,EAAAxU,CAmBV,CACD,CAAA,CACH,CAAA,CACF,CAAA,EACF,SAGC+T,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,SAAA,CAAC9a,EAAAA,IAAA4nB,IAAW,GAAI,CAAE,GAAI,CAAE,EACtB,gBAAC8b,GACC,CAAA,SAAA,CAAAzjC,OAACyiC,GACC,CAAA,SAAA,CAAA1iC,EAAA,IAACgkC,GAAM,CAAA,GAAI,CAAE,GAAI,CAAA,EAAK,QACrBp0B,EAAA,CAAW,QAAQ,KAAK,SAAe,kBAAA,CAAA,EAC1C,EACCqzB,EAAa,OAAO,IAAI,CAAC9zB,EAAOpI,IAC9B9G,EAAAA,KAAA0P,EAAA,CAAgB,GAAI,CAAE,GAAI,CAAA,EACzB,SAAA,CAAA3P,EAAA,IAAC4P,EAAW,CAAA,QAAQ,KAAM,SAAAT,EAAM,KAAK,SACpCS,EAAA,CAAW,QAAQ,QAAQ,MAAM,gBAC/B,SAAA,CAAMT,EAAA,KAAK,OAAKA,EAAM,KAAA,EACzB,EACCnP,EAAA,IAAA4P,EAAA,CAAW,QAAQ,QACjB,WAAM,YACT,CAAA,CAPQ,EAAA7I,CAQV,CACD,CAAA,CAAA,CACH,CAAA,CACF,QAEC6gB,GACC,CAAA,SAAC3nB,EAAAA,KAAAyjC,GACC,CAAA,SAAA,CAAAzjC,OAACyiC,GACC,CAAA,SAAA,CAAA1iC,EAAA,IAACikC,GAAK,CAAA,GAAI,CAAE,GAAI,CAAA,EAAK,QACpBr0B,EAAA,CAAW,QAAQ,KAAK,SAAqB,wBAAA,CAAA,EAChD,QACCA,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,SAEtC,qBAAA,QACCA,EAAW,CAAA,UAAS,GAClB,SAAAqzB,EAAa,cAAc,gBAC9B,QAECrzB,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,SAEtC,UAAA,QACCA,EAAW,CAAA,UAAS,GAClB,SAAAqzB,EAAa,cAAc,QAC9B,QAECrzB,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,SAEtC,kBAAA,QACCA,EAAW,CAAA,UAAS,GAClB,SAAAqzB,EAAa,cAAc,eAC9B,QAECrzB,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,SAEtC,cAAA,QACCA,EAAA,CACE,SAAaqzB,EAAA,cAAc,OAC9B,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAGCjjC,EAAA,IAAA8a,GAAK,KAAI,GAAC,GAAI,GACb,SAAA9a,EAAAA,IAAC4nB,GACC,CAAA,SAAC3nB,EAAA,KAAAyjC,GACC,CAAA,SAAA,CAAAzjC,OAACyiC,GACC,CAAA,SAAA,CAAA1iC,EAAA,IAACkkC,GAAU,CAAA,GAAI,CAAE,GAAI,CAAA,EAAK,QACzBt0B,EAAA,CAAW,QAAQ,KAAK,SAAW,cAAA,CAAA,EACtC,QACCkL,EAAA,CAAK,UAAS,GAAC,QAAS,EACtB,SAAamoB,EAAA,WAAW,IAAI,CAACkB,EAAKp9B,UAChC+T,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,SAAA7a,EAAAA,KAAC4a,GAAM,CAAA,UAAW,EAAG,GAAI,CAAE,EAAG,EAAG,OAAQ,QACvC,SAAA,CAAA7a,EAAA,IAAC4P,EAAW,CAAA,QAAQ,KAAM,SAAAu0B,EAAI,KAAK,QAClCv0B,EAAW,CAAA,QAAQ,QAAQ,UAAS,GAClC,WAAI,YACP,SACCA,EAAA,CAAW,QAAQ,QAAQ,MAAM,UAAU,SAAA,CAAA,cAC9Bu0B,EAAI,GAAA,EAClB,GACF,GAT6Bp9B,CAU/B,CACD,EACH,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAGC/G,EAAA,IAAA8a,GAAK,KAAI,GAAC,GAAI,GACb,SAAA9a,EAAAA,IAAC4nB,GACC,CAAA,SAAC3nB,EAAA,KAAAyjC,GACC,CAAA,SAAA,CAAAzjC,OAACyiC,GACC,CAAA,SAAA,CAAA1iC,EAAA,IAACokC,GAAS,CAAA,GAAI,CAAE,GAAI,CAAA,EAAK,QACxBx0B,EAAA,CAAW,QAAQ,KAAK,SAAa,gBAAA,CAAA,EACxC,EACA5P,EAAAA,IAAC8a,GAAK,UAAS,GAAC,QAAS,EACtB,SAAAmoB,EAAa,aAAa,IAAI,CAACoB,EAAKt9B,IACnC/G,EAAA,IAAC8a,GAAK,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,SAAA7a,EAAAA,KAAC2P,EAAW,CAAA,SAAA,CAAA,KAAGy0B,GAAI,GADUt9B,CAE/B,CACD,EACH,CAAA,CACF,CAAA,CACF,CAAA,EACF,CAAA,EACF,CAAA,CACF,GAEJ,CAEJ,ECnXMu9B,GAAgB,IAAM,CAC1B,KAAM,CAACvwB,EAASC,CAAU,EAAI9Y,WAAS,EAAK,EACtC,CAAC4D,EAAOkH,CAAQ,EAAI9K,WAAS,IAAI,EACjC,CAACqpC,EAAMC,CAAO,EAAItpC,WAAS,EAAE,EAC7B,CAACupC,EAAIC,CAAK,EAAIxpC,WAAS,EAAE,EACzB,CAACypC,EAAeC,CAAgB,EAAI1pC,WAAS,IAAI,EACjDu8B,EAAiB,0CAEjBoN,EAAmB,SAAY,CAC/B,GAAA,CAACN,GAAQ,CAACE,EAAI,CAChBz+B,EAAS,6BAA6B,EACtC,MACF,CAEAgO,EAAW,EAAI,EACfhO,EAAS,IAAI,EAET,GAAA,CAEF,MAAMo9B,EAAmB,8BAA8BmB,CAAI,cAAcE,CAAE,mTAErEpB,EAAmB,MAAMlM,GAAgBiM,EAAkB3L,CAAc,EAE/E,GAAI4L,EAAiB,MACb,MAAA,IAAI,MAAMA,EAAiB,OAAO,EAG1C,MAAMyB,EAAgBzB,EAAiB,aACjC0B,EAAc1B,EAAiB,YAGjCyB,EAAc,gBAAkBP,EAAK,YAAA,GACrCQ,EAAY,YAAY,IAAMN,EAAG,iBACnCxnC,EAAK,KAAK,CACR,KAAM,OACN,MAAO,sBACP,KAAM;AAAA,kBACEsnC,IAASO,EAAgB,iBAAiBA,CAAa,sBAAsBP,CAAI,SAAW,EAAE;AAAA,kBAC9FE,IAAOM,EAAc,eAAeA,CAAW,sBAAsBN,CAAE,KAAO,EAAE,GACxF,kBAAmB,GACnB,MAAO,GAAA,CACR,EAGDD,EAAQM,CAAa,EACrBJ,EAAMK,CAAW,GAInB,MAAMtoC,EAAS,uFAAuFqoC,CAAa,OAAOC,CAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAW/HxmC,EAAS,MAAM44B,GAAgB16B,EAAQg7B,CAAc,EAE3D,GAAIl5B,EAAO,MACH,MAAA,IAAI,MAAMA,EAAO,OAAO,EAGhCqmC,EAAiBrmC,CAAM,QAChBO,EAAO,CACN,QAAA,MAAM,wCAAyCA,CAAK,EAC5DkH,EAAS,0DAA0D,CAAA,QACnE,CACAgO,EAAW,EAAK,CAClB,CAAA,gBAICrE,EAAI,CAAA,GAAI,CAAE,EAAG,GACZ,SAAA,CAAA3P,MAAC4P,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,SAEtC,kBAAA,QAECkY,GAAK,CAAA,GAAI,CAAE,GAAI,GACd,SAAC9nB,EAAA,IAAA0jC,GACC,CAAA,SAAAzjC,OAAC6a,GAAK,UAAS,GAAC,QAAS,EAAG,WAAW,SACrC,SAAA,CAAA9a,MAAC8a,GAAK,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,SAAA9a,EAAA,IAAC+a,GAAA,CACC,UAAS,GACT,MAAM,OACN,MAAOwpB,EACP,SAAWxnC,GAAMynC,EAAQznC,EAAE,OAAO,KAAK,EACvC,YAAY,cAAA,CAAA,EAEhB,QACC+d,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,SAAA9a,EAAA,IAAC+a,GAAA,CACC,UAAS,GACT,MAAM,KACN,MAAO0pB,EACP,SAAW1nC,GAAM2nC,EAAM3nC,EAAE,OAAO,KAAK,EACrC,YAAY,aAAA,CAAA,EAEhB,QACC+d,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,SAAA9a,EAAA,IAACob,GAAA,CACC,UAAS,GACT,QAAQ,YACR,QAASypB,EACT,SAAU9wB,EACV,GAAI,CAAE,OAAQ,MAAO,EACtB,SAAA,eAAA,CAAA,EAGH,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAECjV,GACEkB,EAAA,IAAAkpB,GAAA,CAAM,SAAS,QAAQ,GAAI,CAAE,GAAI,CAAA,EAC/B,SACHpqB,EAAA,EAGDiV,EACE/T,EAAAA,IAAA2P,EAAA,CAAI,QAAQ,OAAO,eAAe,SACjC,SAAA3P,EAAAA,IAACqb,GAAiB,CAAA,CAAA,EACpB,EACEspB,GACD1kC,EAAAA,KAAA6a,GAAK,UAAS,GAAC,QAAS,EAEvB,SAAA,OAACA,EAAA,CAAK,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,eAACgN,GACC,CAAA,SAAC7nB,EAAAA,KAAAyjC,GACC,CAAA,SAAA,CAACzjC,EAAAA,KAAA2P,EAAA,CAAW,QAAQ,KAAK,aAAY,GAAC,GAAI,CAAE,QAAS,OAAQ,WAAY,QAAA,EACvE,SAAA,CAAA5P,EAAA,IAACglC,GAAO,CAAA,GAAI,CAAE,GAAI,CAAA,EAAK,EAAE,SAAA,EAE3B,EACCL,EAAc,QAAQ,IAAI,CAACM,EAAQl+B,IACjC9G,EAAAA,KAAA0P,EAAA,CAAgB,GAAI,CAAE,GAAI,CAAA,EACzB,SAAA,CAAC1P,EAAAA,KAAA2P,EAAA,CAAW,QAAQ,KAAK,SAAA,CAAA,UAAQ7I,EAAQ,CAAA,EAAE,SAC1C+T,EAAA,CAAK,UAAS,GAAC,QAAS,EACvB,SAAA,QAACA,EAAK,CAAA,KAAI,GAAC,GAAI,EACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAQ,WAAA,QACzDA,EAAY,CAAA,SAAAq1B,EAAO,SAAS,CAAA,EAC/B,SACCnqB,EAAA,CAAK,KAAI,GAAC,GAAI,EACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAW,cAAA,QAC5DA,EAAY,CAAA,SAAAq1B,EAAO,WAAW,CAAA,EACjC,SACCnqB,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAQ,WAAA,QACzDA,EAAY,CAAA,SAAAq1B,EAAO,SAAS,CAAA,EAC/B,SACCnqB,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAS,YAAA,QAC1DA,EAAY,CAAA,SAAAq1B,EAAO,UAAU,CAAA,EAChC,QACCnqB,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA9a,EAAA,IAACub,GAAA,CACC,WAAO0oB,GAAK,EAAA,EACZ,MAAO,sBAAsBgB,EAAO,cAAc,GAClD,GAAI,CAAE,GAAI,EAAG,GAAI,CAAE,CAAA,CAAA,EAEvB,QACCnqB,EAAK,CAAA,KAAI,GAAC,GAAI,GACb,gBAAClL,EAAW,CAAA,QAAQ,QAAQ,GAAI,CAAE,gBAAiB,UAAW,EAAG,EAAG,aAAc,CAAE,EAAG,SAAA,CAAA,oBACnEq1B,EAAO,YAAA,CAAA,CAC3B,CAAA,CACF,CAAA,EACF,EACCl+B,EAAQ49B,EAAc,QAAQ,OAAS,GAAM3kC,EAAAA,IAAAmd,GAAA,CAAQ,GAAI,CAAE,GAAI,GAAK,CAAA,CAhC7D,EAAApW,CAiCV,CACD,CAAA,CACH,CAAA,CACF,CAAA,EACF,QAGC+T,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,eAACgN,GACC,CAAA,SAAC7nB,EAAAA,KAAAyjC,GACC,CAAA,SAAA,CAACzjC,EAAAA,KAAA2P,EAAA,CAAW,QAAQ,KAAK,aAAY,GAAC,GAAI,CAAE,QAAS,OAAQ,WAAY,QAAA,EACvE,SAAA,CAAA5P,EAAA,IAACklC,GAAM,CAAA,GAAI,CAAE,GAAI,CAAA,EAAK,EAAE,QAAA,EAE1B,EACCP,EAAc,OAAO,IAAI,CAACQ,EAAOp+B,IAC/B9G,EAAAA,KAAA0P,EAAA,CAAgB,GAAI,CAAE,GAAI,CAAA,EACzB,SAAA,CAAC1P,EAAAA,KAAA2P,EAAA,CAAW,QAAQ,KAAK,SAAA,CAAA,UAAQ7I,EAAQ,CAAA,EAAE,SAC1C+T,EAAA,CAAK,UAAS,GAAC,QAAS,EACvB,SAAA,QAACA,EAAK,CAAA,KAAI,GAAC,GAAI,EACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAQ,WAAA,QACzDA,EAAY,CAAA,SAAAu1B,EAAM,SAAS,CAAA,EAC9B,SACCrqB,EAAA,CAAK,KAAI,GAAC,GAAI,EACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAW,cAAA,QAC5DA,EAAY,CAAA,SAAAu1B,EAAM,WAAW,CAAA,EAChC,SACCrqB,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAW,cAAA,QAC5DA,EAAY,CAAA,SAAAu1B,EAAM,WAAW,CAAA,EAChC,SACCrqB,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAS,YAAA,QAC1DA,EAAY,CAAA,SAAAu1B,EAAM,UAAU,CAAA,EAC/B,SACCrqB,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAY,eAAA,QAC7DA,EAAY,CAAA,SAAAu1B,EAAM,YAAY,CAAA,EACjC,SACCrqB,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAS,YAAA,EAC1Du1B,EAAM,UAAU,MAAM,GAAG,EAAE,IAAI,CAACzyB,EAAStL,IACxCpH,EAAA,IAACub,GAAA,CAEC,MAAO7I,EAAQ,KAAK,EACpB,KAAK,QACL,GAAI,CAAE,GAAI,EAAG,GAAI,CAAE,CAAA,EAHdtL,CAAA,CAKR,CAAA,EACH,CAAA,EACF,EACCL,EAAQ49B,EAAc,OAAO,OAAS,GAAM3kC,EAAAA,IAAAmd,GAAA,CAAQ,GAAI,CAAE,GAAI,GAAK,CAAA,CAnC5D,EAAApW,CAoCV,CACD,CAAA,CACH,CAAA,CACF,CAAA,EACF,QAGC+T,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,eAACgN,GACC,CAAA,SAAC7nB,EAAAA,KAAAyjC,GACC,CAAA,SAAA,CAACzjC,EAAAA,KAAA2P,EAAA,CAAW,QAAQ,KAAK,aAAY,GAAC,GAAI,CAAE,QAAS,OAAQ,WAAY,QAAA,EACvE,SAAA,CAAA5P,EAAA,IAAColC,GAAc,CAAA,GAAI,CAAE,GAAI,CAAA,EAAK,EAAE,OAAA,EAElC,EACCT,EAAc,MAAM,IAAI,CAACU,EAAKt+B,IAC5B9G,EAAAA,KAAA0P,EAAA,CAAgB,GAAI,CAAE,GAAI,CAAA,EACzB,SAAA,CAAC1P,EAAAA,KAAA2P,EAAA,CAAW,QAAQ,KAAK,SAAA,CAAA,UAAQ7I,EAAQ,CAAA,EAAE,SAC1C+T,EAAA,CAAK,UAAS,GAAC,QAAS,EACvB,SAAA,QAACA,EAAK,CAAA,KAAI,GAAC,GAAI,EACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAQ,WAAA,QACzDA,EAAY,CAAA,SAAAy1B,EAAI,SAAS,CAAA,EAC5B,SACCvqB,EAAA,CAAK,KAAI,GAAC,GAAI,EACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAW,cAAA,QAC5DA,EAAY,CAAA,SAAAy1B,EAAI,WAAW,CAAA,EAC9B,SACCvqB,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAS,YAAA,QAC1DA,EAAY,CAAA,SAAAy1B,EAAI,UAAU,CAAA,EAC7B,SACCvqB,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAS,YAAA,QAC1DA,EAAY,CAAA,SAAAy1B,EAAI,UAAU,CAAA,EAC7B,SACCvqB,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAa,gBAAA,QAC9DA,EAAY,CAAA,SAAAy1B,EAAI,QAAQ,CAAA,EAC3B,SACCvqB,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAK,QAAA,QACtDA,EAAY,CAAA,SAAAy1B,EAAI,MAAM,CAAA,EACzB,CAAA,EACF,EACCt+B,EAAQ49B,EAAc,MAAM,OAAS,GAAM3kC,EAAAA,IAAAmd,GAAA,CAAQ,GAAI,CAAE,GAAI,GAAK,CAAA,CA5B3D,EAAApW,CA6BV,CACD,CAAA,CACH,CAAA,CACF,CAAA,EACF,QAGC+T,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,eAACgN,GACC,CAAA,SAAC7nB,EAAAA,KAAAyjC,GACC,CAAA,SAAA,CAACzjC,EAAAA,KAAA2P,EAAA,CAAW,QAAQ,KAAK,aAAY,GAAC,GAAI,CAAE,QAAS,OAAQ,WAAY,QAAA,EACvE,SAAA,CAAA5P,EAAA,IAACslC,GAAc,CAAA,GAAI,CAAE,GAAI,CAAA,EAAK,EAAE,SAAA,EAElC,SACCxqB,EAAA,CAAK,UAAS,GAAC,QAAS,EACvB,SAAA,QAACA,EAAK,CAAA,KAAI,GAAC,GAAI,EACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAQ,WAAA,QACzDA,EAAA,CAAY,SAAc+0B,EAAA,QAAQ,SAAS,CAAA,EAC9C,SACC7pB,EAAA,CAAK,KAAI,GAAC,GAAI,EACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAQ,WAAA,QACzDA,EAAA,CAAY,SAAc+0B,EAAA,QAAQ,SAAS,CAAA,EAC9C,SACC7pB,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAgB,mBAAA,EACjE+0B,EAAc,QAAQ,gBAAgB,IAAI,CAACY,EAAWx+B,IACrD/G,EAAA,IAACub,GAAA,CAEC,WAAOiqB,GAAW,EAAA,EAClB,MAAOD,EACP,GAAI,CAAE,GAAI,EAAG,GAAI,CAAE,CAAA,EAHdx+B,CAAA,CAKR,CAAA,EACH,SACC+T,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAe,kBAAA,QAChEA,EAAA,CAAY,SAAc+0B,EAAA,QAAQ,eAAe,CAAA,EACpD,SACC7pB,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAU,aAAA,QAC3DA,EAAA,CAAY,SAAc+0B,EAAA,QAAQ,UAAU,CAAA,EAC/C,SACC7pB,EAAA,CAAK,KAAI,GAAC,GAAI,GACb,SAAA,CAAA9a,MAAC4P,EAAW,CAAA,QAAQ,QAAQ,MAAM,gBAAgB,SAAgB,mBAAA,QACjEA,EAAA,CAAY,SAAc+0B,EAAA,QAAQ,SAAS,CAAA,EAC9C,CAAA,EACF,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAGC3kC,EAAA,IAAA8a,GAAK,KAAI,GAAC,GAAI,GACb,SAAA9a,EAAAA,IAAC8nB,GACC,CAAA,SAAC7nB,EAAA,KAAAyjC,GACC,CAAA,SAAA,CAAA1jC,MAAC4P,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,SAEtC,cAAA,EACC5P,EAAA,IAAA8a,EAAA,CAAK,UAAS,GAAC,QAAS,EACtB,SAAc6pB,EAAA,YAAY,IAAI,CAACN,EAAKt9B,UAClC+T,EAAA,CAAK,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,SAAC7a,OAAA2P,EAAA,CAAW,GAAI,CAAE,QAAS,OAAQ,WAAY,UAC7C,SAAA,CAAA5P,MAACikC,IAAK,GAAI,CAAE,GAAI,EAAG,MAAO,cAAe,EAAG,EAC3CI,GACH,GAJ6Bt9B,CAK/B,CACD,EACH,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAGC/G,EAAA,IAAA8a,GAAK,KAAI,GAAC,GAAI,GACb,SAAA9a,EAAAA,IAAC8nB,GACC,CAAA,SAAC7nB,EAAA,KAAAyjC,GACC,CAAA,SAAA,CAAA1jC,MAAC4P,EAAW,CAAA,QAAQ,KAAK,aAAY,GAAC,SAEtC,uBAAA,SACCkL,EAAA,CAAK,UAAS,GAAC,QAAS,EACvB,SAAA,CAAA7a,OAAC6a,GAAK,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,SAAA,OAAClL,EAAA,CAAW,QAAQ,KAAK,SAAW,cAAA,QACnCA,EAAA,CAAY,SAAc+0B,EAAA,aAAa,KAAK,CAAA,EAC/C,SACC7pB,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,SAAA,OAAClL,EAAA,CAAW,QAAQ,KAAK,SAAe,kBAAA,QACvCA,EAAA,CAAY,SAAc+0B,EAAA,aAAa,QAAQ,CAAA,EAClD,SACC7pB,EAAK,CAAA,KAAI,GAAC,GAAI,GAAI,GAAI,EACrB,SAAA,OAAClL,EAAA,CAAW,QAAQ,KAAK,SAAsB,yBAAA,QAC9CA,EAAA,CAAY,SAAc+0B,EAAA,aAAa,sBAAsB,CAAA,EAChE,CAAA,EACF,CAAA,CACF,CAAA,CACF,CAAA,EACF,CAAA,EACF,GAEJ,CAEJ,EC/WMc,GAAc5d,GAAOhN,EAAK,EAAE,CAAC,CAAE,MAAA8C,MAAa,CAChD,QAASA,EAAM,QAAQ,CAAC,EACxB,aAAcA,EAAM,QAAQ,CAAC,EAC7B,WAAY,oDACZ,aAAcA,EAAM,QAAQ,CAAC,EAC7B,UAAW,6BACX,WAAY,6BACZ,UAAW,CACT,UAAW,kBACb,CACF,EAAE,EAEI+nB,GAAa7d,GAAO8d,EAAI,EAAE,CAAC,CAAE,MAAAhoB,MAAa,CAC9C,uBAAwB,CACtB,OAAQ,EACR,aAAc,GAChB,EACA,iBAAkB,CAChB,UAAW,GACX,SAAU,OACV,cAAe,OACf,WAAY,IACZ,WAAY,WACZ,UAAW,CACT,MAAOA,EAAM,QAAQ,QAAQ,KAC7B,QAAS,CACX,EACA,iBAAkB,CAChB,MAAOA,EAAM,QAAQ,QAAQ,IAC/B,CACF,CACF,EAAE,EAEIioB,GAAW,CAAC,CAAE,SAAAxuB,EAAU,MAAApZ,EAAO,MAAA+I,EAAO,GAAG8+B,KAC7C7lC,EAAA,IAAC,MAAA,CACC,KAAK,WACL,OAAQhC,IAAU+I,EAClB,GAAI,mBAAmBA,CAAK,GAC5B,kBAAiB,cAAcA,CAAK,GACnC,GAAG8+B,EAEH,aAAU9+B,GACT/G,EAAA,IAACujC,GAAK,CAAA,GAAE,GAAC,QAAS,IAChB,SAACvjC,MAAA2P,EAAA,CAAI,GAAI,CAAE,GAAI,CAAE,EAAI,SAAAyH,CAAS,CAAA,EAChC,CAAA,CAEJ,EAGI0uB,GAAQ,IAAM,CACVryB,KACR,KAAM,CAACouB,EAAWC,CAAY,EAAI5mC,WAAS,CAAC,EAEtC6qC,EAAkB,CAAC52B,EAAOC,IAAa,CAC3C0yB,EAAa1yB,CAAQ,CAAA,EAIjByzB,EAAoB,CACxB,OAAQ,CAAE,QAAS,EAAG,EAAG,EAAG,EAC5B,QAAS,CACP,QAAS,EACT,EAAG,EACH,WAAY,CACV,SAAU,GACV,KAAM,SACR,CACF,CAAA,EAGF,OAEE5iC,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACF,EAAAA,IAAA,MAAA,CAAI,UAAU,UACb,SAAAA,EAAA,IAAC4B,IAAO,MAAM,oBAAoB,SAAS,uBAAA,CAAwB,CACrE,CAAA,EACA3B,EAAAA,KAAC+oB,GAAU,CAAA,SAAS,KAClB,SAAA,CAAAhpB,EAAA,IAACmd,GAAQ,CAAA,GAAI,CAAE,GAAI,GAAK,EAExBnd,EAAA,IAACipB,GAAO,IAAP,CACC,QAAQ,SACR,QAAQ,UACR,SAAU4Z,EAEV,SAAA5iC,EAAA,KAACwlC,GAAY,CAAA,UAAW,EACtB,SAAA,CAAAxlC,OAAC0P,GAAI,GAAI,CAAE,UAAW,SAAU,GAAI,CAClC,EAAA,SAAA,CAAA3P,EAAA,IAACgmC,GAAA,CACC,GAAI,CACF,SAAU,GACV,MAAO,eACP,GAAI,CACN,CAAA,CACF,EACAhmC,EAAA,IAAC4P,EAAA,CACC,QAAQ,KACR,UAAU,KACV,GAAI,CACF,WAAY,IACZ,WAAY,mDACZ,qBAAsB,OACtB,oBAAqB,aACvB,EACD,SAAA,oBAAA,CAED,CAAA,EACF,EAEA3P,EAAA,KAACylC,GAAA,CACC,MAAO7D,EACP,SAAUkE,EACV,QAAQ,YACR,SAAQ,GACR,GAAI,CAAE,aAAc,EAAG,YAAa,SAAU,EAE9C,SAAA,CAAA/lC,EAAA,IAACimC,GAAA,CACC,WAAOC,GAAM,EAAA,EACb,MAAM,gBACN,GAAI,CACF,QAAS,OACT,cAAe,MACf,WAAY,SACZ,qBAAsB,CACpB,GAAI,CACN,CACF,CAAA,CACF,EACAlmC,EAAA,IAACimC,GAAA,CACC,WAAOE,GAAkB,EAAA,EACzB,MAAM,YACN,GAAI,CACF,QAAS,OACT,cAAe,MACf,WAAY,SACZ,qBAAsB,CACpB,GAAI,CACN,CACF,CAAA,CACF,CAAA,CAAA,CACF,EAEAnmC,EAAAA,IAAC4lC,IAAS,MAAO/D,EAAW,MAAO,EACjC,SAAA7hC,EAAA,IAAC+iC,KAAY,CACf,CAAA,EAEA/iC,EAAAA,IAAC4lC,IAAS,MAAO/D,EAAW,MAAO,EACjC,SAAA7hC,EAAA,IAACskC,KAAc,CACjB,CAAA,CAAA,EACF,CAAA,CACF,CAAA,EACF,CACA,CAAA,CAAA,CAEJ,EClKMmB,GAAc5d,GAAOhN,EAAK,EAAE,CAAC,CAAE,MAAA8C,MAAa,CAChD,QAASA,EAAM,QAAQ,CAAC,EACxB,aAAcA,EAAM,QAAQ,CAAC,EAC7B,WAAY,oDACZ,aAAcA,EAAM,QAAQ,CAAC,EAC7B,UAAW,4BACb,EAAE,EAEIyoB,GAAY,IAAM,CACtB,MAAMnoC,EAAWzD,KACX,CAACuZ,EAASC,CAAU,EAAI9Y,WAAS,EAAK,EACtC,CAAC4D,EAAOkH,CAAQ,EAAI9K,WAAS,IAAI,EACjC,CAACmrC,EAASC,CAAU,EAAIprC,WAAS,IAAI,EACrC,CAACqrC,EAASC,CAAU,EAAItrC,WAAS,IAAI,EACrCyB,EAAWC,SAAO,IAAI,EACtB6pC,EAAe7pC,SAAO,IAAI,EAEhCnC,EAAAA,UAAU,KACUisC,IACX,IAAM,CACPH,GACFA,EAAQ,KAAK,CACf,GAED,CAAE,CAAA,EAEL,MAAMG,EAAoB,SAAY,CAChC,GAAA,CACF,MAAMC,EAAa,IAAIC,GACrBjqC,EAAS,QACT,MAAM4B,GAAU,CACR,MAAAsoC,EAAiBtoC,EAAO,IAAI,CACpC,EACA,CACE,gBAAiB,cACjB,oBAAqB,GACrB,qBAAsB,EACxB,CAAA,EAGFioC,EAAWG,CAAU,EACrB,MAAMA,EAAW,cACVzpC,EAAK,CACZ8I,EAAS,uEAAuE,EACxE,QAAA,MAAM,gCAAiC9I,CAAG,CACpD,CAAA,EAGI2pC,EAAmB,MAAO7e,GAAW,SACzC,GAAI,CAACjU,EAAS,CACZC,EAAW,EAAI,EACfhO,EAAS,IAAI,EAET,GAAA,CACI,MAAAlG,EAAW,MAAM/E,GAAM,KAC3B,wCACA,CACE,OAAAitB,EACA,UAAW,IAAI,KAAK,EAAE,YAAY,CACpC,EACA,CACE,QAAS,CACP,eAAgB,kBAClB,CACF,CAAA,EAGE,GAAAloB,EAAS,KAAK,QACLwmC,EAAAxmC,EAAS,KAAK,OAAO,EAChCgnC,EAAU,SAAS,EACfP,GACFA,EAAQ,KAAK,EAIf,WAAW,IAAM,CACftoC,EAAS,GAAG,GACX,GAAI,MAEP,OAAM,IAAI,MAAM6B,EAAS,KAAK,SAAW,2BAA2B,QAE/D5C,EAAK,CACJ,QAAA,MAAM,uBAAwBA,CAAG,EACzC8I,IACErH,GAAAD,EAAAxB,EAAI,WAAJ,YAAAwB,EAAc,OAAd,YAAAC,EAAoB,UACpBzB,EAAI,SACJ,8CAAA,EAEF4pC,EAAU,OAAO,CAAA,QACjB,CACA9yB,EAAW,EAAK,CAClB,CACF,CAAA,EAGI4F,EAAmB,MAAOzK,GAAU,OACxC,MAAM4F,GAAOrW,EAAAyQ,EAAM,OAAO,QAAb,YAAAzQ,EAAqB,GAClC,GAAKqW,EAEL,CAAAf,EAAW,EAAI,EACfhO,EAAS,IAAI,EAET,GAAA,CACF,MAAMzH,EAAS,MAAMqoC,GAAU,UAAU7xB,CAAI,EAC7C,MAAM8xB,EAAiBtoC,CAAM,OACf,CACdyH,EAAS,8DAA8D,EACvE8gC,EAAU,OAAO,CAAA,QACjB,CACA9yB,EAAW,EAAK,EACZyyB,EAAa,UACfA,EAAa,QAAQ,MAAQ,GAEjC,EAAA,EAGIK,EAAa32B,GAAS,CACZ,IAAI,MAAM,WAAWA,CAAI,MAAM,EACvC,KAAK,EAAE,MAAM,QAAQ,KAAK,CAAA,EAG5B42B,EAAe,SAAY,CAC/B/gC,EAAS,IAAI,EACbsgC,EAAW,IAAI,EACXC,GACF,MAAMA,EAAQ,QAEZE,EAAa,UACfA,EAAa,QAAQ,MAAQ,GAC/B,EAIC,OAAAzmC,EAAA,IAAAgpB,GAAA,CAAU,SAAS,KAClB,gBAACyc,GACC,CAAA,SAAA,CAAAzlC,EAAAA,IAAC4P,GAAW,QAAQ,KAAK,aAAY,GAAC,MAAM,SAAS,SAErD,iBAAA,CAAA,SAECD,EAAI,CAAA,GAAI,CAAE,GAAI,GACb,SAAA,CAAA3P,EAAA,IAAC,QAAA,CACC,IAAKrD,EACL,MAAO,CACL,MAAO,OACP,aAAc,MACd,UAAW,QACX,UAAW,OACb,CAAA,CACF,QACCiT,EAAA,CAAW,QAAQ,QAAQ,MAAM,iBAAiB,MAAM,SAAS,GAAI,CAAE,GAAI,CAAA,EAAK,SAEjF,wCAAA,CAAA,EACF,EAEA3P,OAAC0P,GAAI,GAAI,CAAE,UAAW,SAAU,GAAI,CAAE,EACpC,SAAA,CAAA3P,EAAA,IAAC,QAAA,CACC,IAAKymC,EACL,KAAK,OACL,OAAO,UACP,SAAU7sB,EACV,MAAO,CAAE,QAAS,MAAO,EACzB,GAAG,eAAA,CACL,EACC5Z,EAAAA,IAAA,QAAM,CAAA,QAAQ,gBACb,SAAAA,EAAA,IAACob,GAAA,CACC,QAAQ,WACR,UAAU,OACV,GAAI,CAAE,GAAI,CAAE,EACb,SAAA,cAAA,CAAA,EAGH,CAAA,EACF,EAECrH,GACE9T,EAAAA,KAAA+mC,GAAA,CAAM,WAAW,SAAS,QAAS,EAAG,GAAI,CAAE,GAAI,CAAA,EAC/C,SAAA,CAAAhnC,EAAA,IAACqb,GAAiB,EAAA,EACjBrb,EAAAA,IAAA4P,GAAW,SAAqB,wBAAA,CAAA,EACnC,EAGD9Q,GACEkB,EAAA,IAAAkpB,GAAA,CAAM,SAAS,QAAQ,GAAI,CAAE,GAAI,CAAA,EAC/B,SACHpqB,EAAA,EAGDunC,GACEpmC,EAAA,KAAAipB,GAAM,CAAA,SAAS,UAAU,GAAI,CAAE,GAAI,CAAE,EACnC,SAAA,CAAAmd,EACArmC,EAAAA,IAAA4P,GAAW,QAAQ,QAAQ,GAAI,CAAE,GAAI,CAAE,EAAG,SAE3C,6BAAA,CAAA,CAAA,EACF,GAGA9Q,GAASunC,IACRrmC,MAAA2P,EAAI,CAAA,GAAI,CAAE,UAAW,SAAU,GAAI,CAAE,EACpC,SAAA3P,EAAA,IAACob,GAAA,CACC,QAAQ,YACR,QAAS2rB,EACT,MAAM,UACP,SAAA,YAAA,CAAA,EAGH,CAAA,CAEJ,CAAA,CACF,CAAA,CAEJ,EC7MA,SAASE,IAAK,CAGL,OAAAjnC,EAAAA,IAACknC,GACE,CAAA,SAAAjnC,EAAAA,KAACoiC,GACD,CAAA,SAAA,CAAAriC,MAACsiC,IAAM,KAAK,IAAI,QAAUtiC,MAACkI,IAAK,CAAA,EAAK,QACpCo6B,GAAM,CAAA,KAAK,UAAU,QAAUtiC,MAAClF,IAAS,CAAA,EAAK,QAC9CwnC,GAAM,CAAA,KAAK,gBAAgB,QAAUtiC,MAAC+L,IAAa,CAAA,EAAK,QACxDu2B,GAAM,CAAA,KAAK,UAAU,QAAUtiC,MAAC0I,IAAO,CAAA,EAAK,QAC5C45B,GAAM,CAAA,KAAK,SAAS,QAAUtiC,MAAC6M,IAAM,CAAA,EAAK,QAC1Cy1B,GAAM,CAAA,KAAK,YAAY,QAAUtiC,MAACqQ,IAAS,CAAA,EAAK,QAChDiyB,GAAM,CAAA,KAAK,QAAQ,QAAUtiC,MAAC4S,IAAK,CAAA,EAAK,QACxC0vB,GAAM,CAAA,KAAK,gBAAgB,QAAUtiC,MAACoW,IAAiB,CAAA,EAAK,QAC5DksB,GAAM,CAAA,KAAK,eAAe,QAAUtiC,MAAC2b,IAAY,CAAA,EAAK,QACtD2mB,GAAM,CAAA,KAAK,eAAe,QAAStiC,MAAC0T,IAAW,CAAA,EAAI,QACnD4uB,GAAM,CAAA,KAAK,aAAa,QAAStiC,MAACod,IAAU,CAAA,EAAI,QAChDklB,GAAM,CAAA,KAAK,8BAA8B,QAAStiC,MAACopB,IAAe,CAAA,EAAI,QACtEkZ,GAAM,CAAA,KAAK,eAAe,QAAStiC,MAACusB,IAAe,CAAA,EAAI,QACvD+V,GAAM,CAAA,KAAK,gBAAgB,QAAStiC,MAACwsB,IAAW,CAAA,EAAI,QACpD8V,GAAM,CAAA,KAAK,gBAAgB,QAAStiC,MAACoiC,IAAiB,CAAA,EAAI,QAC1DE,GAAM,CAAA,KAAK,oBAAoB,QAAStiC,MAACuiC,IAAM,CAAA,EAAI,QACnDD,GAAM,CAAA,KAAK,SAAS,QAAStiC,MAAC8lC,IAAM,CAAA,EAAI,QACxCxD,GAAM,CAAA,KAAK,aAAa,QAAStiC,MAAComC,IAAU,CAAA,EAAI,CAAA,CAEjD,CAAA,CACH,CAAA,CAER,CC3CDe,GAAS,WAAW,SAAS,eAAe,MAAM,CAAC,EAAE,aAClDC,GAAM,WAAN,CACC,SAAApnC,EAAAA,IAACinC,IAAI,CAAA,EACP,CACF"}